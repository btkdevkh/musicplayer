(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function yc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ed={exports:{}},so={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function CR(){if(rE)return so;rE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:u}}return so.Fragment=e,so.jsx=n,so.jsxs=n,so}var sE;function DR(){return sE||(sE=1,Ed.exports=CR()),Ed.exports}var H=DR(),_d={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function OR(){if(aE)return Te;aE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,P={};function q(E,I,j){this.props=E,this.context=I,this.refs=P,this.updater=j||A}q.prototype.isReactComponent={},q.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},q.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function z(){}z.prototype=q.prototype;function G(E,I,j){this.props=E,this.context=I,this.refs=P,this.updater=j||A}var M=G.prototype=new z;M.constructor=G,U(M,q.prototype),M.isPureReactComponent=!0;var Y=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function X(E,I,j,F,ee,fe){return j=fe.ref,{$$typeof:t,type:E,key:I,ref:j!==void 0?j:null,props:fe}}function J(E,I){return X(E.type,I,void 0,void 0,void 0,E.props)}function me(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function ye(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(j){return I[j]})}var Ee=/\/+/g;function le(E,I){return typeof E=="object"&&E!==null&&E.key!=null?ye(""+E.key):I.toString(36)}function ze(){}function Ie(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ze,ze):(E.status="pending",E.then(function(I){E.status==="pending"&&(E.status="fulfilled",E.value=I)},function(I){E.status==="pending"&&(E.status="rejected",E.reason=I)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Se(E,I,j,F,ee){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var ae=!1;if(E===null)ae=!0;else switch(fe){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(E.$$typeof){case t:case e:ae=!0;break;case y:return ae=E._init,Se(ae(E._payload),I,j,F,ee)}}if(ae)return ee=ee(E),ae=F===""?"."+le(E,0):F,Y(ee)?(j="",ae!=null&&(j=ae.replace(Ee,"$&/")+"/"),Se(ee,I,j,"",function(wn){return wn})):ee!=null&&(me(ee)&&(ee=J(ee,j+(ee.key==null||E&&E.key===ee.key?"":(""+ee.key).replace(Ee,"$&/")+"/")+ae)),I.push(ee)),1;ae=0;var $e=F===""?".":F+":";if(Y(E))for(var Me=0;Me<E.length;Me++)F=E[Me],fe=$e+le(F,Me),ae+=Se(F,I,j,fe,ee);else if(Me=S(E),typeof Me=="function")for(E=Me.call(E),Me=0;!(F=E.next()).done;)F=F.value,fe=$e+le(F,Me++),ae+=Se(F,I,j,fe,ee);else if(fe==="object"){if(typeof E.then=="function")return Se(Ie(E),I,j,F,ee);throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ae}function x(E,I,j){if(E==null)return E;var F=[],ee=0;return Se(E,F,"","",function(fe){return I.call(j,fe,ee++)}),F}function Q(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(j){(E._status===0||E._status===-1)&&(E._status=1,E._result=j)},function(j){(E._status===0||E._status===-1)&&(E._status=2,E._result=j)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var te=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function W(){}return Te.Children={map:x,forEach:function(E,I,j){x(E,function(){I.apply(this,arguments)},j)},count:function(E){var I=0;return x(E,function(){I++}),I},toArray:function(E){return x(E,function(I){return I})||[]},only:function(E){if(!me(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Te.Component=q,Te.Fragment=n,Te.Profiler=o,Te.PureComponent=G,Te.StrictMode=s,Te.Suspense=p,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(E){return N.H.useMemoCache(E)}},Te.cache=function(E){return function(){return E.apply(null,arguments)}},Te.cloneElement=function(E,I,j){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var F=U({},E.props),ee=E.key,fe=void 0;if(I!=null)for(ae in I.ref!==void 0&&(fe=void 0),I.key!==void 0&&(ee=""+I.key),I)!K.call(I,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&I.ref===void 0||(F[ae]=I[ae]);var ae=arguments.length-2;if(ae===1)F.children=j;else if(1<ae){for(var $e=Array(ae),Me=0;Me<ae;Me++)$e[Me]=arguments[Me+2];F.children=$e}return X(E.type,ee,void 0,void 0,fe,F)},Te.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:u,_context:E},E},Te.createElement=function(E,I,j){var F,ee={},fe=null;if(I!=null)for(F in I.key!==void 0&&(fe=""+I.key),I)K.call(I,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ee[F]=I[F]);var ae=arguments.length-2;if(ae===1)ee.children=j;else if(1<ae){for(var $e=Array(ae),Me=0;Me<ae;Me++)$e[Me]=arguments[Me+2];ee.children=$e}if(E&&E.defaultProps)for(F in ae=E.defaultProps,ae)ee[F]===void 0&&(ee[F]=ae[F]);return X(E,fe,void 0,void 0,null,ee)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(E){return{$$typeof:d,render:E}},Te.isValidElement=me,Te.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:Q}},Te.memo=function(E,I){return{$$typeof:g,type:E,compare:I===void 0?null:I}},Te.startTransition=function(E){var I=N.T,j={};N.T=j;try{var F=E(),ee=N.S;ee!==null&&ee(j,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(W,te)}catch(fe){te(fe)}finally{N.T=I}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(E){return N.H.use(E)},Te.useActionState=function(E,I,j){return N.H.useActionState(E,I,j)},Te.useCallback=function(E,I){return N.H.useCallback(E,I)},Te.useContext=function(E){return N.H.useContext(E)},Te.useDebugValue=function(){},Te.useDeferredValue=function(E,I){return N.H.useDeferredValue(E,I)},Te.useEffect=function(E,I,j){var F=N.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(E,I)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(E,I,j){return N.H.useImperativeHandle(E,I,j)},Te.useInsertionEffect=function(E,I){return N.H.useInsertionEffect(E,I)},Te.useLayoutEffect=function(E,I){return N.H.useLayoutEffect(E,I)},Te.useMemo=function(E,I){return N.H.useMemo(E,I)},Te.useOptimistic=function(E,I){return N.H.useOptimistic(E,I)},Te.useReducer=function(E,I,j){return N.H.useReducer(E,I,j)},Te.useRef=function(E){return N.H.useRef(E)},Te.useState=function(E){return N.H.useState(E)},Te.useSyncExternalStore=function(E,I,j){return N.H.useSyncExternalStore(E,I,j)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.1.0",Te}var oE;function qp(){return oE||(oE=1,_d.exports=OR()),_d.exports}var Ye=qp();const De=yc(Ye);var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},NR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],d=t[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,d=c?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,y=u>>2,_=(u&3)<<4|d>>4;let S=(d&15)<<2|g>>6,A=g&63;p||(A=64,c||(S=64)),s.push(n[y],n[_],n[S],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||d==null||g==null||_==null)throw new IR;const S=u<<2|d>>4;if(s.push(S),g!==64){const A=d<<4&240|g>>2;if(s.push(A),_!==64){const U=g<<6&192|_;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MR=function(t){const e=yT(t);return vT.encodeByteArray(e,!0)},Yu=function(t){return MR(t).replace(/\./g,"")},ET=function(t){try{return vT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=()=>xR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ET(t[1]);return e&&JSON.parse(e)},vc=()=>{try{return UR()||kR()||LR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_T=t=>{var e,n;return(n=(e=vc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TT=t=>{const e=_T(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ST=()=>{var t;return(t=vc())===null||t===void 0?void 0:t.config},wT=t=>{var e;return(e=vc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yu(JSON.stringify(n)),Yu(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function jR(){var t;const e=(t=vc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function GR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="FirebaseError";class Yn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FR,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?$R(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Yn(o,d,s)}}function $R(t,e){return t.replace(KR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KR=/\{\$([^}]+)}/g;function YR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qu(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=t[o],c=e[o];if(uE(u)&&uE(c)){if(!Qu(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ho(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QR(t,e){const n=new XR(t,e);return n.subscribe.bind(n)}class XR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ZR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Td(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Ji{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eC(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WR(t){return t===br?void 0:t}function eC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const nC={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},iC=Ue.INFO,rC={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},sC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=rC[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=iC,this._logHandler=sC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const aC=(t,e)=>e.some(n=>t instanceof n);let cE,hE;function oC(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lC(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,rp=new WeakMap,RT=new WeakMap,Sd=new WeakMap,Pp=new WeakMap;function uC(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(Qi(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&AT.set(n,t)}).catch(()=>{}),Pp.set(e,t),e}function cC(t){if(rp.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});rp.set(t,e)}let sp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hC(t){sp=t(sp)}function fC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(wd(this),e,...n);return RT.set(s,e.sort?e.sort():[e]),Qi(s)}:lC().includes(t)?function(...e){return t.apply(wd(this),e),Qi(AT.get(this))}:function(...e){return Qi(t.apply(wd(this),e))}}function dC(t){return typeof t=="function"?fC(t):(t instanceof IDBTransaction&&cC(t),aC(t,oC())?new Proxy(t,sp):t)}function Qi(t){if(t instanceof IDBRequest)return uC(t);if(Sd.has(t))return Sd.get(t);const e=dC(t);return e!==t&&(Sd.set(t,e),Pp.set(e,t)),e}const wd=t=>Pp.get(t);function pC(t,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),d=Qi(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Qi(c.result),p.oldVersion,p.newVersion,Qi(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const gC=["get","getKey","getAll","getAllKeys","count"],mC=["put","add","delete","clear"],bd=new Map;function fE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bd.get(e))return bd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=mC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gC.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return bd.set(e,u),u}hC(t=>({...t,get:(e,n,s)=>fE(e,n)||t.get(e,n,s),has:(e,n)=>!!fE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function vC(t){const e=t.getComponent();return e?.type==="VERSION"}const ap="@firebase/app",dE="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Hp("@firebase/app"),EC="@firebase/app-compat",_C="@firebase/analytics-compat",TC="@firebase/analytics",SC="@firebase/app-check-compat",wC="@firebase/app-check",bC="@firebase/auth",AC="@firebase/auth-compat",RC="@firebase/database",CC="@firebase/database-compat",DC="@firebase/functions",OC="@firebase/functions-compat",NC="@firebase/installations",IC="@firebase/installations-compat",MC="@firebase/messaging",xC="@firebase/messaging-compat",UC="@firebase/performance",kC="@firebase/performance-compat",LC="@firebase/remote-config",zC="@firebase/remote-config-compat",BC="@firebase/storage",jC="@firebase/storage-compat",VC="@firebase/firestore",qC="@firebase/firestore-compat",HC="firebase",PC="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",GC={[ap]:"fire-core",[EC]:"fire-core-compat",[TC]:"fire-analytics",[_C]:"fire-analytics-compat",[wC]:"fire-app-check",[SC]:"fire-app-check-compat",[bC]:"fire-auth",[AC]:"fire-auth-compat",[RC]:"fire-rtdb",[CC]:"fire-rtdb-compat",[DC]:"fire-fn",[OC]:"fire-fn-compat",[NC]:"fire-iid",[IC]:"fire-iid-compat",[MC]:"fire-fcm",[xC]:"fire-fcm-compat",[UC]:"fire-perf",[kC]:"fire-perf-compat",[LC]:"fire-rc",[zC]:"fire-rc-compat",[BC]:"fire-gcs",[jC]:"fire-gcs-compat",[VC]:"fire-fst",[qC]:"fire-fst-compat","fire-js":"fire-js",[HC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Map,lp=new Map;function FC(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xr(t){const e=t.name;if(lp.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,t);for(const n of Xu.values())FC(n,t);return!0}function Ec(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xi=new Fo("app","Firebase",$C);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=PC;function CT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(n||(n=ST()),!n)throw Xi.create("no-options");const u=Xu.get(o);if(u){if(Qu(n,u.options)&&Qu(s,u.config))return u;throw Xi.create("duplicate-app",{appName:o})}const c=new tC(o);for(const p of lp.values())c.addComponent(p);const d=new KC(n,s,c);return Xu.set(o,d),d}function Gp(t=op){const e=Xu.get(t);if(!e&&t===op&&ST())return CT();if(!e)throw Xi.create("no-app",{appName:t});return e}function qn(t,e,n){var s;let o=(s=GC[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(d.join(" "));return}xr(new Ji(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebase-heartbeat-database",QC=1,Ro="firebase-heartbeat-store";let Ad=null;function DT(){return Ad||(Ad=pC(YC,QC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ro)}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Ad}async function XC(t){try{return await(await DT()).transaction(Ro).objectStore(Ro).get(OT(t))}catch(e){if(e instanceof Yn)Mr.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}}async function pE(t,e){try{const s=(await DT()).transaction(Ro,"readwrite");await s.objectStore(Ro).put(e,OT(t)),await s.done}catch(n){if(n instanceof Yn)Mr.warn(n.message);else{const s=Xi.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(s.message)}}}function OT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=1024,JC=30*24*60*60*1e3;class WC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=JC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=gE(),{heartbeatsToSend:n,unsentEntries:s}=eD(this._heartbeatsCache.heartbeats),o=Yu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function gE(){return new Date().toISOString().substring(0,10)}function eD(t,e=ZC){const n=[];let s=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),mE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?GR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await XC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function mE(t){return Yu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){xr(new Ji("platform-logger",e=>new yC(e),"PRIVATE")),xr(new Ji("heartbeat",e=>new WC(e),"PRIVATE")),qn(ap,dE,t),qn(ap,dE,"esm2017"),qn("fire-js","")}nD("");var iD="firebase",rD="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(iD,rD,"app");function Fp(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sD=NT,IT=new Fo("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Hp("@firebase/auth");function aD(t,...e){Zu.logLevel<=Ue.WARN&&Zu.warn(`Auth (${Vr}): ${t}`,...e)}function ju(t,...e){Zu.logLevel<=Ue.ERROR&&Zu.error(`Auth (${Vr}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t,...e){throw $p(t,...e)}function Hn(t,...e){return $p(t,...e)}function oD(t,e,n){const s=Object.assign(Object.assign({},sD()),{[e]:n});return new Fo("auth","Firebase",s).create(e,{appName:t.name})}function $p(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return IT.create(t,...e)}function de(t,e,...n){if(!t)throw $p(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ju(e),new Error(e)}function di(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lD(){return yE()==="http:"||yE()==="https:"}function yE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lD()||VR()||"connection"in navigator)?navigator.onLine:!0}function cD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=BR()||qR()}get(){return uD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new Ko(3e4,6e4);function Yo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ws(t,e,n,s,o={}){return xT(t,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=$o(Object.assign({key:t.config.apiKey},c)).slice(1),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),MT.fetch()(UT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},u))})}async function xT(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},hD),e);try{const o=new dD(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ru(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ru(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ru(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ru(t,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw oD(t,y,g);Dn(t,y)}}catch(o){if(o instanceof Yn)throw o;Dn(t,"network-request-failed",{message:String(o)})}}async function _c(t,e,n,s,o={}){const u=await Ws(t,e,n,s,o);return"mfaPendingCredential"in u&&Dn(t,"multi-factor-auth-required",{_serverResponse:u}),u}function UT(t,e,n,s){const o=`${e}${n}?${s}`;return t.config.emulator?Kp(t.config,o):`${t.config.apiScheme}://${o}`}class dD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hn(this.auth,"network-request-failed")),fD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ru(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hn(t,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return Ws(t,"POST","/v1/accounts:delete",e)}async function gD(t,e){return Ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mD(t,e=!1){const n=lt(t),s=await n.getIdToken(e),o=Yp(s);de(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Eo(Rd(o.auth_time)),issuedAtTime:Eo(Rd(o.iat)),expirationTime:Eo(Rd(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Rd(t){return Number(t)*1e3}function Yp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ju("JWT malformed, contained fewer than 3 sections"),null;try{const o=ET(n);return o?JSON.parse(o):(ju("Failed to decode base64 JWT payload"),null)}catch(o){return ju("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yD(t){const e=Yp(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Yn&&vD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function vD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){var e;const n=t.auth,s=await t.getIdToken(),o=await Co(t,gD(n,{idToken:s}));de(o?.users.length,n,"internal-error");const u=o.users[0];t._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?SD(u.providerUserInfo):[],d=TD(t.providerData,c),p=t.isAnonymous,g=!(t.email&&u.passwordHash)&&!d?.length,y=p?g:!1,_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new kT(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(t,_)}async function _D(t){const e=lt(t);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TD(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function SD(t){return t.map(e=>{var{providerId:n}=e,s=Fp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(t,e){const n=await xT(t,{},async()=>{const s=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=UT(t,o,"/v1/token",`key=${u}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",MT.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return de(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Do;return s&&(de(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(de(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(de(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Fp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ED(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new kT(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Co(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mD(this,e)}reload(){return _D(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Co(this,pD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,c,d,p,g,y;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,A=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,U=(c=n.photoURL)!==null&&c!==void 0?c:void 0,P=(d=n.tenantId)!==null&&d!==void 0?d:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,z=(g=n.createdAt)!==null&&g!==void 0?g:void 0,G=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:M,emailVerified:Y,isAnonymous:N,providerData:K,stsTokenManager:X}=n;de(M&&X,e,"internal-error");const J=Do.fromJSON(this.name,X);de(typeof M=="string",e,"internal-error"),Hi(_,e.name),Hi(S,e.name),de(typeof Y=="boolean",e,"internal-error"),de(typeof N=="boolean",e,"internal-error"),Hi(A,e.name),Hi(U,e.name),Hi(P,e.name),Hi(q,e.name),Hi(z,e.name),Hi(G,e.name);const me=new Dr({uid:M,auth:e,email:S,emailVerified:Y,displayName:_,isAnonymous:N,photoURL:U,phoneNumber:A,tenantId:P,stsTokenManager:J,createdAt:z,lastLoginAt:G});return K&&Array.isArray(K)&&(me.providerData=K.map(ye=>Object.assign({},ye))),q&&(me._redirectEventId=q),me}static async _fromIdTokenResponse(e,n,s=!1){const o=new Do;o.updateFromServerResponse(n);const u=new Dr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ju(u),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;function hi(t){di(t instanceof Function,"Expected a class definition");let e=vE.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LT.type="NONE";const EE=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t,e,n){return`firebase:${t}:${e}:${n}`}class ks{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vu(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vu("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ks(hi(EE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hi(EE);const c=Vu(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){const _=Dr._fromJSON(e,y);g!==u&&(d=_),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ks(u,e,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new ks(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(HT(e))return"Webos";if(Qp(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function zT(t=qt()){return/firefox\//i.test(t)}function Qp(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(t=qt()){return/crios\//i.test(t)}function jT(t=qt()){return/iemobile/i.test(t)}function VT(t=qt()){return/android/i.test(t)}function qT(t=qt()){return/blackberry/i.test(t)}function HT(t=qt()){return/webos/i.test(t)}function Tc(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bD(t=qt()){var e;return Tc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AD(){return HR()&&document.documentMode===10}function PT(t=qt()){return Tc(t)||VT(t)||HT(t)||qT(t)||/windows phone/i.test(t)||jT(t)}function RD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t,e=[]){let n;switch(t){case"Browser":n=_E(qt());break;case"Worker":n=`${_E(qt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vr}/${s}`}async function FT(t,e){return Ws(t,"GET","/v2/recaptchaConfig",Yo(t,e))}function TE(t){return t!==void 0&&t.enterprise!==void 0}class $T{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function KT(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const u=Hn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CD().appendChild(s)})}function DD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OD="https://www.google.com/recaptcha/enterprise.js?render=",ND="recaptcha-enterprise",ID="NO_RECAPTCHA";class YT{constructor(e){this.type=ND,this.auth=Qo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{FT(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new $T(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;TE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(ID)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,c)=>{s(this.auth).then(d=>{if(!n&&TE(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}KT(OD+d).then(()=>{o(d,u,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function SE(t,e,n,s=!1){const o=new YT(t);let u;try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const c=Object.assign({},e);return s?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wE(this),this.idTokenSubscription=new wE(this),this.beforeStateQueue=new MD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ks.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?lt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}async initializeRecaptchaConfig(){const e=await FT(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new $T(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new YT(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await ks.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n),c=this._isInitialized?Promise.resolve():this._initializationPromise;return de(c,this,"internal-error"),c.then(()=>u(this.currentUser)),typeof n=="function"?e.addObserver(n,s,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&aD(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Qo(t){return lt(t)}class wE{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e){const n=Ec(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qu(u,e??{}))return o;Dn(o,"already-initialized")}return n.initialize({options:e})}function kD(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(hi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function LD(t,e,n){const s=Qo(t);de(s._canInitEmulator,s,"emulator-config-failed"),de(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=QT(e),{host:c,port:d}=zD(e),p=d===null?"":`:${d}`;s.config.emulator={url:`${u}//${c}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),BD()}function QT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zD(t){const e=QT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:bE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:bE(c)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}async function jD(t,e){return Ws(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(t,e){return _c(t,"POST","/v1/accounts:signInWithPassword",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}async function qD(t,e){return _c(t,"POST","/v1/accounts:signInWithEmailLink",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends Xp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Oo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Oo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const o=await SE(e,s,"signInWithPassword");return Cd(e,o)}else return Cd(e,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const u=await SE(e,s,"signInWithPassword");return Cd(e,u)}else return Promise.reject(o)});case"emailLink":return VD(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return jD(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return qD(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e){return _c(t,"POST","/v1/accounts:signInWithIdp",Yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="http://localhost";class Ur extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Fp(n,["providerId","signInMethod"]);if(!s||!o)return null;const c=new Ur(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ls(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ls(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ls(e,n)}buildRequest(){const e={requestUri:HD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$o(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GD(t){const e=ho(fo(t)).link,n=e?ho(fo(e)).deep_link_id:null,s=ho(fo(t)).deep_link_id;return(s?ho(fo(s)).link:null)||s||n||e||t}class Zp{constructor(e){var n,s,o,u,c,d;const p=ho(fo(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,y=(s=p.oobCode)!==null&&s!==void 0?s:null,_=PD((o=p.mode)!==null&&o!==void 0?o:null);de(g&&y&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=y,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=GD(e);try{return new Zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return Oo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zp.parseLink(n);return de(s,"argument-error"),Oo._fromEmailAndCode(e,s.code,s.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Xo{constructor(){super("facebook.com")}static credential(e){return Ur._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ur._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gi.credential(n,s)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Xo{constructor(){super("github.com")}static credential(e){return Ur._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Xo{constructor(){super("twitter.com")}static credential(e,n){return Ur._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $i.credential(n,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Dr._fromIdTokenResponse(e,s,o),c=AE(s);return new Ps({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=AE(s);return new Ps({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function AE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Yn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Wu(e,n,s,o)}}function ZT(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Wu._fromErrorAndOperation(t,u,e,s):u})}async function FD(t,e,n=!1){const s=await Co(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ps._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e,n=!1){const{auth:s}=t,o="reauthenticate";try{const u=await Co(t,ZT(s,o,e,t),n);de(u.idToken,s,"internal-error");const c=Yp(u.idToken);de(c,s,"internal-error");const{sub:d}=c;return de(t.uid===d,s,"user-mismatch"),Ps._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Dn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(t,e,n=!1){const s="signIn",o=await ZT(t,s,e),u=await Ps._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(u.user),u}async function KD(t,e){return JT(Qo(t),e)}function YD(t,e,n){return KD(lt(t),ea.credential(e,n))}function QD(t,e,n,s){return lt(t).onIdTokenChanged(e,n,s)}function XD(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function ZD(t,e,n,s){return lt(t).onAuthStateChanged(e,n,s)}function JD(t){return lt(t).signOut()}const ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){const t=qt();return Qp(t)||Tc(t)}const eO=1e3,tO=10;class eS extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=WD()&&RD(),this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);AD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const nO=eS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tS.type="SESSION";const nS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Sc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await iO(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=Jp("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(S.data.response);break;default:clearTimeout(y),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function sO(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function aO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oO(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lO(){return iS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebaseLocalStorageDb",uO=1,tc="firebaseLocalStorage",sS="fbase_key";class Zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wc(t,e){return t.transaction([tc],e?"readwrite":"readonly").objectStore(tc)}function cO(){const t=indexedDB.deleteDatabase(rS);return new Zo(t).toPromise()}function cp(){const t=indexedDB.open(rS,uO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(tc,{keyPath:sS})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(tc)?e(s):(s.close(),await cO(),e(await cp()))})})}async function RE(t,e,n){const s=wc(t,!0).put({[sS]:e,value:n});return new Zo(s).toPromise()}async function hO(t,e){const n=wc(t,!1).get(e),s=await new Zo(n).toPromise();return s===void 0?null:s.value}function CE(t,e){const n=wc(t,!0).delete(e);return new Zo(n).toPromise()}const fO=800,dO=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sc._getInstance(lO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await RE(e,ec,"1"),await CE(e,ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>RE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=wc(o,!1).getAll();return new Zo(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const pO=aS;new Ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e){return e?hi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mO(t){return JT(t.auth,new Wp(t),t.bypassAuthState)}function yO(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),$D(n,new Wp(t),t.bypassAuthState)}async function vO(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),FD(n,new Wp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mO;case"linkViaPopup":case"linkViaRedirect":return vO;case"reauthViaPopup":case"reauthViaRedirect":return yO;default:Dn(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Ko(2e3,1e4);class xs extends oS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EO.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="pendingRedirect",qu=new Map;class TO extends oS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=qu.get(this.auth._key());if(!e){try{const s=await SO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}qu.set(this.auth._key(),e)}return this.bypassAuthState||qu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SO(t,e){const n=AO(e),s=bO(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function wO(t,e){qu.set(t._key(),e)}function bO(t){return hi(t._redirectPersistence)}function AO(t){return Vu(_O,t.config.apiKey,t.name)}async function RO(t,e,n=!1){const s=Qo(t),o=gO(s,e),c=await new TO(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=10*60*1e3;class DO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!lS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CO&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function OO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e={}){return Ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MO=/^https?/;async function xO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NO(t);for(const n of e)try{if(UO(n))return}catch{}Dn(t,"unauthorized-domain")}function UO(t){const e=up(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!MO.test(n))return!1;if(IO.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Ko(3e4,6e4);function OE(){const t=Pn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LO(t){return new Promise((e,n)=>{var s,o,u;function c(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(Hn(t,"network-request-failed"))},timeout:kO.get()})}if(!((o=(s=Pn().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Pn().gapi)===null||u===void 0)&&u.load)c();else{const d=DD("iframefcb");return Pn()[d]=()=>{gapi.load?c():n(Hn(t,"network-request-failed"))},KT(`https://apis.google.com/js/api.js?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Hu=null,e})}let Hu=null;function zO(t){return Hu=Hu||LO(t),Hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new Ko(5e3,15e3),jO="__/auth/iframe",VO="emulator/auth/iframe",qO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PO(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kp(e,VO):`https://${t.config.authDomain}/${jO}`,s={apiKey:e.apiKey,appName:t.name,v:Vr},o=HO.get(t.config.apiHost);o&&(s.eid=o);const u=t._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${$o(s).slice(1)}`}async function GO(t){const e=await zO(t),n=Pn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:PO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Hn(t,"network-request-failed"),d=Pn().setTimeout(()=>{u(c)},BO.get());function p(){Pn().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$O=500,KO=600,YO="_blank",QO="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XO(t,e,n,s=$O,o=KO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},FO),{width:s.toString(),height:o.toString(),top:u,left:c}),g=qt().toLowerCase();n&&(d=BT(g)?YO:n),zT(g)&&(e=e||QO,p.scrollbars="yes");const y=Object.entries(p).reduce((S,[A,U])=>`${S}${A}=${U},`,"");if(bD(g)&&d!=="_self")return ZO(e||"",d),new NE(null);const _=window.open(e||"",d,y);de(_,t,"popup-blocked");try{_.focus()}catch{}return new NE(_)}function ZO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="__/auth/handler",WO="emulator/auth/handler",eN=encodeURIComponent("fac");async function IE(t,e,n,s,o,u){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Vr,eventId:o};if(e instanceof XT){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",YR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Xo){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await t._getAppCheckToken(),g=p?`#${eN}=${encodeURIComponent(p)}`:"";return`${tN(t)}?${$o(d).slice(1)}${g}`}function tN({config:t}){return t.emulator?Kp(t,WO):`https://${t.authDomain}/${JO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class nN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=RO,this._overrideRedirectResult=wO}async _openPopup(e,n,s,o){var u;di((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await IE(e,n,s,up(),o);return XO(e,c,Jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await IE(e,n,s,up(),o);return sO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(di(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await GO(e),s=new DO(e);return n.register("authEvent",o=>(de(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dd,{type:Dd},o=>{var u;const c=(u=o?.[0])===null||u===void 0?void 0:u[Dd];c!==void 0&&n(!!c),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||Qp()||Tc()}}const iN=nN;var ME="@firebase/auth",xE="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function aN(t){xr(new Ji("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;de(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(t)},g=new xD(s,o,u,p);return kD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),xr(new Ji("auth-internal",e=>{const n=Qo(e.getProvider("auth").getImmediate());return(s=>new rN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(ME,xE,sN(t)),qn(ME,xE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=5*60,lN=wT("authIdTokenMaxAge")||oN;let UE=null;const uN=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>lN)return;const o=n?.token;UE!==o&&(UE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function cN(t=Gp()){const e=Ec(t,"auth");if(e.isInitialized())return e.getImmediate();const n=UD(t,{popupRedirectResolver:iN,persistence:[pO,nO,nS]}),s=wT("authTokenSyncURL");if(s){const u=uN(s);XD(n,u,()=>u(n.currentUser)),QD(n,c=>u(c))}const o=_T("auth");return o&&LD(n,`http://${o}`),n}aN("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebasestorage.googleapis.com",cS="storageBucket",hN=2*60*1e3,fN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st extends Yn{constructor(e,n,s=0){super(Od(e),`Firebase Storage: ${n} (${Od(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,st.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Od(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function Od(t){return"storage/"+t}function eg(){const t="An unknown error occurred, please check the error payload for server response.";return new st(it.UNKNOWN,t)}function dN(t){return new st(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pN(t){return new st(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gN(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new st(it.UNAUTHENTICATED,t)}function mN(){return new st(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yN(t){return new st(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vN(){return new st(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EN(){return new st(it.CANCELED,"User canceled the upload/download.")}function _N(t){return new st(it.INVALID_URL,"Invalid URL '"+t+"'.")}function TN(t){return new st(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SN(){return new st(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cS+"' property when initializing the app?")}function wN(){return new st(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bN(){return new st(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AN(t){return new st(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hp(t){return new st(it.INVALID_ARGUMENT,t)}function hS(){return new st(it.APP_DELETED,"The Firebase app was deleted.")}function RN(t){return new st(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _o(t,e){return new st(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ao(t){throw new st(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=un.makeFromUrl(e,n)}catch{return new un(e,"")}if(s.path==="")return s;throw TN(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${o}/o${S}`,"i"),U={bucket:1,path:3},P=n===uS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",z=new RegExp(`^https?://${P}/${o}/${q}`,"i"),M=[{regex:d,indices:p,postModify:u},{regex:A,indices:U,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let Y=0;Y<M.length;Y++){const N=M[Y],K=N.regex.exec(e);if(K){const X=K[N.indices.bucket];let J=K[N.indices.path];J||(J=""),s=new un(X,J),N.postModify(s);break}}if(s==null)throw _N(e);return s}}class CN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e,n){let s=1,o=null,u=null,c=!1,d=0;function p(){return d===2}let g=!1;function y(...q){g||(g=!0,e.apply(null,q))}function _(q){o=setTimeout(()=>{o=null,t(A,p())},q)}function S(){u&&clearTimeout(u)}function A(q,...z){if(g){S();return}if(q){S(),y.call(null,q,...z);return}if(p()||c){S(),y.call(null,q,...z);return}s<64&&(s*=2);let M;d===1?(d=2,M=0):M=(s+Math.random())*1e3,_(M)}let U=!1;function P(q){U||(U=!0,S(),!g&&(o!==null?(q||(d=2),clearTimeout(o),_(0)):q||(d=1)))}return _(0),u=setTimeout(()=>{c=!0,P(!0)},n),P}function ON(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){return t!==void 0}function IN(t){return typeof t=="object"&&!Array.isArray(t)}function tg(t){return typeof t=="string"||t instanceof String}function kE(t){return ng()&&t instanceof Blob}function ng(){return typeof Blob<"u"&&!jR()}function LE(t,e,n,s){if(s<e)throw hp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw hp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function fS(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const o=e(s)+"="+e(t[s]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Or||(Or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,u=e.indexOf(t)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,s,o,u,c,d,p,g,y,_,S=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=_,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,U)=>{this.resolve_=A,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Cu(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===Or.NO_ERROR,p=u.getStatus();if(!d||MN(p,this.additionalRetryCodes_)&&this.retry){const y=u.getErrorCode()===Or.ABORT;s(!1,new Cu(!1,null,y));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Cu(g,u))})},n=(s,o)=>{const u=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());NN(p)?u(p):u()}catch(p){c(p)}else if(d!==null){const p=eg();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?hS():EN();c(p)}else{const p=vN();c(p)}};this.canceled_?n(!1,new Cu(!1,null,!0)):this.backoffId_=DN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ON(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cu{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function UN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BN(t,e,n,s,o,u,c=!0){const d=fS(t.urlParams),p=t.url+d,g=Object.assign({},t.headers);return LN(g,e),UN(g,n),kN(g,u),zN(g,s),new xN(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VN(...t){const e=jN();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(ng())return new Blob(t);throw new st(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qN(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){if(typeof atob>"u")throw AN("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nd{constructor(e,n){this.data=e,this.contentType=n||null}}function PN(t,e){switch(t){case Bn.RAW:return new Nd(dS(e));case Bn.BASE64:case Bn.BASE64URL:return new Nd(pS(t,e));case Bn.DATA_URL:return new Nd(FN(e),$N(e))}throw eg()}function dS(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,c=t.charCodeAt(++n);s=65536|(u&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function GN(t){let e;try{e=decodeURIComponent(t)}catch{throw _o(Bn.DATA_URL,"Malformed data URL.")}return dS(e)}function pS(t,e){switch(t){case Bn.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw _o(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw _o(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HN(e)}catch(o){throw o.message.includes("polyfill")?o:_o(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class gS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _o(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=KN(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function FN(t){const e=new gS(t);return e.base64?pS(Bn.BASE64,e.rest):GN(e.rest)}function $N(t){return new gS(t).contentType}function KN(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){let s=0,o="";kE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(kE(this.data_)){const s=this.data_,o=qN(s,e,n);return o===null?null:new Ki(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Ki(s,!0)}}static getBlob(...e){if(ng()){const n=e.map(s=>s instanceof Ki?s.data_:s);return new Ki(VN.apply(null,n))}else{const n=e.map(c=>tg(c)?PN(Bn.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[u++]=c[d]}),new Ki(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){let e;try{e=JSON.parse(t)}catch{return null}return IN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QN(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function yS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e){return e}class Gt{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||XN}}let Du=null;function ZN(t){return!tg(t)||t.length<2?t:yS(t)}function vS(){if(Du)return Du;const t=[];t.push(new Gt("bucket")),t.push(new Gt("generation")),t.push(new Gt("metageneration")),t.push(new Gt("name","fullPath",!0));function e(u,c){return ZN(c)}const n=new Gt("name");n.xform=e,t.push(n);function s(u,c){return c!==void 0?Number(c):c}const o=new Gt("size");return o.xform=s,t.push(o),t.push(new Gt("timeCreated")),t.push(new Gt("updated")),t.push(new Gt("md5Hash",null,!0)),t.push(new Gt("cacheControl",null,!0)),t.push(new Gt("contentDisposition",null,!0)),t.push(new Gt("contentEncoding",null,!0)),t.push(new Gt("contentLanguage",null,!0)),t.push(new Gt("contentType",null,!0)),t.push(new Gt("metadata","customMetadata",!0)),Du=t,Du}function JN(t,e){function n(){const s=t.bucket,o=t.fullPath,u=new un(s,o);return e._makeStorageReference(u)}Object.defineProperty(t,"ref",{get:n})}function WN(t,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const c=n[u];s[c.local]=c.xform(s,e[c.server])}return JN(s,t),s}function ES(t,e,n){const s=mS(e);return s===null?null:WN(t,s,n)}function eI(t,e,n,s){const o=mS(e);if(o===null||!tg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const c=encodeURIComponent;return u.split(",").map(g=>{const y=t.bucket,_=t.fullPath,S="/b/"+c(y)+"/o/"+c(_),A=bc(S,n,s),U=fS({alt:"media",token:g});return A+U})[0]}function tI(t,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=t[u.local])}return JSON.stringify(n)}class ig{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t){if(!t)throw eg()}function nI(t,e){function n(s,o){const u=ES(t,o,e);return _S(u!==null),u}return n}function iI(t,e){function n(s,o){const u=ES(t,o,e);return _S(u!==null),eI(u,o,t.host,t._protocol)}return n}function TS(t){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=mN():o=gN():n.getStatus()===402?o=pN(t.bucket):n.getStatus()===403?o=yN(t.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function SS(t){const e=TS(t);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=dN(t.path)),u.serverResponse=o.serverResponse,u}return n}function rI(t,e,n){const s=e.fullServerUrl(),o=bc(s,t.host,t._protocol),u="GET",c=t.maxOperationRetryTime,d=new ig(o,u,iI(t,n),c);return d.errorHandler=SS(e),d}function sI(t,e){const n=e.fullServerUrl(),s=bc(n,t.host,t._protocol),o="DELETE",u=t.maxOperationRetryTime;function c(p,g){}const d=new ig(s,o,c,u);return d.successCodes=[200,204],d.errorHandler=SS(e),d}function aI(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oI(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=aI(null,e)),s}function lI(t,e,n,s,o){const u=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let M="";for(let Y=0;Y<2;Y++)M=M+Math.random().toString().slice(2);return M}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=oI(e,s,o),y=tI(g,n),_="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",A=Ki.getBlob(_,s,S);if(A===null)throw wN();const U={name:g.fullPath},P=bc(u,t.host,t._protocol),q="POST",z=t.maxUploadRetryTime,G=new ig(P,q,nI(t,n),z);return G.urlParams=U,G.headers=c,G.body=A.uploadData(),G.errorHandler=TS(e),G}class uI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw ao("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ao("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ao("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ao("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ao("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cI extends uI{initXhr(){this.xhr_.responseType="text"}}function rg(){return new cI}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this._service=e,n instanceof un?this._location=n:this._location=un.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kr(e,n)}get root(){const e=new un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yS(this._location.path)}get storage(){return this._service}get parent(){const e=YN(this._location.path);if(e===null)return null;const n=new un(this._location.bucket,e);return new kr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RN(e)}}function hI(t,e,n){t._throwIfRoot("uploadBytes");const s=lI(t.storage,t._location,vS(),new Ki(e,!0),n);return t.storage.makeRequestWithTokens(s,rg).then(o=>({metadata:o,ref:t}))}function fI(t){t._throwIfRoot("getDownloadURL");const e=rI(t.storage,t._location,vS());return t.storage.makeRequestWithTokens(e,rg).then(n=>{if(n===null)throw bN();return n})}function dI(t){t._throwIfRoot("deleteObject");const e=sI(t.storage,t._location);return t.storage.makeRequestWithTokens(e,rg)}function pI(t,e){const n=QN(t._location.path,e),s=new un(t._location.bucket,n);return new kr(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){return/^[A-Za-z]+:\/\//.test(t)}function mI(t,e){return new kr(t,e)}function wS(t,e){if(t instanceof sg){const n=t;if(n._bucket==null)throw SN();const s=new kr(n,n._bucket);return e!=null?wS(s,e):s}else return e!==void 0?pI(t,e):t}function yI(t,e){if(e&&gI(e)){if(t instanceof sg)return mI(t,e);throw hp("To use ref(service, url), the first argument must be a Storage instance.")}else return wS(t,e)}function zE(t,e){const n=e?.[cS];return n==null?null:un.makeFromBucketSpec(n,t)}function vI(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=s;o&&(t._overrideAuthToken=typeof o=="string"?o:bT(o,t.app.options.projectId))}class sg{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=uS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hN,this._maxUploadRetryTime=fN,this._requests=new Set,o!=null?this._bucket=un.makeFromBucketSpec(o,this._host):this._bucket=zE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=un.makeFromBucketSpec(this._url,e):this._bucket=zE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){LE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){LE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kr(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new CN(hS());{const c=BN(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const BE="@firebase/storage",jE="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="storage";function EI(t,e,n){return t=lt(t),hI(t,e,n)}function _I(t){return t=lt(t),fI(t)}function TI(t){return t=lt(t),dI(t)}function VE(t,e){return t=lt(t),yI(t,e)}function SI(t=Gp(),e){t=lt(t);const s=Ec(t,bS).getImmediate({identifier:e}),o=TT("storage");return o&&wI(s,...o),s}function wI(t,e,n,s={}){vI(t,e,n,s)}function bI(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new sg(n,s,o,e,Vr)}function AI(){xr(new Ji(bS,bI,"PUBLIC").setMultipleInstances(!0)),qn(BE,jE,""),qn(BE,jE,"esm2017")}AI();var RI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,ag=ag||{},ge=RI||self;function Ac(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function CI(t,e,n){return t.call.apply(t.bind,arguments)}function DI(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bt=CI:Bt=DI,Bt.apply(null,arguments)}function Ou(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,o,u){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[o].apply(s,c)}}function nr(){this.s=this.s,this.o=this.o}var OI=0;nr.prototype.s=!1;nr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),OI!=0)};nr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function og(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function qE(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Ac(s)){const o=t.length||0,u=s.length||0;t.length=o+u;for(let c=0;c<u;c++)t[o+c]=s[c]}else t.push(s)}}function jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var NI=function(){if(!ge.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ge.addEventListener("test",()=>{},e),ge.removeEventListener("test",()=>{},e)}catch{}return t}();function No(t){return/^[\s\xa0]*$/.test(t)}function Cc(){var t=ge.navigator;return t&&(t=t.userAgent)?t:""}function zn(t){return Cc().indexOf(t)!=-1}function lg(t){return lg[" "](t),t}lg[" "]=function(){};function II(t,e){var n=bM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var MI=zn("Opera"),Gs=zn("Trident")||zn("MSIE"),RS=zn("Edge"),fp=RS||Gs,CS=zn("Gecko")&&!(Cc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),xI=Cc().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function DS(){var t=ge.document;return t?t.documentMode:void 0}var dp;e:{var Id="",Md=function(){var t=Cc();if(CS)return/rv:([^\);]+)(\)|;)/.exec(t);if(RS)return/Edge\/([\d\.]+)/.exec(t);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xI)return/WebKit\/(\S+)/.exec(t);if(MI)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Md&&(Id=Md?Md[1]:""),Gs){var xd=DS();if(xd!=null&&xd>parseFloat(Id)){dp=String(xd);break e}}dp=Id}var pp;if(ge.document&&Gs){var HE=DS();pp=HE||parseInt(dp,10)||void 0}else pp=void 0;var UI=pp;function Io(t,e){if(jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(CS){e:{try{lg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Io.$.h.call(this)}}wt(Io,jt);var kI={2:"touch",3:"pen",4:"mouse"};Io.prototype.h=function(){Io.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dc="closure_listenable_"+(1e6*Math.random()|0),LI=0;function zI(t,e,n,s,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=o,this.key=++LI,this.fa=this.ia=!1}function Oc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ug(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function BI(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function OS(t){const e={};for(const n in t)e[n]=t[n];return e}const PE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NS(t,e){let n,s;for(let o=1;o<arguments.length;o++){s=arguments[o];for(n in s)t[n]=s[n];for(let u=0;u<PE.length;u++)n=PE[u],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Nc(t){this.src=t,this.g={},this.h=0}Nc.prototype.add=function(t,e,n,s,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var c=mp(t,e,s,o);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new zI(e,this.src,u,!!s,o),e.ia=n,t.push(e)),e};function gp(t,e){var n=e.type;if(n in t.g){var s=t.g[n],o=AS(s,e),u;(u=0<=o)&&Array.prototype.splice.call(s,o,1),u&&(Oc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function mp(t,e,n,s){for(var o=0;o<t.length;++o){var u=t[o];if(!u.fa&&u.listener==e&&u.capture==!!n&&u.la==s)return o}return-1}var cg="closure_lm_"+(1e6*Math.random()|0),Ud={};function IS(t,e,n,s,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)IS(t,e[u],n,s,o);return null}return n=US(n),t&&t[Dc]?t.O(e,n,Rc(s)?!!s.capture:!1,o):jI(t,e,n,!1,s,o)}function jI(t,e,n,s,o,u){if(!e)throw Error("Invalid event type");var c=Rc(o)?!!o.capture:!!o,d=fg(t);if(d||(t[cg]=d=new Nc(t)),n=d.add(e,n,s,c,u),n.proxy)return n;if(s=VI(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)NI||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),s,o);else if(t.attachEvent)t.attachEvent(xS(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function VI(){function t(n){return e.call(t.src,t.listener,n)}const e=qI;return t}function MS(t,e,n,s,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)MS(t,e[u],n,s,o);else s=Rc(s)?!!s.capture:!!s,n=US(n),t&&t[Dc]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=mp(u,n,s,o),-1<n&&(Oc(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=fg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mp(e,n,s,o)),(n=-1<t?e[t]:null)&&hg(n))}function hg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Dc])gp(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(xS(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=fg(e))?(gp(n,t),n.h==0&&(n.src=null,e[cg]=null)):Oc(t)}}}function xS(t){return t in Ud?Ud[t]:Ud[t]="on"+t}function qI(t,e){if(t.fa)t=!0;else{e=new Io(e,this);var n=t.listener,s=t.la||t.src;t.ia&&hg(t),t=n.call(s,e)}return t}function fg(t){return t=t[cg],t instanceof Nc?t:null}var kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function US(t){return typeof t=="function"?t:(t[kd]||(t[kd]=function(e){return t.handleEvent(e)}),t[kd])}function St(){nr.call(this),this.i=new Nc(this),this.S=this,this.J=null}wt(St,nr);St.prototype[Dc]=!0;St.prototype.removeEventListener=function(t,e,n,s){MS(this,t,e,n,s)};function Ot(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new jt(e,t);else if(e instanceof jt)e.target=e.target||t;else{var o=e;e=new jt(s,t),NS(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var c=e.g=n[u];o=Nu(c,s,!0,e)&&o}if(c=e.g=t,o=Nu(c,s,!0,e)&&o,o=Nu(c,s,!1,e)&&o,n)for(u=0;u<n.length;u++)c=e.g=n[u],o=Nu(c,s,!1,e)&&o}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Oc(n[s]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};St.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Nu(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==n){var d=c.listener,p=c.la||c.src;c.ia&&gp(t.i,c),o=d.call(p,s)!==!1&&o}}return o&&!s.defaultPrevented}var dg=ge.JSON.stringify;class HI{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function PI(){var t=pg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class GI{constructor(){this.h=this.g=null}add(e,n){const s=kS.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var kS=new HI(()=>new FI,t=>t.reset());class FI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function $I(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function KI(t){ge.setTimeout(()=>{throw t},0)}let Mo,xo=!1,pg=new GI,LS=()=>{const t=ge.Promise.resolve(void 0);Mo=()=>{t.then(YI)}};var YI=()=>{for(var t;t=PI();){try{t.h.call(t.g)}catch(n){KI(n)}var e=kS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xo=!1};function Ic(t,e){St.call(this),this.h=t||1,this.g=e||ge,this.j=Bt(this.qb,this),this.l=Date.now()}wt(Ic,St);Z=Ic.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ot(this,"tick"),this.ga&&(gg(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function gg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Z.N=function(){Ic.$.N.call(this),gg(this),delete this.g};function mg(t,e,n){if(typeof t=="function")n&&(t=Bt(t,n));else if(t&&typeof t.handleEvent=="function")t=Bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ge.setTimeout(t,e||0)}function zS(t){t.g=mg(()=>{t.g=null,t.i&&(t.i=!1,zS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class QI extends nr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zS(this)}N(){super.N(),this.g&&(ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(t){nr.call(this),this.h=t,this.g={}}wt(Uo,nr);var GE=[];function BS(t,e,n,s){Array.isArray(n)||(n&&(GE[0]=n.toString()),n=GE);for(var o=0;o<n.length;o++){var u=IS(e,n[o],s||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function jS(t){ug(t.g,function(e,n){this.g.hasOwnProperty(n)&&hg(e)},t),t.g={}}Uo.prototype.N=function(){Uo.$.N.call(this),jS(this)};Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mc(){this.g=!0}Mc.prototype.Ea=function(){this.g=!1};function XI(t,e,n,s,o,u){t.info(function(){if(t.g)if(u)for(var c="",d=u.split("&"),p=0;p<d.length;p++){var g=d[p].split("=");if(1<g.length){var y=g[0];g=g[1];var _=y.split("_");c=2<=_.length&&_[1]=="type"?c+(y+"="+g+"&"):c+(y+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function ZI(t,e,n,s,o,u,c){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+c})}function Us(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WI(t,n)+(s?" "+s:"")})}function JI(t,e){t.info(function(){return"TIMEOUT: "+e})}Mc.prototype.info=function(){};function WI(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return dg(n)}catch{return e}}var qr={},FE=null;function xc(){return FE=FE||new St}qr.Ta="serverreachability";function VS(t){jt.call(this,qr.Ta,t)}wt(VS,jt);function ko(t){const e=xc();Ot(e,new VS(e))}qr.STAT_EVENT="statevent";function qS(t,e){jt.call(this,qr.STAT_EVENT,t),this.stat=e}wt(qS,jt);function Ft(t){const e=xc();Ot(e,new qS(e,t))}qr.Ua="timingevent";function HS(t,e){jt.call(this,qr.Ua,t),this.size=e}wt(HS,jt);function Jo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ge.setTimeout(function(){t()},e)}var Uc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},PS={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yg(){}yg.prototype.h=null;function $E(t){return t.h||(t.h=t.i())}function GS(){}var Wo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vg(){jt.call(this,"d")}wt(vg,jt);function Eg(){jt.call(this,"c")}wt(Eg,jt);var yp;function kc(){}wt(kc,yg);kc.prototype.g=function(){return new XMLHttpRequest};kc.prototype.i=function(){return{}};yp=new kc;function el(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Uo(this),this.P=eM,t=fp?125:void 0,this.V=new Ic(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new FS}function FS(){this.i=null,this.g="",this.h=!1}var eM=45e3,vp={},nc={};Z=el.prototype;Z.setTimeout=function(t){this.P=t};function Ep(t,e,n){t.L=1,t.v=zc(pi(e)),t.s=n,t.S=!0,$S(t,null)}function $S(t,e){t.G=Date.now(),tl(t),t.A=pi(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),ew(n.i,"t",s),t.C=0,n=t.l.J,t.h=new FS,t.g=Tw(t.l,n?e:null,!t.s),0<t.O&&(t.M=new QI(Bt(t.Pa,t,t.g),t.O)),BS(t.U,t.g,"readystatechange",t.nb),e=t.I?OS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ko(),XI(t.j,t.u,t.A,t.m,t.W,t.s)}Z.nb=function(t){t=t.target;const e=this.M;e&&jn(t)==3?e.l():this.Pa(t)};Z.Pa=function(t){try{if(t==this.g)e:{const y=jn(this.g);var e=this.g.Ia();const _=this.g.da();if(!(3>y)&&(y!=3||fp||this.g&&(this.h.h||this.g.ja()||XE(this.g)))){this.J||y!=4||e==7||(e==8||0>=_?ko(3):ko(2)),Lc(this);var n=this.g.da();this.ca=n;t:if(KS(this)){var s=XE(this.g);t="";var o=s.length,u=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),To(this);var c="";break t}this.h.i=new ge.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:u&&e==o-1});s.splice(0,o),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,ZI(this.j,this.u,this.A,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!No(d)){var g=d;break t}}g=null}if(n=g)Us(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_p(this,n);else{this.i=!1,this.o=3,Ft(12),Ar(this),To(this);break e}}this.S?(YS(this,y,c),fp&&this.i&&y==3&&(BS(this.U,this.V,"tick",this.mb),this.V.start())):(Us(this.j,this.m,c,null),_p(this,c)),y==4&&Ar(this),this.i&&!this.J&&(y==4?yw(this.l,this):(this.i=!1,tl(this)))}else TM(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.o=3,Ft(12)):(this.o=0,Ft(13)),Ar(this),To(this)}}}catch{}finally{}};function KS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function YS(t,e,n){let s=!0,o;for(;!t.J&&t.C<n.length;)if(o=tM(t,n),o==nc){e==4&&(t.o=4,Ft(14),s=!1),Us(t.j,t.m,null,"[Incomplete Response]");break}else if(o==vp){t.o=4,Ft(15),Us(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Us(t.j,t.m,o,null),_p(t,o);KS(t)&&o!=nc&&o!=vp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ft(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ag(e),e.M=!0,Ft(11))):(Us(t.j,t.m,n,"[Invalid Chunked Response]"),Ar(t),To(t))}Z.mb=function(){if(this.g){var t=jn(this.g),e=this.g.ja();this.C<e.length&&(Lc(this),YS(this,t,e),this.i&&t!=4&&tl(this))}};function tM(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?nc:(n=Number(e.substring(n,s)),isNaN(n)?vp:(s+=1,s+n>e.length?nc:(e=e.slice(s,s+n),t.C=s+n,e)))}Z.cancel=function(){this.J=!0,Ar(this)};function tl(t){t.Y=Date.now()+t.P,QS(t,t.P)}function QS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Jo(Bt(t.lb,t),e)}function Lc(t){t.B&&(ge.clearTimeout(t.B),t.B=null)}Z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(JI(this.j,this.A),this.L!=2&&(ko(),Ft(17)),Ar(this),this.o=2,To(this)):QS(this,this.Y-t)};function To(t){t.l.H==0||t.J||yw(t.l,t)}function Ar(t){Lc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,gg(t.V),jS(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _p(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Tp(n.i,t))){if(!t.K&&Tp(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var o=s;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)sc(n),Vc(n);else break e;bg(n),Ft(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Jo(Bt(n.ib,n),6e3));if(1>=iw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Rr(n,11)}else if((t.K||n.g==t)&&sc(n),!No(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let g=o[e];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const _=g[4];_!=null&&(n.Ga=_,n.l.info("SVER="+n.Ga));const S=g[5];S!=null&&typeof S=="number"&&0<S&&(s=1.5*S,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const A=t.g;if(A){const U=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var u=s.i;u.g||U.indexOf("spdy")==-1&&U.indexOf("quic")==-1&&U.indexOf("h2")==-1||(u.j=u.l,u.g=new Set,u.h&&(_g(u,u.h),u.h=null))}if(s.F){const P=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(s.Da=P,Qe(s.I,s.F,P))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=t;if(s.wa=_w(s,s.J?s.pa:null,s.Y),c.K){rw(s.i,c);var d=c,p=s.L;p&&d.setTimeout(p),d.B&&(Lc(d),tl(d)),s.g=c}else gw(s);0<n.j.length&&qc(n)}else g[0]!="stop"&&g[0]!="close"||Rr(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Rr(n,7):wg(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}ko(4)}catch{}}function nM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ac(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function iM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ac(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function XS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ac(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iM(t),s=nM(t),o=s.length,u=0;u<o;u++)e.call(void 0,s[u],n&&n[u],t)}var ZS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),o=null;if(0<=s){var u=t[n].substring(0,s);o=t[n].substring(s+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Nr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Nr){this.h=t.h,ic(this,t.j),this.s=t.s,this.g=t.g,rc(this,t.m),this.l=t.l;var e=t.i,n=new Lo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KE(this,n),this.o=t.o}else t&&(e=String(t).match(ZS))?(this.h=!1,ic(this,e[1]||"",!0),this.s=po(e[2]||""),this.g=po(e[3]||"",!0),rc(this,e[4]),this.l=po(e[5]||"",!0),KE(this,e[6]||"",!0),this.o=po(e[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}Nr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(go(e,YE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(go(e,YE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(go(n,n.charAt(0)=="/"?oM:aM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",go(n,uM)),t.join("")};function pi(t){return new Nr(t)}function ic(t,e,n){t.j=n?po(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function rc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KE(t,e,n){e instanceof Lo?(t.i=e,cM(t.i,t.h)):(n||(e=go(e,lM)),t.i=new Lo(e,t.h))}function Qe(t,e,n){t.i.set(e,n)}function zc(t){return Qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function po(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function go(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var YE=/[#\/\?@]/g,aM=/[#\?:]/g,oM=/[#\?]/g,lM=/[#\?@]/g,uM=/#/g;function Lo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ir(t){t.g||(t.g=new Map,t.h=0,t.i&&rM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=Lo.prototype;Z.add=function(t,e){ir(this),this.i=null,t=ta(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function JS(t,e){ir(t),e=ta(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function WS(t,e){return ir(t),e=ta(t,e),t.g.has(e)}Z.forEach=function(t,e){ir(this),this.g.forEach(function(n,s){n.forEach(function(o){t.call(e,o,s,this)},this)},this)};Z.ta=function(){ir(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const o=t[s];for(let u=0;u<o.length;u++)n.push(e[s])}return n};Z.Z=function(t){ir(this);let e=[];if(typeof t=="string")WS(this,t)&&(e=e.concat(this.g.get(ta(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Z.set=function(t,e){return ir(this),this.i=null,t=ta(this,t),WS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ew(t,e,n){JS(t,e),0<n.length&&(t.i=null,t.g.set(ta(t,e),og(n)),t.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const u=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var o=u;c[s]!==""&&(o+="="+encodeURIComponent(String(c[s]))),t.push(o)}}return this.i=t.join("&")};function ta(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cM(t,e){e&&!t.j&&(ir(t),t.i=null,t.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(JS(this,s),ew(this,o,n))},t)),t.j=e}var hM=class{constructor(t,e){this.g=t,this.map=e}};function tw(t){this.l=t||fM,ge.PerformanceNavigationTiming?(t=ge.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ge.g&&ge.g.Ka&&ge.g.Ka()&&ge.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fM=10;function nw(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function iw(t){return t.h?1:t.g?t.g.size:0}function Tp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function _g(t,e){t.g?t.g.add(e):t.h=e}function rw(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tw.prototype.cancel=function(){if(this.i=sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function sw(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return og(t.i)}var dM=class{stringify(t){return ge.JSON.stringify(t,void 0)}parse(t){return ge.JSON.parse(t,void 0)}};function pM(){this.g=new dM}function gM(t,e,n){const s=n||"";try{XS(t,function(o,u){let c=o;Rc(o)&&(c=dg(o)),e.push(s+u+"="+encodeURIComponent(c))})}catch(o){throw e.push(s+"type="+encodeURIComponent("_badmap")),o}}function mM(t,e){const n=new Mc;if(ge.Image){const s=new Image;s.onload=Ou(Iu,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ou(Iu,n,s,"TestLoadImage: error",!1,e),s.onabort=Ou(Iu,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ou(Iu,n,s,"TestLoadImage: timeout",!1,e),ge.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Iu(t,e,n,s,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(s)}catch{}}function nl(t){this.l=t.fc||null,this.j=t.ob||!1}wt(nl,yg);nl.prototype.g=function(){return new Bc(this.l,this.j)};nl.prototype.i=function(t){return function(){return t}}({});function Bc(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(Bc,St);var Tg=0;Z=Bc.prototype;Z.open=function(t,e){if(this.readyState!=Tg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zo(this)};Z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ge).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,il(this)),this.readyState=Tg};Z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zo(this)),this.g&&(this.readyState=3,zo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ge.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aw(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function aw(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?il(this):zo(this),this.readyState==3&&aw(this)}};Z.Za=function(t){this.g&&(this.response=this.responseText=t,il(this))};Z.Ya=function(t){this.g&&(this.response=t,il(this))};Z.ka=function(){this.g&&il(this)};function il(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zo(t)}Z.setRequestHeader=function(t,e){this.v.append(t,e)};Z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function zo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var yM=ge.JSON.parse;function rt(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ow,this.L=this.M=!1}wt(rt,St);var ow="",vM=/^https?$/i,EM=["POST","PUT"];Z=rt.prototype;Z.Oa=function(t){this.M=t};Z.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yp.g(),this.C=this.u?$E(this.u):$E(yp),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(u){QE(this,u);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var o in s)n.set(o,s[o]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const u of s.keys())n.set(u,s.get(u));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(u=>u.toLowerCase()=="content-type"),o=ge.FormData&&t instanceof ge.FormData,!(0<=AS(EM,e))||s||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of n)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cw(this),0<this.B&&((this.L=_M(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=mg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){QE(this,u)}};function _M(t){return Gs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Z.ua=function(){typeof ag<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ot(this,"timeout"),this.abort(8))};function QE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lw(t),jc(t)}function lw(t){t.F||(t.F=!0,Ot(t,"complete"),Ot(t,"error"))}Z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ot(this,"complete"),Ot(this,"abort"),jc(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jc(this,!0)),rt.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?uw(this):this.kb())};Z.kb=function(){uw(this)};function uw(t){if(t.h&&typeof ag<"u"&&(!t.C[1]||jn(t)!=4||t.da()!=2)){if(t.v&&jn(t)==4)mg(t.La,0,t);else if(Ot(t,"readystatechange"),jn(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=c===0){var o=String(t.I).match(ZS)[1]||null;!o&&ge.self&&ge.self.location&&(o=ge.self.location.protocol.slice(0,-1)),s=!vM.test(o?o.toLowerCase():"")}n=s}if(n)Ot(t,"complete"),Ot(t,"success");else{t.m=6;try{var u=2<jn(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.da()+"]",lw(t)}}finally{jc(t)}}}}function jc(t,e){if(t.g){cw(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ot(t,"ready");try{n.onreadystatechange=s}catch{}}}function cw(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ge.clearTimeout(t.A),t.A=null)}Z.isActive=function(){return!!this.g};function jn(t){return t.g?t.g.readyState:0}Z.da=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),yM(e)}};function XE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ow:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function TM(t){const e={};t=(t.g&&2<=jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(No(t[s]))continue;var n=$I(t[s]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const u=e[o]||[];e[o]=u,u.push(n)}BI(e,function(s){return s.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hw(t){let e="";return ug(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Sg(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=hw(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Qe(t,e,n))}function oo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fw(t){this.Ga=0,this.j=[],this.l=new Mc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oo("baseRetryDelayMs",5e3,t),this.hb=oo("retryDelaySeedMs",1e4,t),this.eb=oo("forwardChannelMaxRetries",2,t),this.xa=oo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new tw(t&&t.concurrentRequestLimit),this.Ja=new pM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=fw.prototype;Z.ra=8;Z.H=1;function wg(t){if(dw(t),t.H==3){var e=t.W++,n=pi(t.I);if(Qe(n,"SID",t.K),Qe(n,"RID",e),Qe(n,"TYPE","terminate"),rl(t,n),e=new el(t,t.l,e),e.L=2,e.v=zc(pi(n)),n=!1,ge.navigator&&ge.navigator.sendBeacon)try{n=ge.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ge.Image&&(new Image().src=e.v,n=!0),n||(e.g=Tw(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tl(e)}Ew(t)}function Vc(t){t.g&&(Ag(t),t.g.cancel(),t.g=null)}function dw(t){Vc(t),t.u&&(ge.clearTimeout(t.u),t.u=null),sc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ge.clearTimeout(t.m),t.m=null)}function qc(t){if(!nw(t.i)&&!t.m){t.m=!0;var e=t.Na;Mo||LS(),xo||(Mo(),xo=!0),pg.add(e,t),t.C=0}}function SM(t,e){return iw(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Jo(Bt(t.Na,t,e),vw(t,t.C)),t.C++,!0)}Z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new el(this,this.l,t);let u=this.s;if(this.U&&(u?(u=OS(u),NS(u,this.U)):u=this.U),this.o!==null||this.O||(o.I=u,u=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pw(this,o,e),n=pi(this.I),Qe(n,"RID",t),Qe(n,"CVER",22),this.F&&Qe(n,"X-HTTP-Session-Id",this.F),rl(this,n),u&&(this.O?e="headers="+encodeURIComponent(String(hw(u)))+"&"+e:this.o&&Sg(n,this.o,u)),_g(this.i,o),this.bb&&Qe(n,"TYPE","init"),this.P?(Qe(n,"$req",e),Qe(n,"SID","null"),o.aa=!0,Ep(o,n,null)):Ep(o,n,e),this.H=2}}else this.H==3&&(t?ZE(this,t):this.j.length==0||nw(this.i)||ZE(this))};function ZE(t,e){var n;e?n=e.m:n=t.W++;const s=pi(t.I);Qe(s,"SID",t.K),Qe(s,"RID",n),Qe(s,"AID",t.V),rl(t,s),t.o&&t.s&&Sg(s,t.o,t.s),n=new el(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=pw(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_g(t.i,n),Ep(n,s,e)}function rl(t,e){t.na&&ug(t.na,function(n,s){Qe(e,s,n)}),t.h&&XS({},function(n,s){Qe(e,s,n)})}function pw(t,e,n){n=Math.min(t.j.length,n);var s=t.h?Bt(t.h.Va,t.h,t):null;e:{var o=t.j;let u=-1;for(;;){const c=["count="+n];u==-1?0<n?(u=o[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let d=!0;for(let p=0;p<n;p++){let g=o[p].g;const y=o[p].map;if(g-=u,0>g)u=Math.max(0,o[p].g-100),d=!1;else try{gM(y,c,"req"+g+"_")}catch{s&&s(y)}}if(d){s=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function gw(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Mo||LS(),xo||(Mo(),xo=!0),pg.add(e,t),t.A=0}}function bg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Jo(Bt(t.Ma,t),vw(t,t.A)),t.A++,!0)}Z.Ma=function(){if(this.u=null,mw(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jo(Bt(this.jb,this),t)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ft(10),Vc(this),mw(this))};function Ag(t){t.B!=null&&(ge.clearTimeout(t.B),t.B=null)}function mw(t){t.g=new el(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pi(t.wa);Qe(e,"RID","rpc"),Qe(e,"SID",t.K),Qe(e,"AID",t.V),Qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qe(e,"TO",t.qa),Qe(e,"TYPE","xmlhttp"),rl(t,e),t.o&&t.s&&Sg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=zc(pi(e)),n.s=null,n.S=!0,$S(n,t)}Z.ib=function(){this.v!=null&&(this.v=null,Vc(this),bg(this),Ft(19))};function sc(t){t.v!=null&&(ge.clearTimeout(t.v),t.v=null)}function yw(t,e){var n=null;if(t.g==e){sc(t),Ag(t),t.g=null;var s=2}else if(Tp(t.i,e))n=e.F,rw(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;s=xc(),Ot(s,new HS(s,n)),qc(t)}else gw(t);else if(o=e.o,o==3||o==0&&0<e.ca||!(s==1&&SM(t,e)||s==2&&bg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:Rr(t,5);break;case 4:Rr(t,10);break;case 3:Rr(t,6);break;default:Rr(t,2)}}}function vw(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Rr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=Bt(t.pb,t);n||(n=new Nr("//www.google.com/images/cleardot.gif"),ge.location&&ge.location.protocol=="http"||ic(n,"https"),zc(n)),mM(n.toString(),s)}else Ft(2);t.H=0,t.h&&t.h.za(e),Ew(t),dw(t)}Z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ft(2)):(this.l.info("Failed to ping google.com"),Ft(1))};function Ew(t){if(t.H=0,t.ma=[],t.h){const e=sw(t.i);(e.length!=0||t.j.length!=0)&&(qE(t.ma,e),qE(t.ma,t.j),t.i.i.length=0,og(t.j),t.j.length=0),t.h.ya()}}function _w(t,e,n){var s=n instanceof Nr?pi(n):new Nr(n);if(s.g!="")e&&(s.g=e+"."+s.g),rc(s,s.m);else{var o=ge.location;s=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Nr(null);s&&ic(u,s),e&&(u.g=e),o&&rc(u,o),n&&(u.l=n),s=u}return n=t.F,e=t.Da,n&&e&&Qe(s,n,e),Qe(s,"VER",t.ra),rl(t,s),s}function Tw(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new rt(new nl({ob:!0})):new rt(t.va),e.Oa(t.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function Sw(){}Z=Sw.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function ac(){if(Gs&&!(10<=Number(UI)))throw Error("Environmental error: no available transport.")}ac.prototype.g=function(t,e){return new hn(t,e)};function hn(t,e){St.call(this),this.g=new fw(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!No(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!No(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new na(this)}wt(hn,St);hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ft(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=_w(t,null,t.Y),qc(t)};hn.prototype.close=function(){wg(this.g)};hn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dg(t),t=n);e.j.push(new hM(e.fb++,t)),e.H==3&&qc(e)};hn.prototype.N=function(){this.g.h=null,delete this.j,wg(this.g),delete this.g,hn.$.N.call(this)};function ww(t){vg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wt(ww,vg);function bw(){Eg.call(this),this.status=1}wt(bw,Eg);function na(t){this.g=t}wt(na,Sw);na.prototype.Ba=function(){Ot(this.g,"a")};na.prototype.Aa=function(t){Ot(this.g,new ww(t))};na.prototype.za=function(t){Ot(this.g,new bw)};na.prototype.ya=function(){Ot(this.g,"b")};function wM(){this.blockSize=-1}function On(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}wt(On,wM);On.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ld(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)s[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)s[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var u=t.g[3],c=e+(u^n&(o^u))+s[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=u+(o^e&(n^o))+s[1]+3905402710&4294967295,u=e+(c<<12&4294967295|c>>>20),c=o+(n^u&(e^n))+s[2]+606105819&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(e^o&(u^e))+s[3]+3250441966&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(u^n&(o^u))+s[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=u+(o^e&(n^o))+s[5]+1200080426&4294967295,u=e+(c<<12&4294967295|c>>>20),c=o+(n^u&(e^n))+s[6]+2821735955&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(e^o&(u^e))+s[7]+4249261313&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(u^n&(o^u))+s[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=u+(o^e&(n^o))+s[9]+2336552879&4294967295,u=e+(c<<12&4294967295|c>>>20),c=o+(n^u&(e^n))+s[10]+4294925233&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(e^o&(u^e))+s[11]+2304563134&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(u^n&(o^u))+s[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=u+(o^e&(n^o))+s[13]+4254626195&4294967295,u=e+(c<<12&4294967295|c>>>20),c=o+(n^u&(e^n))+s[14]+2792965006&4294967295,o=u+(c<<17&4294967295|c>>>15),c=n+(e^o&(u^e))+s[15]+1236535329&4294967295,n=o+(c<<22&4294967295|c>>>10),c=e+(o^u&(n^o))+s[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(e^n))+s[6]+3225465664&4294967295,u=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(u^e))+s[11]+643717713&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^e&(o^u))+s[0]+3921069994&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^u&(n^o))+s[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(e^n))+s[10]+38016083&4294967295,u=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(u^e))+s[15]+3634488961&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^e&(o^u))+s[4]+3889429448&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^u&(n^o))+s[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(e^n))+s[14]+3275163606&4294967295,u=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(u^e))+s[3]+4107603335&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^e&(o^u))+s[8]+1163531501&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(o^u&(n^o))+s[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=u+(n^o&(e^n))+s[2]+4243563512&4294967295,u=e+(c<<9&4294967295|c>>>23),c=o+(e^n&(u^e))+s[7]+1735328473&4294967295,o=u+(c<<14&4294967295|c>>>18),c=n+(u^e&(o^u))+s[12]+2368359562&4294967295,n=o+(c<<20&4294967295|c>>>12),c=e+(n^o^u)+s[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=u+(e^n^o)+s[8]+2272392833&4294967295,u=e+(c<<11&4294967295|c>>>21),c=o+(u^e^n)+s[11]+1839030562&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^e)+s[14]+4259657740&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^u)+s[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=u+(e^n^o)+s[4]+1272893353&4294967295,u=e+(c<<11&4294967295|c>>>21),c=o+(u^e^n)+s[7]+4139469664&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^e)+s[10]+3200236656&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^u)+s[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=u+(e^n^o)+s[0]+3936430074&4294967295,u=e+(c<<11&4294967295|c>>>21),c=o+(u^e^n)+s[3]+3572445317&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^e)+s[6]+76029189&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(n^o^u)+s[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=u+(e^n^o)+s[12]+3873151461&4294967295,u=e+(c<<11&4294967295|c>>>21),c=o+(u^e^n)+s[15]+530742520&4294967295,o=u+(c<<16&4294967295|c>>>16),c=n+(o^u^e)+s[2]+3299628645&4294967295,n=o+(c<<23&4294967295|c>>>9),c=e+(o^(n|~u))+s[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=u+(n^(e|~o))+s[7]+1126891415&4294967295,u=e+(c<<10&4294967295|c>>>22),c=o+(e^(u|~n))+s[14]+2878612391&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~e))+s[5]+4237533241&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~u))+s[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=u+(n^(e|~o))+s[3]+2399980690&4294967295,u=e+(c<<10&4294967295|c>>>22),c=o+(e^(u|~n))+s[10]+4293915773&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~e))+s[1]+2240044497&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~u))+s[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=u+(n^(e|~o))+s[15]+4264355552&4294967295,u=e+(c<<10&4294967295|c>>>22),c=o+(e^(u|~n))+s[6]+2734768916&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~e))+s[13]+1309151649&4294967295,n=o+(c<<21&4294967295|c>>>11),c=e+(o^(n|~u))+s[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=u+(n^(e|~o))+s[11]+3174756917&4294967295,u=e+(c<<10&4294967295|c>>>22),c=o+(e^(u|~n))+s[2]+718787259&4294967295,o=u+(c<<15&4294967295|c>>>17),c=n+(u^(o|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+u&4294967295}On.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,o=this.h,u=0;u<e;){if(o==0)for(;u<=n;)Ld(this,t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<e;)if(s[o++]=t.charCodeAt(u++),o==this.blockSize){Ld(this,s),o=0;break}}else for(;u<e;)if(s[o++]=t[u++],o==this.blockSize){Ld(this,s),o=0;break}}this.h=o,this.i+=e};On.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function qe(t,e){this.h=e;for(var n=[],s=!0,o=t.length-1;0<=o;o--){var u=t[o]|0;s&&u==e||(n[o]=u,s=!1)}this.g=n}var bM={};function Rg(t){return-128<=t&&128>t?II(t,function(e){return new qe([e|0],0>e?-1:0)}):new qe([t|0],0>t?-1:0)}function Vn(t){if(isNaN(t)||!isFinite(t))return zs;if(0>t)return Dt(Vn(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Sp;return new qe(e,0)}function Aw(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Dt(Aw(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Vn(Math.pow(e,8)),s=zs,o=0;o<t.length;o+=8){var u=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+u),e);8>u?(u=Vn(Math.pow(e,u)),s=s.R(u).add(Vn(c))):(s=s.R(n),s=s.add(Vn(c)))}return s}var Sp=4294967296,zs=Rg(0),wp=Rg(1),JE=Rg(16777216);Z=qe.prototype;Z.ea=function(){if(Tn(this))return-Dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Sp+s)*e,e*=Sp}return t};Z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fi(this))return"0";if(Tn(this))return"-"+Dt(this).toString(t);for(var e=Vn(Math.pow(t,6)),n=this,s="";;){var o=lc(n,e).g;n=oc(n,o.R(e));var u=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,fi(n))return u+s;for(;6>u.length;)u="0"+u;s=u+s}};Z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tn(t){return t.h==-1}Z.X=function(t){return t=oc(this,t),Tn(t)?-1:fi(t)?0:1};function Dt(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new qe(n,~t.h).add(wp)}Z.abs=function(){return Tn(this)?Dt(this):this};Z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,o=0;o<=e;o++){var u=s+(this.D(o)&65535)+(t.D(o)&65535),c=(u>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);s=c>>>16,u&=65535,c&=65535,n[o]=c<<16|u}return new qe(n,n[n.length-1]&-2147483648?-1:0)};function oc(t,e){return t.add(Dt(e))}Z.R=function(t){if(fi(this)||fi(t))return zs;if(Tn(this))return Tn(t)?Dt(this).R(Dt(t)):Dt(Dt(this).R(t));if(Tn(t))return Dt(this.R(Dt(t)));if(0>this.X(JE)&&0>t.X(JE))return Vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var o=0;o<t.g.length;o++){var u=this.D(s)>>>16,c=this.D(s)&65535,d=t.D(o)>>>16,p=t.D(o)&65535;n[2*s+2*o]+=c*p,Mu(n,2*s+2*o),n[2*s+2*o+1]+=u*p,Mu(n,2*s+2*o+1),n[2*s+2*o+1]+=c*d,Mu(n,2*s+2*o+1),n[2*s+2*o+2]+=u*d,Mu(n,2*s+2*o+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new qe(n,0)};function Mu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function lo(t,e){this.g=t,this.h=e}function lc(t,e){if(fi(e))throw Error("division by zero");if(fi(t))return new lo(zs,zs);if(Tn(t))return e=lc(Dt(t),e),new lo(Dt(e.g),Dt(e.h));if(Tn(e))return e=lc(t,Dt(e)),new lo(Dt(e.g),e.h);if(30<t.g.length){if(Tn(t)||Tn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=wp,s=e;0>=s.X(t);)n=WE(n),s=WE(s);var o=Ns(n,1),u=Ns(s,1);for(s=Ns(s,2),n=Ns(n,2);!fi(s);){var c=u.add(s);0>=c.X(t)&&(o=o.add(n),u=c),s=Ns(s,1),n=Ns(n,1)}return e=oc(t,o.R(e)),new lo(o,e)}for(o=zs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),u=Vn(n),c=u.R(e);Tn(c)||0<c.X(t);)n-=s,u=Vn(n),c=u.R(e);fi(u)&&(u=wp),o=o.add(u),t=oc(t,c)}return new lo(o,t)}Z.gb=function(t){return lc(this,t).h};Z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new qe(n,this.h&t.h)};Z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new qe(n,this.h|t.h)};Z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new qe(n,this.h^t.h)};function WE(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new qe(n,t.h)}function Ns(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,o=[],u=0;u<s;u++)o[u]=0<e?t.D(u+n)>>>e|t.D(u+n+1)<<32-e:t.D(u+n);return new qe(o,t.h)}ac.prototype.createWebChannel=ac.prototype.g;hn.prototype.send=hn.prototype.u;hn.prototype.open=hn.prototype.m;hn.prototype.close=hn.prototype.close;Uc.NO_ERROR=0;Uc.TIMEOUT=8;Uc.HTTP_ERROR=6;PS.COMPLETE="complete";GS.EventType=Wo;Wo.OPEN="a";Wo.CLOSE="b";Wo.ERROR="c";Wo.MESSAGE="d";St.prototype.listen=St.prototype.O;rt.prototype.listenOnce=rt.prototype.P;rt.prototype.getLastError=rt.prototype.Sa;rt.prototype.getLastErrorCode=rt.prototype.Ia;rt.prototype.getStatus=rt.prototype.da;rt.prototype.getResponseJson=rt.prototype.Wa;rt.prototype.getResponseText=rt.prototype.ja;rt.prototype.send=rt.prototype.ha;rt.prototype.setWithCredentials=rt.prototype.Oa;On.prototype.digest=On.prototype.l;On.prototype.reset=On.prototype.reset;On.prototype.update=On.prototype.j;qe.prototype.add=qe.prototype.add;qe.prototype.multiply=qe.prototype.R;qe.prototype.modulo=qe.prototype.gb;qe.prototype.compare=qe.prototype.X;qe.prototype.toNumber=qe.prototype.ea;qe.prototype.toString=qe.prototype.toString;qe.prototype.getBits=qe.prototype.D;qe.fromNumber=Vn;qe.fromString=Aw;var AM=function(){return new ac},RM=function(){return xc()},zd=Uc,CM=PS,DM=qr,e_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},OM=nl,xu=GS,NM=rt,IM=On,Bs=qe;const t_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Hp("@firebase/firestore");function n_(){return Lr.logLevel}function re(t,...e){if(Lr.logLevel<=Ue.DEBUG){const n=e.map(Cg);Lr.debug(`Firestore (${ia}): ${t}`,...n)}}function gi(t,...e){if(Lr.logLevel<=Ue.ERROR){const n=e.map(Cg);Lr.error(`Firestore (${ia}): ${t}`,...n)}}function Fs(t,...e){if(Lr.logLevel<=Ue.WARN){const n=e.map(Cg);Lr.warn(`Firestore (${ia}): ${t}`,...n)}}function Cg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+t;throw gi(e),new Error(e)}function Ze(t,e){t||pe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class xM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UM{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ir,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ir)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ze(typeof s.accessToken=="string"),new Rw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new kt(e)}}class kM{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class LM{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new kM(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BM{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=u=>{u.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.T=n.token,new zM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=jM(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function Le(t,e){return t<e?-1:t>e?1:0}function $s(t,e,n){return t.length===e.length&&t.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ne(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new mt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new mt(0,0))}static max(){return new ve(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,s){n===void 0?n=0:n>e.length&&pe(),s===void 0?s=e.length-n:s>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Bo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bo?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=e.get(o),c=n.get(o);if(u<c)return-1;if(u>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Bo{construct(e,n,s){return new Xe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ne(V.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const VM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Bo{construct(e,n,s){return new zt(e,n,s)}static isValidIdentifier(e){return VM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ne(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ne(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ne(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new ne(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Xe.fromString(e))}static fromName(e){return new oe(Xe.fromString(e).popFirst(5))}static empty(){return new oe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Xe(e.slice()))}}function qM(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new Wi(o,oe.empty(),e)}function HM(t){return new Wi(t.readTime,t.key,-1)}class Wi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wi(ve.min(),oe.empty(),-1)}static max(){return new Wi(ve.max(),oe.empty(),-1)}}function PM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==GM)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,s)=>{n(e)})}static reject(e){return new $((n,s)=>{s(e)})}static waitFor(e){return new $((n,s)=>{let o=0,u=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++u,c&&u===o&&n()},p=>s(p))}),c=!0,u===o&&n()})}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new $((s,o)=>{const u=e.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(y=>{c[g]=y,++d,d===u&&s(c)},y=>o(y))}})}static doWhile(e,n){return new $((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Dg.ct=-1;function Hc(t){return t==null}function uc(t){return t===0&&1/t==-1/0}function $M(t){return typeof t=="number"&&Number.isInteger(t)&&!uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=o??Ct.EMPTY,this.right=u??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ct(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ct.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,e,n,s,o){return this}insert(t,e,n){return new Ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Vt(zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ow("Invalid base64 string: "+o):o}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const KM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=KM.exec(t);if(Ze(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ng(t){const e=t.mapValue.fields.__previous_value__;return Og(e)?Ng(e):e}function jo(t){const e=er(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n,s,o,u,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}class Vo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku={mapValue:{}};function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Og(t)?4:QM(t)?9007199254740991:10:pe()}function $n(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=er(s.timestampValue),c=er(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return zr(s.bytesValue).isEqual(zr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return ft(s.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return ft(s.integerValue)===ft(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=ft(s.doubleValue),c=ft(o.doubleValue);return u===c?uc(u)===uc(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:return function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(i_(u)!==i_(c))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(c[d]===void 0||!$n(u[d],c[d])))return!1;return!0}(t,e);default:return pe()}}function qo(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function Ks(t,e){if(t===e)return 0;const n=Br(t),s=Br(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(o,u){const c=ft(o.integerValue||o.doubleValue),d=ft(u.integerValue||u.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return s_(t.timestampValue,e.timestampValue);case 4:return s_(jo(t),jo(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(o,u){const c=zr(o),d=zr(u);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const c=o.split("/"),d=u.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=Le(c[p],d[p]);if(g!==0)return g}return Le(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const c=Le(ft(o.latitude),ft(u.latitude));return c!==0?c:Le(ft(o.longitude),ft(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){const c=o.values||[],d=u.values||[];for(let p=0;p<c.length&&p<d.length;++p){const g=Ks(c[p],d[p]);if(g)return g}return Le(c.length,d.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===ku.mapValue&&u===ku.mapValue)return 0;if(o===ku.mapValue)return 1;if(u===ku.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),p=u.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const _=Le(d[y],g[y]);if(_!==0)return _;const S=Ks(c[d[y]],p[g[y]]);if(S!==0)return S}return Le(d.length,g.length)}(t.mapValue,e.mapValue);default:throw pe()}}function s_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=er(t),s=er(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function Ys(t){return bp(t)}function bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const o=er(s);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?zr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let o="[",u=!0;for(const c of s.values||[])u?u=!1:o+=",",o+=bp(c);return o+"]"}(t.arrayValue):"mapValue"in t?function(s){const o=Object.keys(s.fields||{}).sort();let u="{",c=!0;for(const d of o)c?c=!1:u+=",",u+=`${d}:${bp(s.fields[d])}`;return u+"}"}(t.mapValue):pe();var e,n}function a_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ap(t){return!!t&&"integerValue"in t}function Ig(t){return!!t&&"arrayValue"in t}function o_(t){return!!t&&"nullValue"in t}function l_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pu(t){return!!t&&"mapValue"in t}function So(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ra(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=So(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=So(t.arrayValue.values[n]);return e}return Object.assign({},t)}function QM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=So(n)}setAll(e){let n=zt.emptyPath(),s={},o=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=So(c):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Pu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ra(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Sn(So(this.value))}}function Nw(t){const e=[];return ra(t.fields,(n,s)=>{const o=new zt([n]);if(Pu(s)){const u=Nw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,s,o,u,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Lt(e,0,ve.min(),ve.min(),ve.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,o){return new Lt(e,1,n,ve.min(),s,o,0)}static newNoDocument(e,n){return new Lt(e,2,n,ve.min(),ve.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,ve.min(),ve.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.position=e,this.inclusive=n}}function u_(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const u=e[o],c=t.position[o];if(u.field.isKeyField()?s=oe.comparator(oe.fromName(c.referenceValue),n.key):s=Ks(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function c_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n="asc"){this.field=e,this.dir=n}}function XM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{}class dt extends Iw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new JM(e,n,s):n==="array-contains"?new t2(e,s):n==="in"?new n2(e,s):n==="not-in"?new i2(e,s):n==="array-contains-any"?new r2(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WM(e,s):new e2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ks(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Nn extends Iw{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Nn(e,n)}matches(e){return Mw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Mw(t){return t.op==="and"}function xw(t){return ZM(t)&&Mw(t)}function ZM(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function Rp(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Ys(t.value);if(xw(t))return t.filters.map(e=>Rp(e)).join(",");{const e=t.filters.map(n=>Rp(n)).join(",");return`${t.op}(${e})`}}function Uw(t,e){return t instanceof dt?function(n,s){return s instanceof dt&&n.op===s.op&&n.field.isEqual(s.field)&&$n(n.value,s.value)}(t,e):t instanceof Nn?function(n,s){return s instanceof Nn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((o,u,c)=>o&&Uw(u,s.filters[c]),!0):!1}(t,e):void pe()}function kw(t){return t instanceof dt?function(e){return`${e.field.canonicalString()} ${e.op} ${Ys(e.value)}`}(t):t instanceof Nn?function(e){return e.op.toString()+" {"+e.getFilters().map(kw).join(" ,")+"}"}(t):"Filter"}class JM extends dt{constructor(e,n,s){super(e,n,s),this.key=oe.fromName(s.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class WM extends dt{constructor(e,n){super(e,"in",n),this.keys=Lw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class e2 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=Lw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>oe.fromName(s.referenceValue))}class t2 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ig(n)&&qo(n.arrayValue,this.value)}}class n2 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qo(this.value.arrayValue,n)}}class i2 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qo(this.value.arrayValue,n)}}class r2 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n=null,s=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.dt=null}}function h_(t,e=null,n=[],s=[],o=null,u=null,c=null){return new s2(t,e,n,s,o,u,c)}function Mg(t){const e=_e(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Rp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),Hc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ys(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ys(s)).join(",")),e.dt=n}return e.dt}function xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Uw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c_(t.startAt,e.startAt)&&c_(t.endAt,e.endAt)}function Cp(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.wt=null,this._t=null,this.startAt,this.endAt}}function a2(t,e,n,s,o,u,c,d){return new sa(t,e,n,s,o,u,c,d)}function Ug(t){return new sa(t)}function f_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kg(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function zw(t){return t.collectionGroup!==null}function Vs(t){const e=_e(t);if(e.wt===null){e.wt=[];const n=Pc(e),s=kg(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new js(n)),e.wt.push(new js(zt.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new js(zt.keyField(),u))}}}return e.wt}function mi(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=h_(e.path,e.collectionGroup,Vs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const u of Vs(e)){const c=u.dir==="desc"?"asc":"desc";n.push(new js(u.field,c))}const s=e.endAt?new cc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new cc(e.startAt.position,e.startAt.inclusive):null;e._t=h_(e.path,e.collectionGroup,n,e.filters,e.limit,s,o)}return e._t}function Dp(t,e){e.getFirstInequalityField(),Pc(t);const n=t.filters.concat([e]);return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Op(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gc(t,e){return xg(mi(t),mi(e))&&t.limitType===e.limitType}function Bw(t){return`${Mg(mi(t))}|lt:${t.limitType}`}function Np(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>kw(s)).join(", ")}]`),Hc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ys(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ys(s)).join(",")),`Target(${n})`}(mi(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):oe.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,s){for(const o of Vs(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,u,c){const d=u_(o,u,c);return o.inclusive?d<=0:d<0}(n.startAt,Vs(n),s)||n.endAt&&!function(o,u,c){const d=u_(o,u,c);return o.inclusive?d>=0:d>0}(n.endAt,Vs(n),s))}(t,e)}function o2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jw(t){return(e,n)=>{let s=!1;for(const o of Vs(t)){const u=l2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function l2(t,e,n){const s=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,u,c){const d=u.data.field(o),p=c.data.field(o);return d!==null&&p!==null?Ks(d,p):pe()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new et(oe.comparator);function yi(){return u2}const Vw=new et(oe.comparator);function mo(...t){let e=Vw;for(const n of t)e=e.insert(n.key,n);return e}function qw(t){let e=Vw;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Cr(){return wo()}function Hw(){return wo()}function wo(){return new aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const c2=new et(oe.comparator),h2=new Vt(oe.comparator);function Ce(...t){let e=h2;for(const n of t)e=e.add(n);return e}const f2=new Vt(Le);function d2(){return f2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function Gw(t){return{integerValue:""+t}}function p2(t,e){return $M(e)?Gw(e):Pw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function g2(t,e,n){return t instanceof hc?function(s,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Og(o)&&(o=Ng(o)),o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof Ho?$w(t,e):t instanceof Po?Kw(t,e):function(s,o){const u=Fw(s,o),c=d_(u)+d_(s.gt);return Ap(u)&&Ap(s.gt)?Gw(c):Pw(s.serializer,c)}(t,e)}function m2(t,e,n){return t instanceof Ho?$w(t,e):t instanceof Po?Kw(t,e):n}function Fw(t,e){return t instanceof fc?Ap(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class hc extends $c{}class Ho extends $c{constructor(e){super(),this.elements=e}}function $w(t,e){const n=Yw(e);for(const s of t.elements)n.some(o=>$n(o,s))||n.push(s);return{arrayValue:{values:n}}}class Po extends $c{constructor(e){super(),this.elements=e}}function Kw(t,e){let n=Yw(e);for(const s of t.elements)n=n.filter(o=>!$n(o,s));return{arrayValue:{values:n}}}class fc extends $c{constructor(e,n){super(),this.serializer=e,this.gt=n}}function d_(t){return ft(t.integerValue||t.doubleValue)}function Yw(t){return Ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function y2(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Ho&&s instanceof Ho||n instanceof Po&&s instanceof Po?$s(n.elements,s.elements,$n):n instanceof fc&&s instanceof fc?$n(n.gt,s.gt):n instanceof hc&&s instanceof hc}(t.transform,e.transform)}class v2{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kc{}function Qw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Lg(t.key,Gn.none()):new ol(t.key,t.data,Gn.none());{const n=t.data,s=Sn.empty();let o=new Vt(zt.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Hr(t.key,s,new Cn(o.toArray()),Gn.none())}}function E2(t,e,n){t instanceof ol?function(s,o,u){const c=s.value.clone(),d=g_(s.fieldTransforms,o,u.transformResults);c.setAll(d),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Hr?function(s,o,u){if(!Gu(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=g_(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(Xw(s)),d.setAll(c),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function bo(t,e,n,s){return t instanceof ol?function(o,u,c,d){if(!Gu(o.precondition,u))return c;const p=o.value.clone(),g=m_(o.fieldTransforms,d,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,s):t instanceof Hr?function(o,u,c,d){if(!Gu(o.precondition,u))return c;const p=m_(o.fieldTransforms,d,u),g=u.data;return g.setAll(Xw(o)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,s):function(o,u,c){return Gu(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,n)}function _2(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),u=Fw(s.transform,o||null);u!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,u))}return n||null}function p_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&$s(n,s,(o,u)=>y2(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ol extends Kc{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Kc{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Xw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function g_(t,e,n){const s=new Map;Ze(t.length===n.length);for(let o=0;o<n.length;o++){const u=t[o],c=u.transform,d=e.data.field(u.field);s.set(u.field,m2(c,d,n[o]))}return s}function m_(t,e,n){const s=new Map;for(const o of t){const u=o.transform,c=n.data.field(o.field);s.set(o.field,g2(u,c,e))}return s}class Lg extends Kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T2 extends Kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&E2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=bo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=bo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Hw();return this.mutations.forEach(o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=Qw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,s)=>p_(n,s))&&$s(this.baseMutations,e.baseMutations,(n,s)=>p_(n,s))}}class zg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ze(e.mutations.length===s.length);let o=c2;const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new zg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ne;function A2(t){switch(t){default:return pe();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function Zw(t){if(t===void 0)return gi("GRPC error has no .code"),V.UNKNOWN;switch(t){case ht.OK:return V.OK;case ht.CANCELLED:return V.CANCELLED;case ht.UNKNOWN:return V.UNKNOWN;case ht.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ht.INTERNAL:return V.INTERNAL;case ht.UNAVAILABLE:return V.UNAVAILABLE;case ht.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ht.NOT_FOUND:return V.NOT_FOUND;case ht.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ht.ABORTED:return V.ABORTED;case ht.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ht.DATA_LOSS:return V.DATA_LOSS;default:return pe()}}(Ne=ht||(ht={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Lu}static getOrCreateInstance(){return Lu===null&&(Lu=new Bg),Lu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Lu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Bs([4294967295,4294967295],0);function y_(t){const e=R2().encode(t),n=new IM;return n.update(e),new Uint8Array(n.digest())}function v_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Bs([n,s],0),new Bs([o,u],0)]}class jg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(s<0)throw new yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Bs.fromNumber(this.It)}Et(e,n,s){let o=e.add(n.multiply(Bs.fromNumber(s)));return o.compare(C2)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=y_(e),[s,o]=v_(n);for(let u=0;u<this.hashCount;u++){const c=this.Et(s,o,u);if(!this.At(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new jg(u,o,n);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.It===0)return;const n=y_(e),[s,o]=v_(n);for(let u=0;u<this.hashCount;u++){const c=this.Et(s,o,u);this.Rt(c)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yc(ve.min(),o,new et(Le),yi(),Ce())}}class ll{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ll(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,s,o){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=o}}class Jw{constructor(e,n){this.targetId=e,this.Vt=n}}class Ww{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class E_{constructor(){this.St=0,this.Dt=T_(),this.Ct=Ht.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ce(),n=Ce(),s=Ce();return this.Dt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:pe()}}),new ll(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=T_()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class D2{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=yi(),this.zt=__(),this.Wt=new et(Le)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,o)=>{this.te(o)&&n(o)})}ne(e){var n;const s=e.targetId,o=e.Vt.count,u=this.se(s);if(u){const c=u.target;if(Cp(c))if(o===0){const d=new oe(c.path);this.Yt(s,d,Lt.newNoDocument(d,ve.min()))}else Ze(o===1);else{const d=this.ie(s);if(d!==o){const p=this.re(e,d);if(p!==0){this.ee(s);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,g)}(n=Bg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(g,y,_){var S,A,U,P,q,z;const G={localCacheCount:y,existenceFilterCount:_.count},M=_.unchangedNames;return M&&(G.bloomFilter={applied:g===0,hashCount:(S=M?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(P=(U=(A=M?.bits)===null||A===void 0?void 0:A.bitmap)===null||U===void 0?void 0:U.length)!==null&&P!==void 0?P:0,padding:(z=(q=M?.bits)===null||q===void 0?void 0:q.padding)!==null&&z!==void 0?z:0}),G}(p,d,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:o}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:d=0}=s;let p,g;try{p=zr(u).toUint8Array()}catch(y){if(y instanceof Ow)return Fs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw y}try{g=new jg(p,c,d)}catch(y){return Fs(y instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",y),1}return g.It===0?1:o!==n-this.oe(e.targetId,g)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let o=0;return s.forEach(u=>{const c=this.Gt.ue(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;n.vt(d)||(this.Yt(e,u,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((u,c)=>{const d=this.se(c);if(d){if(u.current&&Cp(d.target)){const p=new oe(d.target.path);this.jt.get(p)!==null||this.ae(c,p)||this.Yt(c,p,Lt.newNoDocument(p,e))}u.Mt&&(n.set(c,u.Ot()),u.Ft())}});let s=Ce();this.zt.forEach((u,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.se(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const o=new Yc(e,n,this.Wt,this.jt,s);return this.jt=yi(),this.zt=__(),this.Wt=new et(Le),o}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new E_,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Vt(Le),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new E_),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function __(){return new et(oe.comparator)}function T_(){return new et(oe.comparator)}const O2={asc:"ASCENDING",desc:"DESCENDING"},N2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I2={and:"AND",or:"OR"};class M2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ip(t,e){return t.useProto3Json||Hc(e)?e:{value:e}}function dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x2(t,e){return dc(t,e.toTimestamp())}function Fn(t){return Ze(!!t),ve.fromTimestamp(function(e){const n=er(e);return new mt(n.seconds,n.nanos)}(t))}function Vg(t,e){return function(n){return new Xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function tb(t){const e=Xe.fromString(t);return Ze(sb(e)),e}function Mp(t,e){return Vg(t.databaseId,e.path)}function Bd(t,e){const n=tb(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(nb(n))}function xp(t,e){return Vg(t.databaseId,e)}function U2(t){const e=tb(t);return e.length===4?Xe.emptyPath():nb(e)}function Up(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nb(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S_(t,e,n){return{name:Mp(t,e),fields:n.value.mapValue.fields}}function k2(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,g){return p.useProto3Json?(Ze(g===void 0||typeof g=="string"),Ht.fromBase64String(g||"")):(Ze(g===void 0||g instanceof Uint8Array),Ht.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const g=p.code===void 0?V.UNKNOWN:Zw(p.code);return new ne(g,p.message||"")}(c);n=new Ww(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Bd(t,s.document.name),u=Fn(s.document.updateTime),c=s.document.createTime?Fn(s.document.createTime):ve.min(),d=new Sn({mapValue:{fields:s.document.fields}}),p=Lt.newFoundDocument(o,u,c,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new Fu(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Bd(t,s.document),u=s.readTime?Fn(s.readTime):ve.min(),c=Lt.newNoDocument(o,u),d=s.removedTargetIds||[];n=new Fu([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Bd(t,s.document),u=s.removedTargetIds||[];n=new Fu([],u,o,null)}else{if(!("filter"in e))return pe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new b2(o,u),d=s.targetId;n=new Jw(d,c)}}return n}function L2(t,e){let n;if(e instanceof ol)n={update:S_(t,e.key,e.value)};else if(e instanceof Lg)n={delete:Mp(t,e.key)};else if(e instanceof Hr)n={update:S_(t,e.key,e.data),updateMask:F2(e.fieldMask)};else{if(!(e instanceof T2))return pe();n={verify:Mp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(o,u){const c=u.transform;if(c instanceof hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ho)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Po)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fc)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw pe()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:x2(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pe()}(t,e.precondition)),n}function z2(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(s,o){let u=s.updateTime?Fn(s.updateTime):Fn(o);return u.isEqual(ve.min())&&(u=Fn(o)),new v2(u,s.transformResults||[])}(n,e))):[]}function B2(t,e){return{documents:[xp(t,e.path)]}}function j2(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=xp(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xp(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(p){if(p.length!==0)return rb(Nn.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(g=>function(y){return{field:Is(y.field),direction:H2(y.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const c=Ip(t,e.limit);var d;return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),n}function V2(t){let e=U2(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ze(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let u=[];n.where&&(u=function(y){const _=ib(y);return _ instanceof Nn&&xw(_)?_.getFilters():[_]}(n.where));let c=[];n.orderBy&&(c=n.orderBy.map(y=>function(_){return new js(Ms(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(y)));let d=null;n.limit&&(d=function(y){let _;return _=typeof y=="object"?y.value:y,Hc(_)?null:_}(n.limit));let p=null;n.startAt&&(p=function(y){const _=!!y.before,S=y.values||[];return new cc(S,_)}(n.startAt));let g=null;return n.endAt&&(g=function(y){const _=!y.before,S=y.values||[];return new cc(S,_)}(n.endAt)),a2(e,o,c,u,d,"F",p,g)}function q2(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ib(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ms(e.unaryFilter.field);return dt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ms(e.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ms(e.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ms(e.unaryFilter.field);return dt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(e){return dt.create(Ms(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Nn.create(e.compositeFilter.filters.map(n=>ib(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return pe()}}(e.compositeFilter.op))}(t):pe()}function H2(t){return O2[t]}function P2(t){return N2[t]}function G2(t){return I2[t]}function Is(t){return{fieldPath:t.canonicalString()}}function Ms(t){return zt.fromServerFormat(t.fieldPath)}function rb(t){return t instanceof dt?function(e){if(e.op==="=="){if(l_(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NAN"}};if(o_(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(l_(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NOT_NAN"}};if(o_(e.value))return{unaryFilter:{field:Is(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(e.field),op:P2(e.op),value:e.value}}}(t):t instanceof Nn?function(e){const n=e.getFilters().map(s=>rb(s));return n.length===1?n[0]:{compositeFilter:{op:G2(e.op),filters:n}}}(t):pe()}function F2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,s,o,u=ve.min(),c=ve.min(),d=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.fe=e}}function K2(t){const e=V2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.rn=new Q2}addToCollectionParentIndex(e,n){return this.rn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Wi.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class Q2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(Xe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qs(0)}static Mn(){return new Qs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&bo(s.mutation,o,Cn.empty(),mt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const o=Cr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let c=mo();return u.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=Cr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,s,o){let u=yi();const c=wo(),d=wo();return n.forEach((p,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof Hr)?u=u.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),bo(y.mutation,g,y.mutation.getFieldMask(),mt.now())):c.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,y)=>c.set(g,y)),n.forEach((g,y)=>{var _;return d.set(g,new Z2(y,(_=c.get(g))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const s=wo();let o=new et((c,d)=>c-d),u=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let y=s.get(p)||Cn.empty();y=d.applyToLocalView(g,y),s.set(p,y);const _=(o.get(d.batchId)||Ce()).add(p);o=o.insert(d.batchId,_)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,_=Hw();y.forEach(S=>{if(!u.has(S)){const A=Qw(n.get(S),s.get(S));A!==null&&_.set(S,A),u=u.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return $.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):$.resolve(Cr());let d=-1,p=u;return c.next(g=>$.forEach(g,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),u.get(y)?$.resolve():this.remoteDocumentCache.getEntry(e,y).next(S=>{p=p.insert(y,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ce())).next(y=>({batchId:d,changes:qw(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(s=>{let o=mo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const o=n.collectionGroup;let u=mo();return this.indexManager.getCollectionParents(e,o).next(c=>$.forEach(c,d=>{const p=function(g,y){return new sa(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,s).next(g=>{g.forEach((y,_)=>{u=u.insert(y,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,o))).next(u=>{o.forEach((d,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Lt.newInvalidDocument(g)))});let c=mo();return u.forEach((d,p)=>{const g=o.get(d);g!==void 0&&bo(g.mutation,p,Cn.empty(),mt.now()),Fc(n,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return $.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Fn(s.createTime)}),$.resolve()}getNamedQuery(e,n){return $.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:K2(s.bundledQuery),readTime:Fn(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.overlays=new et(oe.comparator),this.ls=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Cr();return $.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.we(e,n,u)}),$.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.ls.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const o=Cr(),u=n.length+1,c=new oe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new et((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=Cr(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Cr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return $.resolve(d)}we(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.ls.get(o.largestBatchId).delete(s.key);this.ls.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new w2(n,s));let u=this.ls.get(n);u===void 0&&(u=Ce(),this.ls.set(n,u)),this.ls.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.fs=new Vt(Tt.ds),this.ws=new Vt(Tt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new Tt(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new Tt(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new oe(new Xe([])),s=new Tt(n,e),o=new Tt(n,e+1),u=[];return this.ws.forEachInRange([s,o],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new oe(new Xe([])),s=new Tt(n,e),o=new Tt(n,e+1);let u=Ce();return this.ws.forEachInRange([s,o],c=>{u=u.add(c.key)}),u}containsKey(e){const n=new Tt(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return oe.comparator(e.key,n.key)||Le(e.As,n.As)}static _s(e,n){return Le(e.As,n.As)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Vt(Tt.ds)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new S2(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Rs=this.Rs.add(new Tt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return $.resolve(c)}lookupMutationBatch(e,n){return $.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.bs(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Tt(n,0),o=new Tt(n,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([s,o],c=>{const d=this.Ps(c.As);u.push(d)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Le);return n.forEach(o=>{const u=new Tt(o,0),c=new Tt(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],d=>{s=s.add(d.As)})}),$.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;oe.isDocumentKey(u)||(u=u.child(""));const c=new Tt(new oe(u),0);let d=new Vt(Le);return this.Rs.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.As)),!0)},c),$.resolve(this.Vs(d))}Vs(e){const n=[];return e.forEach(s=>{const o=this.Ps(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ze(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return $.forEach(n.mutations,o=>{const u=new Tt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new Tt(n,0),o=this.Rs.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.Ds=e,this.docs=new et(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let s=yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Lt.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yi();const c=n.path,d=new oe(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||PM(HM(y),s)<=0||(o.has(y.key)||Fc(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,o){pe()}Cs(e,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ix(this)}getSize(e){return $.resolve(this.size)}}class ix extends X2{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(s)}),$.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.persistence=e,this.xs=new aa(n=>Mg(n),xg),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qg,this.targetCount=0,this.Ms=Qs.kn()}forEachTarget(e,n){return this.xs.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),$.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Qs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Fn(n),$.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.xs.forEach((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),$.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(c=>{u.push(o.markPotentiallyOrphaned(e,c))}),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.$s={},this.overlays={},this.Os=new Dg(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rx(this),this.indexManager=new Y2,this.remoteDocumentCache=function(s){return new nx(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new $2(n),this.qs=new W2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ex,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new tx(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){re("MemoryPersistence","Starting transaction:",e);const o=new ax(this.Os.next());return this.referenceDelegate.Us(),s(o).next(u=>this.referenceDelegate.Ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Gs(e,n){return $.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class ax extends FM{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Qs=new qg,this.js=null}static zs(e){return new Hg(e)}get Ws(){if(this.js)return this.js;throw pe()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),$.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.Ws.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Ws,s=>{const o=oe.fromPath(s);return this.Hs(e,o).next(u=>{u||n.removeEntry(o,ve.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return $.or([()=>$.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=o}static Li(e,n){let s=Ce(),o=Ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,o){return this.Ki(e,n).next(u=>u||this.Gi(e,n,o,s)).next(u=>u||this.Qi(e,n))}Ki(e,n){if(f_(n))return $.resolve(null);let s=mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Op(n,null,"F"),s=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const c=Ce(...u);return this.Ui.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ji(n,d);return this.zi(n,g,c,p.readTime)?this.Ki(e,Op(n,null,"F")):this.Wi(e,g,n,p)}))})))}Gi(e,n,s,o){return f_(n)||o.isEqual(ve.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(u=>{const c=this.ji(n,u);return this.zi(n,c,s,o)?this.Qi(e,n):(n_()<=Ue.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Np(n)),this.Wi(e,c,n,qM(o,-1)))})}ji(e,n){let s=new Vt(jw(e));return n.forEach((o,u)=>{Fc(e,u)&&(s=s.add(u))}),s}zi(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Qi(e,n){return n_()<=Ue.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Np(n)),this.Ui.getDocumentsMatchingQuery(e,n,Wi.min())}Wi(e,n,s,o){return this.Ui.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,s,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new et(Le),this.Yi=new aa(u=>Mg(u),xg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function ux(t,e,n,s){return new lx(t,e,n,s)}async function ab(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const c=[],d=[];let p=Ce();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next(g=>({er:g,removedBatchIds:c,addedBatchIds:d}))})})}function cx(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Zi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,g){const y=p.batch,_=y.keys();let S=$.resolve();return _.forEach(A=>{S=S.next(()=>g.getEntry(d,A)).next(U=>{const P=p.docVersions.get(A);Ze(P!==null),U.version.compareTo(P)<0&&(y.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),g.addEntry(U)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let d=Ce();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ob(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function hx(t,e){const n=_e(t),s=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const d=[];e.targetChanges.forEach((y,_)=>{const S=o.get(_);if(!S)return;d.push(n.Bs.removeMatchingKeys(u,y.removedDocuments,_).next(()=>n.Bs.addMatchingKeys(u,y.addedDocuments,_)));let A=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(Ht.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),o=o.insert(_,A),function(U,P,q){return U.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(S,A,y)&&d.push(n.Bs.updateTargetData(u,A))});let p=yi(),g=Ce();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,y))}),d.push(fx(u,c,e.documentUpdates).next(y=>{p=y.nr,g=y.sr})),!s.isEqual(ve.min())){const y=n.Bs.getLastRemoteSnapshotVersion(u).next(_=>n.Bs.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(y)}return $.waitFor(d).next(()=>c.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ji=o,u))}function fx(t,e,n){let s=Ce(),o=Ce();return n.forEach(u=>s=s.add(u)),e.getEntries(t,s).next(u=>{let c=yi();return n.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(ve.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):re("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{nr:c,sr:o}})}function dx(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function px(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Bs.getTargetData(s,e).next(u=>u?(o=u,$.resolve(o)):n.Bs.allocateTargetId(s).next(c=>(o=new Yi(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ji.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function kp(t,e,n){const s=_e(t),o=s.Ji.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,c=>s.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!al(c))throw c;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(o.target)}function w_(t,e,n){const s=_e(t);let o=ve.min(),u=Ce();return s.persistence.runTransaction("Execute query","readonly",c=>function(d,p,g){const y=_e(d),_=y.Yi.get(g);return _!==void 0?$.resolve(y.Ji.get(_)):y.Bs.getTargetData(p,g)}(s,c,mi(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{u=p})}).next(()=>s.Hi.getDocumentsMatchingQuery(c,e,n?o:ve.min(),n?u:Ce())).next(d=>(gx(s,o2(e),d),{documents:d,ir:u})))}function gx(t,e,n){let s=t.Xi.get(e)||ve.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),t.Xi.set(e,s)}class b_{constructor(){this.activeTargetIds=d2()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mx{constructor(){this.Hr=new b_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new b_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zu=null;function jd(){return zu===null?zu=268435456+Math.round(2147483648*Math.random()):zu++,"0x"+zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class _x extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,o,u){const c=jd(),d=this.To(e,n);re("RestConnection",`Sending RPC '${e}' ${c}:`,d,s);const p={};return this.Eo(p,o,u),this.Ao(e,d,p,s).then(g=>(re("RestConnection",`Received RPC '${e}' ${c}: `,g),g),g=>{throw Fs("RestConnection",`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}vo(e,n,s,o,u,c){return this.Io(e,n,s,o,u)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}To(e,n){const s=vx[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,o){const u=jd();return new Promise((c,d)=>{const p=new NM;p.setWithCredentials(!0),p.listenOnce(CM.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zd.NO_ERROR:const y=p.getResponseJson();re(xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),c(y);break;case zd.TIMEOUT:re(xt,`RPC '${e}' ${u} timed out`),d(new ne(V.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const _=p.getStatus();if(re(xt,`RPC '${e}' ${u} failed with status:`,_,"response text:",p.getResponseText()),_>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const U=function(P){const q=P.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(q)>=0?q:V.UNKNOWN}(A.status);d(new ne(U,A.message))}else d(new ne(V.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ne(V.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{re(xt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);re(xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Ro(e,n,s){const o=jd(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=AM(),d=RM(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.xmlHttpFactory=new OM({})),this.Eo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");re(xt,`Creating RPC '${e}' stream ${o}: ${y}`,p);const _=c.createWebChannel(y,p);let S=!1,A=!1;const U=new Ex({ro:q=>{A?re(xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(S||(re(xt,`Opening RPC '${e}' stream ${o} transport.`),_.open(),S=!0),re(xt,`RPC '${e}' stream ${o} sending:`,q),_.send(q))},oo:()=>_.close()}),P=(q,z,G)=>{q.listen(z,M=>{try{G(M)}catch(Y){setTimeout(()=>{throw Y},0)}})};return P(_,xu.EventType.OPEN,()=>{A||re(xt,`RPC '${e}' stream ${o} transport opened.`)}),P(_,xu.EventType.CLOSE,()=>{A||(A=!0,re(xt,`RPC '${e}' stream ${o} transport closed`),U.wo())}),P(_,xu.EventType.ERROR,q=>{A||(A=!0,Fs(xt,`RPC '${e}' stream ${o} transport errored:`,q),U.wo(new ne(V.UNAVAILABLE,"The operation could not be completed")))}),P(_,xu.EventType.MESSAGE,q=>{var z;if(!A){const G=q.data[0];Ze(!!G);const M=G,Y=M.error||((z=M[0])===null||z===void 0?void 0:z.error);if(Y){re(xt,`RPC '${e}' stream ${o} received error:`,Y);const N=Y.status;let K=function(J){const me=ht[J];if(me!==void 0)return Zw(me)}(N),X=Y.message;K===void 0&&(K=V.INTERNAL,X="Unknown error status: "+N+" with message "+Y.message),A=!0,U.wo(new ne(K,X)),_.close()}else re(xt,`RPC '${e}' stream ${o} received:`,G),U._o(G)}}),P(d,DM.STAT_EVENT,q=>{q.stat===e_.PROXY?re(xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===e_.NOPROXY&&re(xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function Vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){return new M2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=o,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-s);o>0&&re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,s,o,u,c,d,p){this.ii=e,this.$o=s,this.Oo=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new lb(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Fo===n&&this.Zo(s,o)},s=>{e(()=>{const o=new ne(V.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(o)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{s(()=>this.tu(o))}),this.stream.onMessage(o=>{s(()=>this.onMessage(o))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tx extends ub{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=k2(this.serializer,e),s=function(o){if(!("targetChange"in o))return ve.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?ve.min():u.readTime?Fn(u.readTime):ve.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Up(this.serializer),n.addTarget=function(o,u){let c;const d=u.target;if(c=Cp(d)?{documents:B2(o,d)}:{query:j2(o,d)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=eb(o,u.resumeToken);const p=Ip(o,u.expectedCount);p!==null&&(c.expectedCount=p)}else if(u.snapshotVersion.compareTo(ve.min())>0){c.readTime=dc(o,u.snapshotVersion.toTimestamp());const p=Ip(o,u.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const s=q2(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Up(this.serializer),n.removeTarget=e,this.Wo(n)}}class Sx extends ub{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=z2(e.writeResults,e.commitTime),s=Fn(e.commitTime);return this.listener.cu(s,n)}return Ze(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Up(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>L2(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new ne(V.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Io(e,n,s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(V.UNKNOWN,o.toString())})}vo(e,n,s,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,n,s,u,c,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ne(V.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class bx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gi(n),this.mu=!1):re("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(c=>{s.enqueueAndForget(async()=>{Pr(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(d){const p=_e(d);p.vu.add(4),await ul(p),p.bu.set("Unknown"),p.vu.delete(4),await Xc(p)}(this))})}),this.bu=new bx(s,o)}}async function Xc(t){if(Pr(t))for(const e of t.Ru)await e(!0)}async function ul(t){for(const e of t.Ru)await e(!1)}function cb(t,e){const n=_e(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),$g(n)?Fg(n):oa(n).Ko()&&Gg(n,e))}function hb(t,e){const n=_e(t),s=oa(n);n.Au.delete(e),s.Ko()&&fb(n,e),n.Au.size===0&&(s.Ko()?s.jo():Pr(n)&&n.bu.set("Unknown"))}function Gg(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oa(t).su(e)}function fb(t,e){t.Vu.qt(e),oa(t).iu(e)}function Fg(t){t.Vu=new D2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),oa(t).start(),t.bu.gu()}function $g(t){return Pr(t)&&!oa(t).Uo()&&t.Au.size>0}function Pr(t){return _e(t).vu.size===0}function db(t){t.Vu=void 0}async function Rx(t){t.Au.forEach((e,n)=>{Gg(t,e)})}async function Cx(t,e){db(t),$g(t)?(t.bu.Iu(e),Fg(t)):t.bu.set("Unknown")}async function Dx(t,e,n){if(t.bu.set("Online"),e instanceof Ww&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Au.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Au.delete(c),s.Vu.removeTarget(c))}(t,e)}catch(s){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await pc(t,s)}else if(e instanceof Fu?t.Vu.Ht(e):e instanceof Jw?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ve.min()))try{const s=await ob(t.localStore);n.compareTo(s)>=0&&await function(o,u){const c=o.Vu.ce(u);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Au.get(p);g&&o.Au.set(p,g.withResumeToken(d.resumeToken,u))}}),c.targetMismatches.forEach((d,p)=>{const g=o.Au.get(d);if(!g)return;o.Au.set(d,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),fb(o,d);const y=new Yi(g.target,d,p,g.sequenceNumber);Gg(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){re("RemoteStore","Failed to raise snapshot:",s),await pc(t,s)}}async function pc(t,e,n){if(!al(e))throw e;t.vu.add(1),await ul(t),t.bu.set("Offline"),n||(n=()=>ob(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Xc(t)})}function pb(t,e){return e().catch(n=>pc(t,n,e))}async function Zc(t){const e=_e(t),n=tr(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Ox(e);)try{const o=await dx(e.localStore,s);if(o===null){e.Eu.length===0&&n.jo();break}s=o.batchId,Nx(e,o)}catch(o){await pc(e,o)}gb(e)&&mb(e)}function Ox(t){return Pr(t)&&t.Eu.length<10}function Nx(t,e){t.Eu.push(e);const n=tr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function gb(t){return Pr(t)&&!tr(t).Uo()&&t.Eu.length>0}function mb(t){tr(t).start()}async function Ix(t){tr(t).hu()}async function Mx(t){const e=tr(t);for(const n of t.Eu)e.uu(n.mutations)}async function xx(t,e,n){const s=t.Eu.shift(),o=zg.from(s,e,n);await pb(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Zc(t)}async function Ux(t,e){e&&tr(t).ou&&await async function(n,s){if(o=s.code,A2(o)&&o!==V.ABORTED){const u=n.Eu.shift();tr(n).Qo(),await pb(n,()=>n.remoteSyncer.rejectFailedWrite(u.batchId,s)),await Zc(n)}var o}(t,e),gb(t)&&mb(t)}async function R_(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const s=Pr(n);n.vu.add(3),await ul(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Xc(n)}async function kx(t,e){const n=_e(t);e?(n.vu.delete(2),await Xc(n)):e||(n.vu.add(2),await ul(n),n.bu.set("Unknown"))}function oa(t){return t.Su||(t.Su=function(e,n,s){const o=_e(e);return o.fu(),new Tx(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{uo:Rx.bind(null,t),ao:Cx.bind(null,t),nu:Dx.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),$g(t)?Fg(t):t.bu.set("Unknown")):(await t.Su.stop(),db(t))})),t.Su}function tr(t){return t.Du||(t.Du=function(e,n,s){const o=_e(e);return o.fu(),new Sx(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{uo:Ix.bind(null,t),ao:Ux.bind(null,t),au:Mx.bind(null,t),cu:xx.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Zc(t)):(await t.Du.stop(),t.Eu.length>0&&(re("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,d=new Kg(e,n,c,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(t,e){if(gi("AsyncQueue",`${e}: ${t}`),al(t))return new ne(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.comparator=e?(n,s)=>e(n,s)||oe.comparator(n.key,s.key):(n,s)=>oe.comparator(n.key,s.key),this.keyedMap=mo(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.Cu=new et(oe.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):pe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Xs{constructor(e,n,s,o,u,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new Xs(e,n,qs.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.Nu=void 0,this.listeners=[]}}class zx{constructor(){this.queries=new aa(e=>Bw(e),Gc),this.onlineState="Unknown",this.ku=new Set}}async function Bx(t,e){const n=_e(t),s=e.query;let o=!1,u=n.queries.get(s);if(u||(o=!0,u=new Lx),o)try{u.Nu=await n.onListen(s)}catch(c){const d=Yg(c,`Initialization of query '${Np(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,u),u.listeners.push(e),e.Mu(n.onlineState),u.Nu&&e.$u(u.Nu)&&Qg(n)}async function jx(t,e){const n=_e(t),s=e.query;let o=!1;const u=n.queries.get(s);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),o=u.listeners.length===0)}if(o)return n.queries.delete(s),n.onUnlisten(s)}function Vx(t,e){const n=_e(t);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.listeners)d.$u(o)&&(s=!0);c.Nu=o}}s&&Qg(n)}function qx(t,e,n){const s=_e(t),o=s.queries.get(e);if(o)for(const u of o.listeners)u.onError(n);s.queries.delete(e)}function Qg(t){t.ku.forEach(e=>{e.next()})}class Hx{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class Px{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ce(),this.mutatedKeys=Ce(),this.tc=jw(e),this.ec=new qs(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new C_,o=n?n.ec:this.ec;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,_)=>{const S=o.get(y),A=Fc(this.query,_)?_:null,U=!!S&&this.mutatedKeys.has(S.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let q=!1;S&&A?S.data.isEqual(A.data)?U!==P&&(s.track({type:3,doc:A}),q=!0):this.rc(S,A)||(s.track({type:2,doc:A}),q=!0,(p&&this.tc(A,p)>0||g&&this.tc(A,g)<0)&&(d=!0)):!S&&A?(s.track({type:0,doc:A}),q=!0):S&&!A&&(s.track({type:1,doc:S}),q=!0,(p||g)&&(d=!0)),q&&(A?(c=c.add(A),u=P?u.add(y):u.delete(y)):(c=c.delete(y),u=u.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{ec:c,ic:s,zi:d,mutatedKeys:u}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((g,y)=>function(_,S){const A=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return A(_)-A(S)}(g.type,y.type)||this.tc(g.doc,y.doc)),this.oc(s);const c=n?this.uc():[],d=this.Zu.size===0&&this.current?1:0,p=d!==this.Xu;return this.Xu=d,u.length!==0||p?{snapshot:new Xs(this.query,e.ec,o,u,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new C_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ce(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new vb(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new yb(s))}),n}hc(e){this.Yu=e.ir,this.Zu=Ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Xs.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Gx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Fx{constructor(e){this.key=e,this.fc=!1}}class $x{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new aa(d=>Bw(d),Gc),this._c=new Map,this.mc=new Set,this.gc=new et(oe.comparator),this.yc=new Map,this.Ic=new qg,this.Tc={},this.Ec=new Map,this.Ac=Qs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Kx(t,e){const n=iU(t);let s,o;const u=n.wc.get(e);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),o=u.view.lc();else{const c=await px(n.localStore,mi(e)),d=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,o=await Yx(n,e,s,d==="current",c.resumeToken),n.isPrimaryClient&&cb(n.remoteStore,c)}return o}async function Yx(t,e,n,s,o){t.Rc=(_,S,A)=>async function(U,P,q,z){let G=P.view.sc(q);G.zi&&(G=await w_(U.localStore,P.query,!1).then(({documents:N})=>P.view.sc(N,G)));const M=z&&z.targetChanges.get(P.targetId),Y=P.view.applyChanges(G,U.isPrimaryClient,M);return O_(U,P.targetId,Y.cc),Y.snapshot}(t,_,S,A);const u=await w_(t.localStore,e,!0),c=new Px(e,u.ir),d=c.sc(u.documents),p=ll.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(d,t.isPrimaryClient,p);O_(t,n,g.cc);const y=new Gx(e,n,c);return t.wc.set(e,y),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),g.snapshot}async function Qx(t,e){const n=_e(t),s=n.wc.get(e),o=n._c.get(s.targetId);if(o.length>1)return n._c.set(s.targetId,o.filter(u=>!Gc(u,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await kp(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),hb(n.remoteStore,s.targetId),Lp(n,s.targetId)}).catch(sl)):(Lp(n,s.targetId),await kp(n.localStore,s.targetId,!0))}async function Xx(t,e,n){const s=rU(t);try{const o=await function(u,c){const d=_e(u),p=mt.now(),g=c.reduce((S,A)=>S.add(A.key),Ce());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=yi(),U=Ce();return d.Zi.getEntries(S,g).next(P=>{A=P,A.forEach((q,z)=>{z.isValidDocument()||(U=U.add(q))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,A)).next(P=>{y=P;const q=[];for(const z of c){const G=_2(z,y.get(z.key).overlayedDocument);G!=null&&q.push(new Hr(z.key,G,Nw(G.value.mapValue),Gn.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,q,c)}).next(P=>{_=P;const q=P.applyToLocalDocumentSet(y,U);return d.documentOverlayCache.saveOverlays(S,P.batchId,q)})}).then(()=>({batchId:_.batchId,changes:qw(y)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,c,d){let p=u.Tc[u.currentUser.toKey()];p||(p=new et(Le)),p=p.insert(c,d),u.Tc[u.currentUser.toKey()]=p}(s,o.batchId,n),await cl(s,o.changes),await Zc(s.remoteStore)}catch(o){const u=Yg(o,"Failed to persist write");n.reject(u)}}async function Eb(t,e){const n=_e(t);try{const s=await hx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const c=n.yc.get(u);c&&(Ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.fc=!0:o.modifiedDocuments.size>0?Ze(c.fc):o.removedDocuments.size>0&&(Ze(c.fc),c.fc=!1))}),await cl(n,s,e)}catch(s){await sl(s)}}function D_(t,e,n){const s=_e(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.wc.forEach((u,c)=>{const d=c.view.Mu(e);d.snapshot&&o.push(d.snapshot)}),function(u,c){const d=_e(u);d.onlineState=c;let p=!1;d.queries.forEach((g,y)=>{for(const _ of y.listeners)_.Mu(c)&&(p=!0)}),p&&Qg(d)}(s.eventManager,e),o.length&&s.dc.nu(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Zx(t,e,n){const s=_e(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.yc.get(e),u=o&&o.key;if(u){let c=new et(oe.comparator);c=c.insert(u,Lt.newNoDocument(u,ve.min()));const d=Ce().add(u),p=new Yc(ve.min(),new Map,new et(Le),c,d);await Eb(s,p),s.gc=s.gc.remove(u),s.yc.delete(e),Xg(s)}else await kp(s.localStore,e,!1).then(()=>Lp(s,e,n)).catch(sl)}async function Jx(t,e){const n=_e(t),s=e.batch.batchId;try{const o=await cx(n.localStore,e);Tb(n,s,null),_b(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cl(n,o)}catch(o){await sl(o)}}async function Wx(t,e,n){const s=_e(t);try{const o=await function(u,c){const d=_e(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,c).next(y=>(Ze(y!==null),g=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(s.localStore,e);Tb(s,e,n),_b(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cl(s,o)}catch(o){await sl(o)}}function _b(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Tb(t,e,n){const s=_e(t);let o=s.Tc[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Tc[s.currentUser.toKey()]=o}}function Lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||Sb(t,s)})}function Sb(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(hb(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Xg(t))}function O_(t,e,n){for(const s of n)s instanceof yb?(t.Ic.addReference(s.key,e),eU(t,s)):s instanceof vb?(re("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||Sb(t,s.key)):pe()}function eU(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(re("SyncEngine","New document in limbo: "+n),t.mc.add(s),Xg(t))}function Xg(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new oe(Xe.fromString(e)),s=t.Ac.next();t.yc.set(s,new Fx(n)),t.gc=t.gc.insert(n,s),cb(t.remoteStore,new Yi(mi(Ug(n.path)),s,"TargetPurposeLimboResolution",Dg.ct))}}async function cl(t,e,n){const s=_e(t),o=[],u=[],c=[];s.wc.isEmpty()||(s.wc.forEach((d,p)=>{c.push(s.Rc(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(p.targetId,g?.fromCache?"not-current":"current"),g){o.push(g);const y=Pg.Li(p.targetId,g);u.push(y)}}))}),await Promise.all(c),s.dc.nu(o),await async function(d,p){const g=_e(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>$.forEach(p,_=>$.forEach(_.Fi,S=>g.persistence.referenceDelegate.addReference(y,_.targetId,S)).next(()=>$.forEach(_.Bi,S=>g.persistence.referenceDelegate.removeReference(y,_.targetId,S)))))}catch(y){if(!al(y))throw y;re("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const S=g.Ji.get(_),A=S.snapshotVersion,U=S.withLastLimboFreeSnapshotVersion(A);g.Ji=g.Ji.insert(_,U)}}}(s.localStore,u))}async function tU(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const s=await ab(n.localStore,e);n.currentUser=e,function(o,u){o.Ec.forEach(c=>{c.forEach(d=>{d.reject(new ne(V.CANCELLED,u))})}),o.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cl(n,s.er)}}function nU(t,e){const n=_e(t),s=n.yc.get(e);if(s&&s.fc)return Ce().add(s.key);{let o=Ce();const u=n._c.get(e);if(!u)return o;for(const c of u){const d=n.wc.get(c);o=o.unionWith(d.view.nc)}return o}}function iU(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zx.bind(null,e),e.dc.nu=Vx.bind(null,e.eventManager),e.dc.Pc=qx.bind(null,e.eventManager),e}function rU(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wx.bind(null,e),e}class N_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ux(this.persistence,new ox,e.initialUser,this.serializer)}createPersistence(e){return new sx(Hg.zs,this.serializer)}createSharedClientState(e){return new mx}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sU{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>D_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tU.bind(null,this.syncEngine),await kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zx}createDatastore(e){const n=Qc(e.databaseInfo.databaseId),s=(o=e.databaseInfo,new _x(o));var o;return function(u,c,d,p){return new wx(u,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,o=e.asyncQueue,u=d=>D_(this.syncEngine,d,0),c=A_.D()?new A_:new yx,new Ax(n,s,o,u,c);var n,s,o,u,c}createSyncEngine(e,n){return function(s,o,u,c,d,p,g){const y=new $x(s,o,u,c,d,p);return g&&(y.vc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);re("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ul(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=kt.UNAUTHENTICATED,this.clientId=Cw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async u=>{re("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(re("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ne(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function qd(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ab(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uU(t);re("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(o=>R_(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,u)=>R_(e.remoteStore,u)),t._onlineComponents=e}function lU(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function uU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await qd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!lU(n))throw n;Fs("Error using user provided cache. Falling back to memory cache: "+n),await qd(t,new N_)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await qd(t,new N_);return t._offlineComponents}async function wb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await I_(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await I_(t,new sU))),t._onlineComponents}function cU(t){return wb(t).then(e=>e.syncEngine)}async function M_(t){const e=await wb(t),n=e.eventManager;return n.onListen=Kx.bind(null,e.syncEngine),n.onUnlisten=Qx.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e,n){if(!n)throw new ne(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hU(t,e,n,s){if(e===!0&&s===!0)throw new ne(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U_(t){if(!oe.isDocumentKey(t))throw new ne(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k_(t){if(oe.isDocumentKey(t))throw new ne(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jc(t);throw new ne(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class Wc{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ne(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ne(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new MM;switch(n.type){case"firstParty":return new LM(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ne(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=x_.get(e);n&&(re("ComponentProvider","Removing Datastore"),x_.delete(e),n.terminate())}(this),Promise.resolve()}}function fU(t,e,n,s={}){var o;const u=(t=Hs(t,Wc))._getSettings(),c=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==c&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},u),{host:c,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=kt.MOCK_USER;else{d=bT(s.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ne(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new kt(g)}t._authCredentials=new xM(new Rw(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Gr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gr(this.firestore,e,this._query)}}class Zi extends Gr{constructor(e,n,s){super(e,n,Ug(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new oe(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Rb(t,e,...n){if(t=lt(t),Ab("collection","path",e),t instanceof Wc){const s=Xe.fromString(e,...n);return k_(s),new Zi(t,null,s)}{if(!(t instanceof cn||t instanceof Zi))throw new ne(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Xe.fromString(e,...n));return k_(s),new Zi(t.firestore,null,s)}}function Cb(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Cw.A()),Ab("doc","path",e),t instanceof Wc){const s=Xe.fromString(e,...n);return U_(s),new cn(t,null,new oe(s))}{if(!(t instanceof cn||t instanceof Zi))throw new ne(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Xe.fromString(e,...n));return U_(s),new cn(t.firestore,t instanceof Zi?t.converter:null,new oe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new lb(this,"async_queue_retry"),this.Xc=()=>{const n=Vd();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Vd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Vd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ir;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!al(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const o=function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(s);throw gi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=Kg.createAndSchedule(this,e,n,s,u=>this.na(u));return this.zc.push(o),o}Zc(){this.Wc&&pe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function z_(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Go extends Wc{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new dU,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ob(this),this._firestoreClient.terminate()}}function pU(t,e){const n=Gp(),s="(default)",o=Ec(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TT("firestore");u&&fU(o,...u)}return o}function Db(t){return t._firestoreClient||Ob(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ob(t){var e,n,s;const o=t._freezeSettings(),u=function(c,d,p,g){return new YM(c,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,bb(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new oU(t._authCredentials,t._appCheckCredentials,t._queue,u),!((n=o.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(Ht.fromBase64String(e))}catch(n){throw new ne(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=/^__.*__$/;class mU{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ol(e,this.data,n,this.fieldTransforms)}}function Ib(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Wg{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:s,la:!1});return o.fa(e),o}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:s,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return gc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Ib(this.ca)&&gU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yU{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Qc(e)}ya(e,n,s,o=!1){return new Wg({ca:e,methodName:n,ga:s,path:zt.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mb(t){const e=t._freezeSettings(),n=Qc(t._databaseId);return new yU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vU(t,e,n,s,o,u={}){const c=t.ya(u.merge||u.mergeFields?2:0,e,n,o);kb("Data must be an object, but it was:",c,s);const d=xb(s,c);let p,g;if(u.merge)p=new Cn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const y=[];for(const _ of u.mergeFields){const S=_U(e,_,n);if(!c.contains(S))throw new ne(V.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);SU(y,S)||y.push(S)}p=new Cn(y),g=c.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=c.fieldTransforms;return new mU(new Sn(d),p,g)}function EU(t,e,n,s=!1){return em(n,t.ya(s?4:3,e))}function em(t,e){if(Ub(t=lt(t)))return kb("Unsupported field value:",e,t),xb(t,e);if(t instanceof Nb)return function(n,s){if(!Ib(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const o=[];let u=0;for(const c of n){let d=em(c,s.wa(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,s){if((n=lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return p2(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=mt.fromDate(n);return{timestampValue:dc(s.serializer,o)}}if(n instanceof mt){const o=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dc(s.serializer,o)}}if(n instanceof Jg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zs)return{bytesValue:eb(s.serializer,n._byteString)};if(n instanceof cn){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vg(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${Jc(n)}`)}(t,e)}function xb(t,e){const n={};return Dw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,(s,o)=>{const u=em(o,e.ha(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Ub(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Jg||t instanceof Zs||t instanceof cn||t instanceof Nb)}function kb(t,e,n){if(!Ub(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Jc(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function _U(t,e,n){if((e=lt(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return Lb(t,e);throw gc("Field path arguments must be of type string or ",t,!1,void 0,n)}const TU=new RegExp("[~\\*/\\[\\]]");function Lb(t,e,n){if(e.search(TU)>=0)throw gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zg(...e.split("."))._internalPath}catch{throw gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gc(t,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ne(V.INVALID_ARGUMENT,d+t+p)}function SU(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wU extends zb{data(){return super.data()}}function tm(t,e){return typeof e=="string"?Lb(t,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nm{}class Bb extends nm{}function AU(t,e,...n){let s=[];e instanceof nm&&s.push(e),s=s.concat(n),function(o){const u=o.filter(d=>d instanceof rm).length,c=o.filter(d=>d instanceof im).length;if(u>1||u>0&&c>0)throw new ne(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)t=o._apply(t);return t}class im extends Bb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new im(e,n,s)}_apply(e){const n=this._parse(e);return jb(e._query,n),new Gr(e.firestore,e.converter,Dp(e._query,n))}_parse(e){const n=Mb(e.firestore);return function(o,u,c,d,p,g,y){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ne(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){j_(y,g);const S=[];for(const A of y)S.push(B_(d,o,A));_={arrayValue:{values:S}}}else _=B_(d,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||j_(y,g),_=EU(c,u,y,g==="in"||g==="not-in");return dt.create(p,g,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class rm extends nm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new rm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const c=o.getFlattenedFilters();for(const d of c)jb(u,d),u=Dp(u,d)}(e._query,n),new Gr(e.firestore,e.converter,Dp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sm extends Bb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sm(e,n)}_apply(e){const n=function(s,o,u){if(s.startAt!==null)throw new ne(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ne(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new js(o,u);return function(d,p){if(kg(d)===null){const g=Pc(d);g!==null&&Vb(d,g,p.field)}}(s,c),c}(e._query,this._field,this._direction);return new Gr(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new sa(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function RU(t,e="asc"){const n=e,s=tm("orderBy",t);return sm._create(s,n)}function B_(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new ne(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(e)&&n.indexOf("/")!==-1)throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Xe.fromString(n));if(!oe.isDocumentKey(s))throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a_(t,new oe(s))}if(n instanceof cn)return a_(t,n._key);throw new ne(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jc(n)}.`)}function j_(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(t,e){if(e.isInequality()){const s=Pc(t),o=e.field;if(s!==null&&!s.isEqual(o))throw new ne(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${o.toString()}'`);const u=kg(t);u!==null&&Vb(t,o,u)}const n=function(s,o){for(const u of s)for(const c of u.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Vb(t,e,n){if(!n.isEqual(e))throw new ne(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class CU{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ra(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertGeoPoint(e){return new Jg(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ng(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=er(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Xe.fromString(e);Ze(sb(s));const o=new Vo(s.get(1),s.get(3)),u=new oe(s.popFirst(5));return o.isEqual(n)||gi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qb extends zb{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class $u extends qb{data(e={}){return super.data(e)}}class OU{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new $u(this._firestore,this._userDataWriter,s.key,s,new vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(c=>{const d=new $u(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vo(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new $u(s._firestore,s._userDataWriter,c.doc.key,c.doc,new vo(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:NU(c.type),doc:d,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Hb extends CU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function IU(t){return Pb(Hs(t.firestore,Go),[new Lg(t._key,Gn.none())])}function MU(t,e){const n=Hs(t.firestore,Go),s=Cb(t),o=DU(t.converter,e);return Pb(n,[vU(Mb(t.firestore),"addDoc",s._key,o,t.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function xU(t,...e){var n,s,o;t=lt(t);let u={includeMetadataChanges:!1},c=0;typeof e[c]!="object"||z_(e[c])||(u=e[c],c++);const d={includeMetadataChanges:u.includeMetadataChanges};if(z_(e[c])){const _=e[c];e[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[c+1]=(s=_.error)===null||s===void 0?void 0:s.bind(_),e[c+2]=(o=_.complete)===null||o===void 0?void 0:o.bind(_)}let p,g,y;if(t instanceof cn)g=Hs(t.firestore,Go),y=Ug(t._key.path),p={next:_=>{e[c]&&e[c](UU(g,t,_))},error:e[c+1],complete:e[c+2]};else{const _=Hs(t,Gr);g=Hs(_.firestore,Go),y=_._query;const S=new Hb(g);p={next:A=>{e[c]&&e[c](new OU(g,S,_,A))},error:e[c+1],complete:e[c+2]},bU(t._query)}return function(_,S,A,U){const P=new aU(U),q=new Hx(S,P,A);return _.asyncQueue.enqueueAndForget(async()=>Bx(await M_(_),q)),()=>{P.Dc(),_.asyncQueue.enqueueAndForget(async()=>jx(await M_(_),q))}}(Db(g),y,d,p)}function Pb(t,e){return function(n,s){const o=new Ir;return n.asyncQueue.enqueueAndForget(async()=>Xx(await cU(n),s,o)),o.promise}(Db(t),e)}function UU(t,e,n){const s=n.docs.get(e._key),o=new Hb(t);return new qb(t,o,e._key,s,new vo(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ia=n})(Vr),xr(new Ji("firestore",(n,{instanceIdentifier:s,options:o})=>{const u=n.getProvider("app").getImmediate(),c=new Go(new UM(n.getProvider("auth-internal")),new BM(n.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ne(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(d.options.projectId,p)}(u,s),u);return o=Object.assign({useFetchStreams:e},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),qn(t_,"3.13.0",t),qn(t_,"3.13.0","esm2017")})();const kU={apiKey:"AIzaSyD3nKwykTV2coT1k4NRfP7Q8x-lZN4HkCY",authDomain:"music-app-c1b58.firebaseapp.com",projectId:"music-app-c1b58",storageBucket:"music-app-c1b58.appspot.com",messagingSenderId:"388912990343",appId:"1:388912990343:web:53f61c8909de0eca061022",measurementId:"G-GZB7EDRYLV"},LU=CT(kU),zp=pU(),am=cN(),V_=SI(LU),om=t=>{const[e,n]=Ye.useState(null),[s,o]=Ye.useState(null);return Ye.useEffect(()=>{const u=AU(Rb(zp,t),RU("createdAt","desc")),c=xU(u,d=>{let p=[];d.forEach(g=>{g.data().createdAt&&p.push({...g.data(),id:g.id})}),n(p),o(null)},d=>{console.log(d.message),n(null),o("could not fetch the data")});return()=>c()},[t]),{error:s,documents:e}},Gb=({index:t,setIndex:e,isPlay:n,setIsPlay:s})=>{const{error:o,documents:u}=om("playlists"),[c,d]=Ye.useState(!1),[p,g]=Ye.useState(!1),y=Ye.useRef(null),_=Ye.useRef(null),S=M=>{const Y=M.target.clientWidth,N=M.nativeEvent.offsetX,K=y.current;if(K){const X=K.duration;K.currentTime=N/Y*X}},A=M=>{const{duration:Y,currentTime:N}=M.target,K=N/Y*100,X=_.current;X&&(X.style.backgroundColor="#06c270",X.style.width=`${K}%`)},U=()=>{u&&e(Math.floor(Math.random()*u.length))},P=Ye.useCallback(()=>{s(!0),y&&y.current&&y.current.play().catch(M=>M)},[s]),q=()=>{s(!1),y&&y.current&&y.current.pause()},z=()=>{u&&(t<=0?e(M=>u.length-1):e(M=>M-1),P())},G=()=>{u&&(t>=u.length-1?e(M=>0):e(M=>M+1),P())};return Ye.useEffect(()=>{u&&n&&P(),u&&y.current&&y.current.addEventListener("timeupdate",A),n?document.querySelectorAll(".fa-react").forEach(M=>M.classList.add("play")):document.querySelectorAll(".fa-react").forEach(M=>M.classList.remove("play"))},[n,t,u,c,P]),H.jsxs("div",{className:"music-container",children:[o&&H.jsx("h3",{children:o}),H.jsx("div",{className:n===!1?"music-info":"music-info play",children:u&&H.jsxs(Ye.Fragment,{children:[H.jsx("h3",{className:"title",children:u[t].title}),H.jsx("h5",{className:"title",children:u[t].singer}),H.jsx("div",{className:"cover",children:H.jsx("img",{src:u[t].coverUrl,alt:"album-cover"})}),H.jsx("audio",{ref:y,src:u[t].songUrl,onEnded:p===!1?G:U,loop:c})]})}),H.jsxs("div",{className:"btn-controls",children:[H.jsx("button",{onClick:p===!1?z:U,children:H.jsx("i",{className:"fas fa-backward"})}),H.jsx("button",{onClick:()=>{n?q():P()},children:H.jsx("i",{className:n===!1?"fas fa-play fa-2x":"fas fa-pause fa-2x"})}),H.jsx("button",{onClick:p===!1?G:U,children:H.jsx("i",{className:"fas fa-forward"})})]}),H.jsxs("div",{className:"repeat",children:[H.jsx("button",{disabled:n===!1,onClick:()=>d(M=>!M),children:H.jsx("i",{className:c===!1?"fas fa-redo":"fas fa-redo repeat"})}),H.jsx("button",{disabled:n===!1,onClick:()=>g(M=>!M),children:H.jsx("i",{className:p===!1?"fas fa-random":"fas fa-random shuffle"})})]}),H.jsx("div",{className:n===!1?"progress-bar":"progress-bar play",onClick:M=>{S(M)},children:H.jsx("div",{ref:_,className:n===!1?"bar-in-progress":"bar-in-progress play"})})]})},zU=()=>{const[t,e]=Ye.useState(0),[n,s]=Ye.useState(!1);return H.jsx("main",{className:"main-bg",children:H.jsx(Gb,{index:t,setIndex:e,isPlay:n,setIsPlay:s})})},Fb=()=>({uploadFile:async(n,s)=>{try{const o=n.type.split("/")[0]==="image"?"covers":"songs",u=VE(V_,`${o}/${s}`),c=await EI(u,n);return await _I(c.ref)}catch(o){o instanceof Error&&console.log(o.message)}},deleteFile:async n=>{try{await TI(VE(V_,n))}catch(s){s instanceof Error&&console.log(s.message)}}}),$b=()=>{const t=Rb(zp,"playlists");return{addDocument:async s=>{await MU(t,s)},deleteDocument:async s=>{await IU(Cb(zp,"playlists",s))}}},BU=({song:t,index:e,setIndex:n,idx:s,isPlay:o,setIsPlay:u})=>{const{deleteDocument:c}=$b(),{deleteFile:d}=Fb(),{documents:p}=om("playlists"),g=_=>{if(p){const S=p.findIndex(A=>A.id===_.id);n(S),u(!0)}},y=async _=>{window.confirm("Are you sur to delete this song ?")&&(await d(_.imgFilePath),await d(_.songFilePath),_.id&&await c(_.id))};return H.jsxs("tr",{children:[H.jsx("td",{children:t.title}),H.jsx("td",{children:t.singer}),H.jsx("td",{children:H.jsx("img",{src:t.coverUrl,alt:"cover",style:{width:60,height:60,objectFit:"cover",borderRadius:"100%"}})}),H.jsx("td",{children:H.jsx("i",{onClick:()=>g(t),style:{cursor:"pointer",color:o&&s===e?"#7873f5":""},className:"fas fa-assistive-listening-systems fa-lg"})}),H.jsx("td",{children:H.jsx("i",{onClick:()=>y(t),style:{color:"crimson",cursor:"pointer"},className:"far fa-trash-alt fa-lg"})})]})},jU=({index:t,setIndex:e,isPlay:n,setIsPlay:s})=>{const{documents:o}=om("playlists");return H.jsx("div",{className:"song-list",children:o&&o.length>0&&H.jsxs("table",{children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("td",{children:"Title"}),H.jsx("td",{children:"Singer"}),H.jsx("td",{children:"Cover"}),H.jsx("td",{colSpan:2,children:"Actions"})]})}),H.jsx("tbody",{children:o.map((u,c)=>H.jsx(BU,{song:u,idx:c,index:t,setIndex:e,isPlay:n,setIsPlay:s},u.id))})]})})},VU=({index:t,setIndex:e,isPlay:n,setIsPlay:s})=>H.jsx("div",{className:"dashboard",children:H.jsx(jU,{index:t,setIndex:e,isPlay:n,setIsPlay:s})}),qU=({headingTitle:t,formData:e})=>{const{addDocument:n}=$b(),{uploadFile:s}=Fb(),[o,u]=Ye.useState(null),[c,d]=Ye.useState(null),[p,g]=Ye.useState({title:"",singer:"",coverUrl:"",songUrl:"",imgFilePath:"",songFilePath:"",createdAt:null}),y=S=>{S.target.name==="cover"&&(S.target.files&&S.target.files.length>0?u(S.target.files[0]):u(null)),S.target.name==="song"&&(S.target.files&&S.target.files.length>0?d(S.target.files[0]):d(null)),g(A=>({...A,[S.target.name]:S.target.value}))},_=async S=>{if(S.preventDefault(),!p||p.title===""||p.singer===""||o==null||c==null)return;const A=`${Date.now()}.${o.name.split(".")[1]}`,U=`${Date.now()}.${c.name.split(".")[1]}`,P=await s(o,A),q=await s(c,U);if(!P||!q)return;const z={title:p.title,singer:p.singer,imgFilePath:`covers/${A}`,songFilePath:`songs/${U}`,coverUrl:P,songUrl:q,createdAt:new Date};await n(z),g(null),u(null),d(null)};return H.jsxs("form",{className:"form-generic",onSubmit:_,encType:"multipart/form-data",children:[H.jsx("hr",{}),H.jsx("h5",{children:t}),H.jsx("hr",{}),e.length>0&&e.map((S,A)=>H.jsxs("div",{children:[S.type==="file"&&S.name==="cover"&&H.jsx("label",{htmlFor:S.id,children:"Select an image (Only JPEG, JPG, PNG)"}),S.type==="file"&&S.name==="song"&&H.jsx("label",{htmlFor:S.id,children:"Select a song (Only MP3)"}),H.jsx("input",{type:S.type,placeholder:S.placeholder,id:S.id,name:S.name,onChange:y})]},S.id)),H.jsx("input",{type:"submit",value:"SUBMIT"})]})},HU=()=>{const[t,e]=Ye.useState(0),[n,s]=Ye.useState(!1);return H.jsx(H.Fragment,{children:H.jsxs("main",{className:"admin",children:[H.jsx("div",{className:"admin-dashboard",children:H.jsx(VU,{index:t,setIndex:e,isPlay:n,setIsPlay:s})}),H.jsxs("div",{className:"admin-player",children:[H.jsx(Gb,{index:t,setIndex:e,isPlay:n,setIsPlay:s}),H.jsx(qU,{headingTitle:"CREATE SONG",formData:PU})]})]})})},PU=[{id:"title",type:"text",name:"title",placeholder:"Title"},{id:"singer",type:"text",name:"singer",placeholder:"Singer"},{id:"cover",type:"file",name:"cover",placeholder:""},{id:"song",type:"file",name:"song",placeholder:""}];function Bp(t,e){return Bp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bp(t,e)}function Kn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bp(t,e)}var Hd={exports:{}},Pd,q_;function GU(){if(q_)return Pd;q_=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Pd=t,Pd}var Gd,H_;function FU(){if(H_)return Gd;H_=1;var t=GU();function e(){}function n(){}return n.resetWarningCache=e,Gd=function(){function s(c,d,p,g,y,_){if(_!==t){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},Gd}var P_;function $U(){return P_||(P_=1,Hd.exports=FU()()),Hd.exports}var KU=$U();const G_=yc(KU);function Nt(){return Nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Nt.apply(null,arguments)}function Bu(t){return t.charAt(0)==="/"}function Fd(t,e){for(var n=e,s=n+1,o=t.length;s<o;n+=1,s+=1)t[n]=t[s];t.pop()}function YU(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],s=e&&e.split("/")||[],o=t&&Bu(t),u=e&&Bu(e),c=o||u;if(t&&Bu(t)?s=n:n.length&&(s.pop(),s=s.concat(n)),!s.length)return"/";var d;if(s.length){var p=s[s.length-1];d=p==="."||p===".."||p===""}else d=!1;for(var g=0,y=s.length;y>=0;y--){var _=s[y];_==="."?Fd(s,y):_===".."?(Fd(s,y),g++):g&&(Fd(s,y),g--)}if(!c)for(;g--;g)s.unshift("..");c&&s[0]!==""&&(!s[0]||!Bu(s[0]))&&s.unshift("");var S=s.join("/");return d&&S.substr(-1)!=="/"&&(S+="/"),S}function F_(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Ku(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(o,u){return Ku(o,e[u])});if(typeof t=="object"||typeof e=="object"){var n=F_(t),s=F_(e);return n!==t||s!==e?Ku(n,s):Object.keys(Object.assign({},t,e)).every(function(o){return Ku(t[o],e[o])})}return!1}var QU="Invariant failed";function rr(t,e){throw new Error(QU)}function Ao(t){return t.charAt(0)==="/"?t:"/"+t}function $_(t){return t.charAt(0)==="/"?t.substr(1):t}function XU(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Kb(t,e){return XU(t,e)?t.substr(e.length):t}function Yb(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function ZU(t){var e=t||"/",n="",s="",o=e.indexOf("#");o!==-1&&(s=e.substr(o),e=e.substr(0,o));var u=e.indexOf("?");return u!==-1&&(n=e.substr(u),e=e.substr(0,u)),{pathname:e,search:n==="?"?"":n,hash:s==="#"?"":s}}function Jt(t){var e=t.pathname,n=t.search,s=t.hash,o=e||"/";return n&&n!=="?"&&(o+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(o+=s.charAt(0)==="#"?s:"#"+s),o}function $t(t,e,n,s){var o;typeof t=="string"?(o=ZU(t),o.state=e):(o=Nt({},t),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",e!==void 0&&o.state===void 0&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return n&&(o.key=n),s?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=YU(o.pathname,s.pathname)):o.pathname=s.pathname:o.pathname||(o.pathname="/"),o}function JU(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Ku(t.state,e.state)}function lm(){var t=null;function e(c){return t=c,function(){t===c&&(t=null)}}function n(c,d,p,g){if(t!=null){var y=typeof t=="function"?t(c,d):t;typeof y=="string"?typeof p=="function"?p(y,g):g(!0):g(y!==!1)}else g(!0)}var s=[];function o(c){var d=!0;function p(){d&&c.apply(void 0,arguments)}return s.push(p),function(){d=!1,s=s.filter(function(g){return g!==p})}}function u(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];s.forEach(function(g){return g.apply(void 0,d)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:o,notifyListeners:u}}var Qb=!!(typeof window<"u"&&window.document&&window.document.createElement);function Xb(t,e){e(window.confirm(t))}function WU(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function e4(){return window.navigator.userAgent.indexOf("Trident")===-1}function t4(){return window.navigator.userAgent.indexOf("Firefox")===-1}function n4(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var K_="popstate",Y_="hashchange";function Q_(){try{return window.history.state||{}}catch{return{}}}function i4(t){t===void 0&&(t={}),Qb||rr();var e=window.history,n=WU(),s=!e4(),o=t,u=o.forceRefresh,c=u===void 0?!1:u,d=o.getUserConfirmation,p=d===void 0?Xb:d,g=o.keyLength,y=g===void 0?6:g,_=t.basename?Yb(Ao(t.basename)):"";function S(W){var E=W||{},I=E.key,j=E.state,F=window.location,ee=F.pathname,fe=F.search,ae=F.hash,$e=ee+fe+ae;return _&&($e=Kb($e,_)),$t($e,j,I)}function A(){return Math.random().toString(36).substr(2,y)}var U=lm();function P(W){Nt(te,W),te.length=e.length,U.notifyListeners(te.location,te.action)}function q(W){n4(W)||M(S(W.state))}function z(){M(S(Q_()))}var G=!1;function M(W){if(G)G=!1,P();else{var E="POP";U.confirmTransitionTo(W,E,p,function(I){I?P({action:E,location:W}):Y(W)})}}function Y(W){var E=te.location,I=K.indexOf(E.key);I===-1&&(I=0);var j=K.indexOf(W.key);j===-1&&(j=0);var F=I-j;F&&(G=!0,ye(F))}var N=S(Q_()),K=[N.key];function X(W){return _+Jt(W)}function J(W,E){var I="PUSH",j=$t(W,E,A(),te.location);U.confirmTransitionTo(j,I,p,function(F){if(F){var ee=X(j),fe=j.key,ae=j.state;if(n)if(e.pushState({key:fe,state:ae},null,ee),c)window.location.href=ee;else{var $e=K.indexOf(te.location.key),Me=K.slice(0,$e+1);Me.push(j.key),K=Me,P({action:I,location:j})}else window.location.href=ee}})}function me(W,E){var I="REPLACE",j=$t(W,E,A(),te.location);U.confirmTransitionTo(j,I,p,function(F){if(F){var ee=X(j),fe=j.key,ae=j.state;if(n)if(e.replaceState({key:fe,state:ae},null,ee),c)window.location.replace(ee);else{var $e=K.indexOf(te.location.key);$e!==-1&&(K[$e]=j.key),P({action:I,location:j})}else window.location.replace(ee)}})}function ye(W){e.go(W)}function Ee(){ye(-1)}function le(){ye(1)}var ze=0;function Ie(W){ze+=W,ze===1&&W===1?(window.addEventListener(K_,q),s&&window.addEventListener(Y_,z)):ze===0&&(window.removeEventListener(K_,q),s&&window.removeEventListener(Y_,z))}var Se=!1;function x(W){W===void 0&&(W=!1);var E=U.setPrompt(W);return Se||(Ie(1),Se=!0),function(){return Se&&(Se=!1,Ie(-1)),E()}}function Q(W){var E=U.appendListener(W);return Ie(1),function(){Ie(-1),E()}}var te={length:e.length,action:"POP",location:N,createHref:X,push:J,replace:me,go:ye,goBack:Ee,goForward:le,block:x,listen:Q};return te}var X_="hashchange",r4={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+$_(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:$_,decodePath:Ao},slash:{encodePath:Ao,decodePath:Ao}};function Zb(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function uo(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function s4(t){window.location.hash=t}function $d(t){window.location.replace(Zb(window.location.href)+"#"+t)}function a4(t){t===void 0&&(t={}),Qb||rr();var e=window.history;t4();var n=t,s=n.getUserConfirmation,o=s===void 0?Xb:s,u=n.hashType,c=u===void 0?"slash":u,d=t.basename?Yb(Ao(t.basename)):"",p=r4[c],g=p.encodePath,y=p.decodePath;function _(){var E=y(uo());return d&&(E=Kb(E,d)),$t(E)}var S=lm();function A(E){Nt(W,E),W.length=e.length,S.notifyListeners(W.location,W.action)}var U=!1,P=null;function q(E,I){return E.pathname===I.pathname&&E.search===I.search&&E.hash===I.hash}function z(){var E=uo(),I=g(E);if(E!==I)$d(I);else{var j=_(),F=W.location;if(!U&&q(F,j)||P===Jt(j))return;P=null,G(j)}}function G(E){if(U)U=!1,A();else{var I="POP";S.confirmTransitionTo(E,I,o,function(j){j?A({action:I,location:E}):M(E)})}}function M(E){var I=W.location,j=X.lastIndexOf(Jt(I));j===-1&&(j=0);var F=X.lastIndexOf(Jt(E));F===-1&&(F=0);var ee=j-F;ee&&(U=!0,Ee(ee))}var Y=uo(),N=g(Y);Y!==N&&$d(N);var K=_(),X=[Jt(K)];function J(E){var I=document.querySelector("base"),j="";return I&&I.getAttribute("href")&&(j=Zb(window.location.href)),j+"#"+g(d+Jt(E))}function me(E,I){var j="PUSH",F=$t(E,void 0,void 0,W.location);S.confirmTransitionTo(F,j,o,function(ee){if(ee){var fe=Jt(F),ae=g(d+fe),$e=uo()!==ae;if($e){P=fe,s4(ae);var Me=X.lastIndexOf(Jt(W.location)),wn=X.slice(0,Me+1);wn.push(fe),X=wn,A({action:j,location:F})}else A()}})}function ye(E,I){var j="REPLACE",F=$t(E,void 0,void 0,W.location);S.confirmTransitionTo(F,j,o,function(ee){if(ee){var fe=Jt(F),ae=g(d+fe),$e=uo()!==ae;$e&&(P=fe,$d(ae));var Me=X.indexOf(Jt(W.location));Me!==-1&&(X[Me]=fe),A({action:j,location:F})}})}function Ee(E){e.go(E)}function le(){Ee(-1)}function ze(){Ee(1)}var Ie=0;function Se(E){Ie+=E,Ie===1&&E===1?window.addEventListener(X_,z):Ie===0&&window.removeEventListener(X_,z)}var x=!1;function Q(E){E===void 0&&(E=!1);var I=S.setPrompt(E);return x||(Se(1),x=!0),function(){return x&&(x=!1,Se(-1)),I()}}function te(E){var I=S.appendListener(E);return Se(1),function(){Se(-1),I()}}var W={length:e.length,action:"POP",location:K,createHref:J,push:me,replace:ye,go:Ee,goBack:le,goForward:ze,block:Q,listen:te};return W}function Z_(t,e,n){return Math.min(Math.max(t,e),n)}function o4(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,s=e.initialEntries,o=s===void 0?["/"]:s,u=e.initialIndex,c=u===void 0?0:u,d=e.keyLength,p=d===void 0?6:d,g=lm();function y(J){Nt(X,J),X.length=X.entries.length,g.notifyListeners(X.location,X.action)}function _(){return Math.random().toString(36).substr(2,p)}var S=Z_(c,0,o.length-1),A=o.map(function(J){return typeof J=="string"?$t(J,void 0,_()):$t(J,void 0,J.key||_())}),U=Jt;function P(J,me){var ye="PUSH",Ee=$t(J,me,_(),X.location);g.confirmTransitionTo(Ee,ye,n,function(le){if(le){var ze=X.index,Ie=ze+1,Se=X.entries.slice(0);Se.length>Ie?Se.splice(Ie,Se.length-Ie,Ee):Se.push(Ee),y({action:ye,location:Ee,index:Ie,entries:Se})}})}function q(J,me){var ye="REPLACE",Ee=$t(J,me,_(),X.location);g.confirmTransitionTo(Ee,ye,n,function(le){le&&(X.entries[X.index]=Ee,y({action:ye,location:Ee}))})}function z(J){var me=Z_(X.index+J,0,X.entries.length-1),ye="POP",Ee=X.entries[me];g.confirmTransitionTo(Ee,ye,n,function(le){le?y({action:ye,location:Ee,index:me}):y()})}function G(){z(-1)}function M(){z(1)}function Y(J){var me=X.index+J;return me>=0&&me<X.entries.length}function N(J){return J===void 0&&(J=!1),g.setPrompt(J)}function K(J){return g.appendListener(J)}var X={length:A.length,action:"POP",location:A[S],index:S,entries:A,createHref:U,push:P,replace:q,go:z,goBack:G,goForward:M,canGo:Y,block:N,listen:K};return X}var wr={exports:{}},Kd,J_;function l4(){return J_||(J_=1,Kd=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"}),Kd}var W_;function u4(){if(W_)return wr.exports;W_=1;var t=l4();wr.exports=q,wr.exports.parse=n,wr.exports.compile=o,wr.exports.tokensToFunction=d,wr.exports.tokensToRegExp=P;var e=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function n(z,G){for(var M=[],Y=0,N=0,K="",X=G&&G.delimiter||"/",J;(J=e.exec(z))!=null;){var me=J[0],ye=J[1],Ee=J.index;if(K+=z.slice(N,Ee),N=Ee+me.length,ye){K+=ye[1];continue}var le=z[N],ze=J[2],Ie=J[3],Se=J[4],x=J[5],Q=J[6],te=J[7];K&&(M.push(K),K="");var W=ze!=null&&le!=null&&le!==ze,E=Q==="+"||Q==="*",I=Q==="?"||Q==="*",j=ze||X,F=Se||x,ee=ze||(typeof M[M.length-1]=="string"?M[M.length-1]:"");M.push({name:Ie||Y++,prefix:ze||"",delimiter:j,optional:I,repeat:E,partial:W,asterisk:!!te,pattern:F?g(F):te?".*":s(j,ee)})}return N<z.length&&(K+=z.substr(N)),K&&M.push(K),M}function s(z,G){return!G||G.indexOf(z)>-1?"[^"+p(z)+"]+?":p(G)+"|(?:(?!"+p(G)+")[^"+p(z)+"])+?"}function o(z,G){return d(n(z,G),G)}function u(z){return encodeURI(z).replace(/[\/?#]/g,function(G){return"%"+G.charCodeAt(0).toString(16).toUpperCase()})}function c(z){return encodeURI(z).replace(/[?#]/g,function(G){return"%"+G.charCodeAt(0).toString(16).toUpperCase()})}function d(z,G){for(var M=new Array(z.length),Y=0;Y<z.length;Y++)typeof z[Y]=="object"&&(M[Y]=new RegExp("^(?:"+z[Y].pattern+")$",_(G)));return function(N,K){for(var X="",J=N||{},me=K||{},ye=me.pretty?u:encodeURIComponent,Ee=0;Ee<z.length;Ee++){var le=z[Ee];if(typeof le=="string"){X+=le;continue}var ze=J[le.name],Ie;if(ze==null)if(le.optional){le.partial&&(X+=le.prefix);continue}else throw new TypeError('Expected "'+le.name+'" to be defined');if(t(ze)){if(!le.repeat)throw new TypeError('Expected "'+le.name+'" to not repeat, but received `'+JSON.stringify(ze)+"`");if(ze.length===0){if(le.optional)continue;throw new TypeError('Expected "'+le.name+'" to not be empty')}for(var Se=0;Se<ze.length;Se++){if(Ie=ye(ze[Se]),!M[Ee].test(Ie))throw new TypeError('Expected all "'+le.name+'" to match "'+le.pattern+'", but received `'+JSON.stringify(Ie)+"`");X+=(Se===0?le.prefix:le.delimiter)+Ie}continue}if(Ie=le.asterisk?c(ze):ye(ze),!M[Ee].test(Ie))throw new TypeError('Expected "'+le.name+'" to match "'+le.pattern+'", but received "'+Ie+'"');X+=le.prefix+Ie}return X}}function p(z){return z.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function g(z){return z.replace(/([=!:$\/()])/g,"\\$1")}function y(z,G){return z.keys=G,z}function _(z){return z&&z.sensitive?"":"i"}function S(z,G){var M=z.source.match(/\((?!\?)/g);if(M)for(var Y=0;Y<M.length;Y++)G.push({name:Y,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return y(z,G)}function A(z,G,M){for(var Y=[],N=0;N<z.length;N++)Y.push(q(z[N],G,M).source);var K=new RegExp("(?:"+Y.join("|")+")",_(M));return y(K,G)}function U(z,G,M){return P(n(z,M),G,M)}function P(z,G,M){t(G)||(M=G||M,G=[]),M=M||{};for(var Y=M.strict,N=M.end!==!1,K="",X=0;X<z.length;X++){var J=z[X];if(typeof J=="string")K+=p(J);else{var me=p(J.prefix),ye="(?:"+J.pattern+")";G.push(J),J.repeat&&(ye+="(?:"+me+ye+")*"),J.optional?J.partial?ye=me+"("+ye+")?":ye="(?:"+me+"("+ye+"))?":ye=me+"("+ye+")",K+=ye}}var Ee=p(M.delimiter||"/"),le=K.slice(-Ee.length)===Ee;return Y||(K=(le?K.slice(0,-Ee.length):K)+"(?:"+Ee+"(?=$))?"),N?K+="$":K+=Y&&le?"":"(?="+Ee+"|$)",y(new RegExp("^"+K,_(M)),G)}function q(z,G,M){return t(G)||(M=G||M,G=[]),M=M||{},z instanceof RegExp?S(z,G):t(z)?A(z,G,M):U(z,G,M)}return wr.exports}var c4=u4();const Jb=yc(c4);var Yd={exports:{}},Be={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function h4(){if(eT)return Be;eT=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,s=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,u=t?Symbol.for("react.profiler"):60114,c=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,p=t?Symbol.for("react.async_mode"):60111,g=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,_=t?Symbol.for("react.suspense"):60113,S=t?Symbol.for("react.suspense_list"):60120,A=t?Symbol.for("react.memo"):60115,U=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,q=t?Symbol.for("react.fundamental"):60117,z=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function M(N){if(typeof N=="object"&&N!==null){var K=N.$$typeof;switch(K){case e:switch(N=N.type,N){case p:case g:case s:case u:case o:case _:return N;default:switch(N=N&&N.$$typeof,N){case d:case y:case U:case A:case c:return N;default:return K}}case n:return K}}}function Y(N){return M(N)===g}return Be.AsyncMode=p,Be.ConcurrentMode=g,Be.ContextConsumer=d,Be.ContextProvider=c,Be.Element=e,Be.ForwardRef=y,Be.Fragment=s,Be.Lazy=U,Be.Memo=A,Be.Portal=n,Be.Profiler=u,Be.StrictMode=o,Be.Suspense=_,Be.isAsyncMode=function(N){return Y(N)||M(N)===p},Be.isConcurrentMode=Y,Be.isContextConsumer=function(N){return M(N)===d},Be.isContextProvider=function(N){return M(N)===c},Be.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Be.isForwardRef=function(N){return M(N)===y},Be.isFragment=function(N){return M(N)===s},Be.isLazy=function(N){return M(N)===U},Be.isMemo=function(N){return M(N)===A},Be.isPortal=function(N){return M(N)===n},Be.isProfiler=function(N){return M(N)===u},Be.isStrictMode=function(N){return M(N)===o},Be.isSuspense=function(N){return M(N)===_},Be.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===s||N===g||N===u||N===o||N===_||N===S||typeof N=="object"&&N!==null&&(N.$$typeof===U||N.$$typeof===A||N.$$typeof===c||N.$$typeof===d||N.$$typeof===y||N.$$typeof===q||N.$$typeof===z||N.$$typeof===G||N.$$typeof===P)},Be.typeOf=M,Be}var tT;function Wb(){return tT||(tT=1,Yd.exports=h4()),Yd.exports}Wb();function eh(t,e){if(t==null)return{};var n={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;n[s]=t[s]}return n}var Qd,nT;function f4(){if(nT)return Qd;nT=1;var t=Wb(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[t.ForwardRef]=s,u[t.Memo]=o;function c(U){return t.isMemo(U)?o:u[U.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,S=Object.prototype;function A(U,P,q){if(typeof P!="string"){if(S){var z=_(P);z&&z!==S&&A(U,z,q)}var G=p(P);g&&(G=G.concat(g(P)));for(var M=c(U),Y=c(P),N=0;N<G.length;++N){var K=G[N];if(!n[K]&&!(q&&q[K])&&!(Y&&Y[K])&&!(M&&M[K])){var X=y(P,K);try{d(U,K,X)}catch{}}}}return U}return Qd=A,Qd}f4();var Xd=1073741823,iT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function d4(){var t="__global_unique_id__";return iT[t]=(iT[t]||0)+1}function p4(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function g4(t){var e=[];return{on:function(s){e.push(s)},off:function(s){e=e.filter(function(o){return o!==s})},get:function(){return t},set:function(s,o){t=s,e.forEach(function(u){return u(t,o)})}}}function m4(t){return Array.isArray(t)?t[0]:t}function y4(t,e){var n,s,o="__create-react-context-"+d4()+"__",u=function(d){Kn(p,d);function p(){for(var y,_=arguments.length,S=new Array(_),A=0;A<_;A++)S[A]=arguments[A];return y=d.call.apply(d,[this].concat(S))||this,y.emitter=g4(y.props.value),y}var g=p.prototype;return g.getChildContext=function(){var _;return _={},_[o]=this.emitter,_},g.componentWillReceiveProps=function(_){if(this.props.value!==_.value){var S=this.props.value,A=_.value,U;p4(S,A)?U=0:(U=typeof e=="function"?e(S,A):Xd,U|=0,U!==0&&this.emitter.set(_.value,U))}},g.render=function(){return this.props.children},p}(De.Component);u.childContextTypes=(n={},n[o]=G_.object.isRequired,n);var c=function(d){Kn(p,d);function p(){for(var y,_=arguments.length,S=new Array(_),A=0;A<_;A++)S[A]=arguments[A];return y=d.call.apply(d,[this].concat(S))||this,y.observedBits=void 0,y.state={value:y.getValue()},y.onUpdate=function(U,P){var q=y.observedBits|0;(q&P)!==0&&y.setState({value:y.getValue()})},y}var g=p.prototype;return g.componentWillReceiveProps=function(_){var S=_.observedBits;this.observedBits=S??Xd},g.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var _=this.props.observedBits;this.observedBits=_??Xd},g.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},g.getValue=function(){return this.context[o]?this.context[o].get():t},g.render=function(){return m4(this.props.children)(this.state.value)},p}(De.Component);return c.contextTypes=(s={},s[o]=G_.object,s),{Provider:u,Consumer:c}}var v4=De.createContext||y4,e1=function(e){var n=v4();return n.displayName=e,n},t1=e1("Router-History"),jr=e1("Router"),th=function(t){Kn(e,t),e.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function e(s){var o;return o=t.call(this,s)||this,o.state={location:s.history.location},o._isMounted=!1,o._pendingLocation=null,s.staticContext||(o.unlisten=s.history.listen(function(u){o._pendingLocation=u})),o}var n=e.prototype;return n.componentDidMount=function(){var o=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(u){o._isMounted&&o.setState({location:u})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return De.createElement(jr.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},De.createElement(t1.Provider,{children:this.props.children||null,value:this.props.history}))},e}(De.Component);De.Component;var E4=function(t){Kn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(o){this.props.onUpdate&&this.props.onUpdate.call(this,this,o)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},e}(De.Component),Zd={},_4=1e4,rT=0;function T4(t){if(Zd[t])return Zd[t];var e=Jb.compile(t);return rT<_4&&(Zd[t]=e,rT++),e}function sT(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:T4(t)(e,{pretty:!0})}function aT(t){var e=t.computedMatch,n=t.to,s=t.push,o=s===void 0?!1:s;return De.createElement(jr.Consumer,null,function(u){u||rr();var c=u.history,d=u.staticContext,p=o?c.push:c.replace,g=$t(e?typeof n=="string"?sT(n,e.params):Nt({},n,{pathname:sT(n.pathname,e.params)}):n);return d?(p(g),null):De.createElement(E4,{onMount:function(){p(g)},onUpdate:function(_,S){var A=$t(S.to);JU(A,Nt({},g,{key:A.key}))||p(g)},to:n})})}var oT={},S4=1e4,lT=0;function w4(t,e){var n=""+e.end+e.strict+e.sensitive,s=oT[n]||(oT[n]={});if(s[t])return s[t];var o=[],u=Jb(t,o,e),c={regexp:u,keys:o};return lT<S4&&(s[t]=c,lT++),c}function um(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,s=n.path,o=n.exact,u=o===void 0?!1:o,c=n.strict,d=c===void 0?!1:c,p=n.sensitive,g=p===void 0?!1:p,y=[].concat(s);return y.reduce(function(_,S){if(!S&&S!=="")return null;if(_)return _;var A=w4(S,{end:u,strict:d,sensitive:g}),U=A.regexp,P=A.keys,q=U.exec(t);if(!q)return null;var z=q[0],G=q.slice(1),M=t===z;return u&&!M?null:{path:S,url:S==="/"&&z===""?"/":z,isExact:M,params:P.reduce(function(Y,N,K){return Y[N.name]=G[K],Y},{})}},null)}function b4(t){return De.Children.count(t)===0}var Jd=function(t){Kn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var o=this;return De.createElement(jr.Consumer,null,function(u){u||rr();var c=o.props.location||u.location,d=o.props.computedMatch?o.props.computedMatch:o.props.path?um(c.pathname,o.props):u.match,p=Nt({},u,{location:c,match:d}),g=o.props,y=g.children,_=g.component,S=g.render;return Array.isArray(y)&&b4(y)&&(y=null),De.createElement(jr.Provider,{value:p},p.match?y?typeof y=="function"?y(p):y:_?De.createElement(_,p):S?S(p):null:typeof y=="function"?y(p):null)})},e}(De.Component);function cm(t){return t.charAt(0)==="/"?t:"/"+t}function A4(t,e){return t?Nt({},e,{pathname:cm(t)+e.pathname}):e}function R4(t,e){if(!t)return e;var n=cm(t);return e.pathname.indexOf(n)!==0?e:Nt({},e,{pathname:e.pathname.substr(n.length)})}function uT(t){return typeof t=="string"?t:Jt(t)}function Wd(t){return function(){rr()}}function cT(){}De.Component;var C4=function(t){Kn(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var o=this;return De.createElement(jr.Consumer,null,function(u){u||rr();var c=o.props.location||u.location,d,p;return De.Children.forEach(o.props.children,function(g){if(p==null&&De.isValidElement(g)){d=g;var y=g.props.path||g.props.from;p=y?um(c.pathname,Nt({},g.props,{path:y})):u.match}}),p?De.cloneElement(d,{location:c,computedMatch:p}):null})},e}(De.Component),D4=De.useContext;function O4(){return D4(t1)}var N4=function(t){Kn(e,t);function e(){for(var s,o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return s=t.call.apply(t,[this].concat(u))||this,s.history=i4(s.props),s}var n=e.prototype;return n.render=function(){return De.createElement(th,{history:this.history,children:this.props.children})},e}(De.Component);De.Component;var jp=function(e,n){return typeof e=="function"?e(n):e},Vp=function(e,n){return typeof e=="string"?$t(e,null,null,n):e},hm=function(e){return e},Js=De.forwardRef;typeof Js>"u"&&(Js=hm);function I4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var M4=Js(function(t,e){var n=t.innerRef,s=t.navigate,o=t.onClick,u=eh(t,["innerRef","navigate","onClick"]),c=u.target,d=Nt({},u,{onClick:function(g){try{o&&o(g)}catch(y){throw g.preventDefault(),y}!g.defaultPrevented&&g.button===0&&(!c||c==="_self")&&!I4(g)&&(g.preventDefault(),s())}});return hm!==Js?d.ref=e||n:d.ref=n,De.createElement("a",d)}),n1=Js(function(t,e){var n=t.component,s=n===void 0?M4:n,o=t.replace,u=t.to,c=t.innerRef,d=eh(t,["component","replace","to","innerRef"]);return De.createElement(jr.Consumer,null,function(p){p||rr();var g=p.history,y=Vp(jp(u,p.location),p.location),_=y?g.createHref(y):"",S=Nt({},d,{href:_,navigate:function(){var U=jp(u,p.location),P=Jt(p.location)===Jt(Vp(U)),q=o||P?g.replace:g.push;q(U)}});return hm!==Js?S.ref=e||c:S.innerRef=c,De.createElement(s,S)})}),i1=function(e){return e},mc=De.forwardRef;typeof mc>"u"&&(mc=i1);function x4(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(s){return s}).join(" ")}mc(function(t,e){var n=t["aria-current"],s=n===void 0?"page":n,o=t.activeClassName,u=o===void 0?"active":o,c=t.activeStyle,d=t.className,p=t.exact,g=t.isActive,y=t.location,_=t.sensitive,S=t.strict,A=t.style,U=t.to,P=t.innerRef,q=eh(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return De.createElement(jr.Consumer,null,function(z){z||rr();var G=y||z.location,M=Vp(jp(U,G),G),Y=M.pathname,N=Y&&Y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),K=N?um(G.pathname,{path:N,exact:p,sensitive:_,strict:S}):null,X=!!(g?g(K,G):K),J=typeof d=="function"?d(X):d,me=typeof A=="function"?A(X):A;X&&(J=x4(J,u),me=Nt({},me,c));var ye=Nt({"aria-current":X&&s||null,className:J,style:me,to:M},q);return i1!==mc?ye.ref=e||P:ye.innerRef=P,De.createElement(n1,ye)})});const U4={user:null,authIsReady:!1},r1=Ye.createContext(U4),k4=(t,e)=>{switch(e.type){case"LOGIN":return{...t,user:e.payload};case"LOGOUT":return{...t,user:e.payload};case"AUTH_IS_READY":return{...t,user:e.payload,authIsReady:!0};default:return t}},L4=({children:t})=>{const[e,n]=Ye.useReducer(k4,{user:null,authIsReady:!1});return Ye.useEffect(()=>ZD(am,s=>{n({type:"AUTH_IS_READY",payload:s})}),[]),H.jsx(r1.Provider,{value:{...e,dispatch:n},children:t})},nh=()=>{const t=Ye.useContext(r1);if(!t)throw new Error("useAuthContext must be use in AuthContextProvider");return t},z4=()=>{const{dispatch:t}=nh(),[e,n]=Ye.useState(null);return{error:e,login:async(o,u)=>{try{const c=await YD(am,o,u);t&&t({type:"LOGIN",payload:c.user})}catch(c){c instanceof Error?n(c.message):console.error("Unknown error",c)}}}},B4=()=>{const{error:t,login:e}=z4(),[n,s]=Ye.useState({email:"",password:""}),o=c=>{s(d=>({...d,[c.target.name]:c.target.value}))},u=c=>{c.preventDefault(),n.email!==""&&n.password!==""&&e(n.email,n.password)};return H.jsx("div",{className:"main-bg",children:H.jsxs("form",{onSubmit:u,children:[H.jsxs("h4",{children:[H.jsx("i",{className:"fas fa-guitar fa-lg"})," ",H.jsx("i",{className:"fas fa-user-circle fa-lg"})]}),H.jsx("br",{}),H.jsx("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:o}),H.jsx("input",{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:o}),H.jsx("input",{type:"submit",value:"SUBMIT"}),H.jsx("br",{}),t&&t,H.jsx(n1,{to:"/",style:{color:"#20232a"},children:H.jsx("i",{className:"fas fa-home"})})]})})},j4=()=>H.jsx("footer",{children:H.jsx("div",{children:H.jsx("p",{children:H.jsxs("small",{children:["App Version 1.0.4  2021 - ",new Date().getFullYear()]})})})}),V4=()=>{const{dispatch:t}=nh();return{logout:async()=>{await JD(am),t&&t({type:"LOGOUT",payload:null})}}},q4=()=>{const{user:t}=nh(),{logout:e}=V4(),n=O4();return H.jsxs("header",{children:[H.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".8rem"},children:[H.jsx("i",{onClick:()=>n.push("/"),style:{cursor:"pointer"},className:"fas fa-headphones-alt"}),H.jsx("i",{onClick:()=>n.push("/admin"),style:{cursor:"pointer"},className:"fas fa-tools fa-xs"})]}),H.jsxs("div",{style:{display:"flex",gap:"0.6rem"},children:[H.jsx("h6",{children:t.email}),H.jsx("button",{style:{backgroundColor:"#20232a",border:"none",cursor:"pointer",color:"#fff"},children:H.jsx("i",{onClick:e,className:"fas fa-sign-out-alt"})})]})]})},H4=()=>{const{user:t,authIsReady:e}=nh();return H.jsx(H.Fragment,{children:e&&H.jsxs(H.Fragment,{children:[t&&H.jsx(q4,{}),H.jsxs(C4,{children:[H.jsx(Jd,{exact:!0,path:"/",component:zU}),H.jsx(Jd,{exact:!0,path:"/admin",children:t?H.jsx(HU,{}):H.jsx(aT,{to:"/login"})}),H.jsx(Jd,{exact:!0,path:"/login",children:t?H.jsx(aT,{to:"/admin"}):H.jsx(B4,{})})]}),t&&H.jsx(j4,{})]})})};var ep={exports:{}},co={},tp={exports:{}},np={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function P4(){return hT||(hT=1,function(t){function e(x,Q){var te=x.length;x.push(Q);e:for(;0<te;){var W=te-1>>>1,E=x[W];if(0<o(E,Q))x[W]=Q,x[te]=E,te=W;else break e}}function n(x){return x.length===0?null:x[0]}function s(x){if(x.length===0)return null;var Q=x[0],te=x.pop();if(te!==Q){x[0]=te;e:for(var W=0,E=x.length,I=E>>>1;W<I;){var j=2*(W+1)-1,F=x[j],ee=j+1,fe=x[ee];if(0>o(F,te))ee<E&&0>o(fe,F)?(x[W]=fe,x[ee]=te,W=ee):(x[W]=F,x[j]=te,W=j);else if(ee<E&&0>o(fe,te))x[W]=fe,x[ee]=te,W=ee;else break e}}return Q}function o(x,Q){var te=x.sortIndex-Q.sortIndex;return te!==0?te:x.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,_=null,S=3,A=!1,U=!1,P=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Y(x){for(var Q=n(g);Q!==null;){if(Q.callback===null)s(g);else if(Q.startTime<=x)s(g),Q.sortIndex=Q.expirationTime,e(p,Q);else break;Q=n(g)}}function N(x){if(P=!1,Y(x),!U)if(n(p)!==null)U=!0,K||(K=!0,le());else{var Q=n(g);Q!==null&&Se(N,Q.startTime-x)}}var K=!1,X=-1,J=5,me=-1;function ye(){return q?!0:!(t.unstable_now()-me<J)}function Ee(){if(q=!1,K){var x=t.unstable_now();me=x;var Q=!0;try{e:{U=!1,P&&(P=!1,G(X),X=-1),A=!0;var te=S;try{t:{for(Y(x),_=n(p);_!==null&&!(_.expirationTime>x&&ye());){var W=_.callback;if(typeof W=="function"){_.callback=null,S=_.priorityLevel;var E=W(_.expirationTime<=x);if(x=t.unstable_now(),typeof E=="function"){_.callback=E,Y(x),Q=!0;break t}_===n(p)&&s(p),Y(x)}else s(p);_=n(p)}if(_!==null)Q=!0;else{var I=n(g);I!==null&&Se(N,I.startTime-x),Q=!1}}break e}finally{_=null,S=te,A=!1}Q=void 0}}finally{Q?le():K=!1}}}var le;if(typeof M=="function")le=function(){M(Ee)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Ie=ze.port2;ze.port1.onmessage=Ee,le=function(){Ie.postMessage(null)}}else le=function(){z(Ee,0)};function Se(x,Q){X=z(function(){x(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(x){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var te=S;S=Q;try{return x()}finally{S=te}},t.unstable_requestPaint=function(){q=!0},t.unstable_runWithPriority=function(x,Q){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var te=S;S=x;try{return Q()}finally{S=te}},t.unstable_scheduleCallback=function(x,Q,te){var W=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?W+te:W):te=W,x){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=te+E,x={id:y++,callback:Q,priorityLevel:x,startTime:te,expirationTime:E,sortIndex:-1},te>W?(x.sortIndex=te,e(g,x),n(p)===null&&x===n(g)&&(P?(G(X),X=-1):P=!0,Se(N,te-W))):(x.sortIndex=E,e(p,x),U||A||(U=!0,K||(K=!0,le()))),x},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(x){var Q=S;return function(){var te=S;S=Q;try{return x.apply(this,arguments)}finally{S=te}}}}(np)),np}var fT;function G4(){return fT||(fT=1,tp.exports=P4()),tp.exports}var ip={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function F4(){if(dT)return Ut;dT=1;var t=qp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ut.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,y)},Ut.flushSync=function(p){var g=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=y,s.d.f()}},Ut.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ut.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ut.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:A}):y==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ut.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ut.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=d(y,g.crossOrigin);s.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ut.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ut.requestFormReset=function(p){s.d.r(p)},Ut.unstable_batchedUpdates=function(p,g){return p(g)},Ut.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},Ut.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ut.version="19.1.0",Ut}var pT;function $4(){if(pT)return ip.exports;pT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ip.exports=F4(),ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function K4(){if(gT)return co;gT=1;var t=G4(),e=qp(),n=$4();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return d(h),i;if(f===l)return d(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var m=!1,v=h.child;v;){if(v===a){m=!0,a=h,l=f;break}if(v===l){m=!0,l=h,a=f;break}v=v.sibling}if(!m){for(v=f.child;v;){if(v===a){m=!0,a=f,l=h;break}if(v===l){m=!0,l=f,a=h;break}v=v.sibling}if(!m)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=Ee&&i[Ee]||i["@@iterator"],typeof i=="function"?i:null)}var ze=Symbol.for("react.client.reference");function Ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ze?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case q:return"Profiler";case P:return"StrictMode";case N:return"Suspense";case K:return"SuspenseList";case me:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case M:return(i.displayName||"Context")+".Provider";case G:return(i._context.displayName||"Context")+".Consumer";case Y:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case X:return r=i.displayName||null,r!==null?r:Ie(i.type)||"Memo";case J:r=i._payload,i=i._init;try{return Ie(i(r))}catch{}}return null}var Se=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},W=[],E=-1;function I(i){return{current:i}}function j(i){0>E||(i.current=W[E],W[E]=null,E--)}function F(i,r){E++,W[E]=i.current,i.current=r}var ee=I(null),fe=I(null),ae=I(null),$e=I(null);function Me(i,r){switch(F(ae,r),F(fe,i),F(ee,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?M0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=M0(r),i=x0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}j(ee),F(ee,i)}function wn(){j(ee),j(fe),j(ae)}function ih(i){i.memoizedState!==null&&F($e,i);var r=ee.current,a=x0(r,i.type);r!==a&&(F(fe,i),F(ee,a))}function hl(i){fe.current===i&&(j(ee),j(fe)),$e.current===i&&(j($e),eo._currentValue=te)}var rh=Object.prototype.hasOwnProperty,sh=t.unstable_scheduleCallback,ah=t.unstable_cancelCallback,s1=t.unstable_shouldYield,a1=t.unstable_requestPaint,In=t.unstable_now,o1=t.unstable_getCurrentPriorityLevel,fm=t.unstable_ImmediatePriority,dm=t.unstable_UserBlockingPriority,fl=t.unstable_NormalPriority,l1=t.unstable_LowPriority,pm=t.unstable_IdlePriority,u1=t.log,c1=t.unstable_setDisableYieldValue,la=null,Wt=null;function vi(i){if(typeof u1=="function"&&c1(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(la,i)}catch{}}var en=Math.clz32?Math.clz32:d1,h1=Math.log,f1=Math.LN2;function d1(i){return i>>>=0,i===0?32:31-(h1(i)/f1|0)|0}var dl=256,pl=4194304;function sr(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gl(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var h=0,f=i.suspendedLanes,m=i.pingedLanes;i=i.warmLanes;var v=l&134217727;return v!==0?(l=v&~f,l!==0?h=sr(l):(m&=v,m!==0?h=sr(m):a||(a=v&~i,a!==0&&(h=sr(a))))):(v=l&~f,v!==0?h=sr(v):m!==0?h=sr(m):a||(a=l&~i,a!==0&&(h=sr(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function ua(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function p1(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gm(){var i=dl;return dl<<=1,(dl&4194048)===0&&(dl=256),i}function mm(){var i=pl;return pl<<=1,(pl&62914560)===0&&(pl=4194304),i}function oh(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function ca(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function g1(i,r,a,l,h,f){var m=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var v=i.entanglements,T=i.expirationTimes,C=i.hiddenUpdates;for(a=m&~a;0<a;){var k=31-en(a),B=1<<k;v[k]=0,T[k]=-1;var D=C[k];if(D!==null)for(C[k]=null,k=0;k<D.length;k++){var O=D[k];O!==null&&(O.lane&=-536870913)}a&=~B}l!==0&&ym(i,l,0),f!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=f&~(m&~r))}function ym(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-en(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function vm(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-en(a),h=1<<l;h&r|i[l]&r&&(i[l]|=r),a&=~h}}function lh(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function uh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Em(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:J0(i.type))}function m1(i,r){var a=Q.p;try{return Q.p=i,r()}finally{Q.p=a}}var Ei=Math.random().toString(36).slice(2),It="__reactFiber$"+Ei,Kt="__reactProps$"+Ei,Fr="__reactContainer$"+Ei,ch="__reactEvents$"+Ei,y1="__reactListeners$"+Ei,v1="__reactHandles$"+Ei,_m="__reactResources$"+Ei,ha="__reactMarker$"+Ei;function hh(i){delete i[It],delete i[Kt],delete i[ch],delete i[y1],delete i[v1]}function $r(i){var r=i[It];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Fr]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=z0(i);i!==null;){if(a=i[It])return a;i=z0(i)}return r}i=a,a=i.parentNode}return null}function Kr(i){if(i=i[It]||i[Fr]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function fa(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Yr(i){var r=i[_m];return r||(r=i[_m]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function yt(i){i[ha]=!0}var Tm=new Set,Sm={};function ar(i,r){Qr(i,r),Qr(i+"Capture",r)}function Qr(i,r){for(Sm[i]=r,i=0;i<r.length;i++)Tm.add(r[i])}var E1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wm={},bm={};function _1(i){return rh.call(bm,i)?!0:rh.call(wm,i)?!1:E1.test(i)?bm[i]=!0:(wm[i]=!0,!1)}function ml(i,r,a){if(_1(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function yl(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Qn(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var fh,Am;function Xr(i){if(fh===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fh=r&&r[1]||"",Am=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fh+i+Am}var dh=!1;function ph(i,r){if(!i||dh)return"";dh=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(O){var D=O}Reflect.construct(i,[],B)}else{try{B.call()}catch(O){D=O}i.call(B.prototype)}}else{try{throw Error()}catch(O){D=O}(B=i())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(O){if(O&&D&&typeof O.stack=="string")return[O.stack,D.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),m=f[0],v=f[1];if(m&&v){var T=m.split(`
`),C=v.split(`
`);for(h=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;h<C.length&&!C[h].includes("DetermineComponentFrameRoot");)h++;if(l===T.length||h===C.length)for(l=T.length-1,h=C.length-1;1<=l&&0<=h&&T[l]!==C[h];)h--;for(;1<=l&&0<=h;l--,h--)if(T[l]!==C[h]){if(l!==1||h!==1)do if(l--,h--,0>h||T[l]!==C[h]){var k=`
`+T[l].replace(" at new "," at ");return i.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",i.displayName)),k}while(1<=l&&0<=h);break}}}finally{dh=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Xr(a):""}function T1(i){switch(i.tag){case 26:case 27:case 5:return Xr(i.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 15:return ph(i.type,!1);case 11:return ph(i.type.render,!1);case 1:return ph(i.type,!0);case 31:return Xr("Activity");default:return""}}function Rm(i){try{var r="";do r+=T1(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cm(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function S1(i){var r=Cm(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return h.call(this)},set:function(m){l=""+m,f.call(this,m)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function vl(i){i._valueTracker||(i._valueTracker=S1(i))}function Dm(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Cm(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function El(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var w1=/[\n"\\]/g;function dn(i){return i.replace(w1,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gh(i,r,a,l,h,f,m,v){i.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?i.type=m:i.removeAttribute("type"),r!=null?m==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):m!=="submit"&&m!=="reset"||i.removeAttribute("value"),r!=null?mh(i,m,fn(r)):a!=null?mh(i,m,fn(a)):l!=null&&i.removeAttribute("value"),h==null&&f!=null&&(i.defaultChecked=!!f),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.name=""+fn(v):i.removeAttribute("name")}function Om(i,r,a,l,h,f,m,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(i.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+fn(a):"",r=r!=null?""+fn(r):a,v||r===i.value||(i.value=r),i.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=v?i.checked:!!l,i.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.name=m)}function mh(i,r,a){r==="number"&&El(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Zr(i,r,a,l){if(i=i.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<i.length;a++)h=r.hasOwnProperty("$"+i[a].value),i[a].selected!==h&&(i[a].selected=h),h&&l&&(i[a].defaultSelected=!0)}else{for(a=""+fn(a),r=null,h=0;h<i.length;h++){if(i[h].value===a){i[h].selected=!0,l&&(i[h].defaultSelected=!0);return}r!==null||i[h].disabled||(r=i[h])}r!==null&&(r.selected=!0)}}function Nm(i,r,a){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+fn(a):""}function Im(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=fn(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function Jr(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var b1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mm(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||b1.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function xm(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Mm(i,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Mm(i,f,r[f])}function yh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(i){return R1.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vh=null;function Eh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wr=null,es=null;function Um(i){var r=Kr(i);if(r&&(i=r.stateNode)){var a=i[Kt]||null;e:switch(i=r.stateNode,r.type){case"input":if(gh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var h=l[Kt]||null;if(!h)throw Error(s(90));gh(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&Dm(l)}break e;case"textarea":Nm(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Zr(i,!!a.multiple,r,!1)}}}var _h=!1;function km(i,r,a){if(_h)return i(r,a);_h=!0;try{var l=i(r);return l}finally{if(_h=!1,(Wr!==null||es!==null)&&(su(),Wr&&(r=Wr,i=es,es=Wr=null,Um(r),i)))for(r=0;r<i.length;r++)Um(i[r])}}function da(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Kt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=!1;if(Xn)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){Th=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{Th=!1}var _i=null,Sh=null,Tl=null;function Lm(){if(Tl)return Tl;var i,r=Sh,a=r.length,l,h="value"in _i?_i.value:_i.textContent,f=h.length;for(i=0;i<a&&r[i]===h[i];i++);var m=a-i;for(l=1;l<=m&&r[a-l]===h[f-l];l++);return Tl=h.slice(i,1<l?1-l:void 0)}function Sl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function wl(){return!0}function zm(){return!1}function Yt(i){function r(a,l,h,f,m){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var v in i)i.hasOwnProperty(v)&&(a=i[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?wl:zm,this.isPropagationStopped=zm,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),r}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Yt(or),ga=y({},or,{view:0,detail:0}),C1=Yt(ga),wh,bh,ma,Al=y({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ma&&(ma&&i.type==="mousemove"?(wh=i.screenX-ma.screenX,bh=i.screenY-ma.screenY):bh=wh=0,ma=i),wh)},movementY:function(i){return"movementY"in i?i.movementY:bh}}),Bm=Yt(Al),D1=y({},Al,{dataTransfer:0}),O1=Yt(D1),N1=y({},ga,{relatedTarget:0}),Ah=Yt(N1),I1=y({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),M1=Yt(I1),x1=y({},or,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),U1=Yt(x1),k1=y({},or,{data:0}),jm=Yt(k1),L1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j1(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=B1[i])?!!r[i]:!1}function Rh(){return j1}var V1=y({},ga,{key:function(i){if(i.key){var r=L1[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Sl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?z1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rh,charCode:function(i){return i.type==="keypress"?Sl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),q1=Yt(V1),H1=y({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=Yt(H1),P1=y({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rh}),G1=Yt(P1),F1=y({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),$1=Yt(F1),K1=y({},Al,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Y1=Yt(K1),Q1=y({},or,{newState:0,oldState:0}),X1=Yt(Q1),Z1=[9,13,27,32],Ch=Xn&&"CompositionEvent"in window,ya=null;Xn&&"documentMode"in document&&(ya=document.documentMode);var J1=Xn&&"TextEvent"in window&&!ya,qm=Xn&&(!Ch||ya&&8<ya&&11>=ya),Hm=" ",Pm=!1;function Gm(i,r){switch(i){case"keyup":return Z1.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ts=!1;function W1(i,r){switch(i){case"compositionend":return Fm(r);case"keypress":return r.which!==32?null:(Pm=!0,Hm);case"textInput":return i=r.data,i===Hm&&Pm?null:i;default:return null}}function eA(i,r){if(ts)return i==="compositionend"||!Ch&&Gm(i,r)?(i=Lm(),Tl=Sh=_i=null,ts=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qm&&r.locale!=="ko"?null:r.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!tA[i.type]:r==="textarea"}function Km(i,r,a,l){Wr?es?es.push(l):es=[l]:Wr=l,r=hu(r,"onChange"),0<r.length&&(a=new bl("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var va=null,Ea=null;function nA(i){C0(i,0)}function Rl(i){var r=fa(i);if(Dm(r))return i}function Ym(i,r){if(i==="change")return r}var Qm=!1;if(Xn){var Dh;if(Xn){var Oh="oninput"in document;if(!Oh){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Oh=typeof Xm.oninput=="function"}Dh=Oh}else Dh=!1;Qm=Dh&&(!document.documentMode||9<document.documentMode)}function Zm(){va&&(va.detachEvent("onpropertychange",Jm),Ea=va=null)}function Jm(i){if(i.propertyName==="value"&&Rl(Ea)){var r=[];Km(r,Ea,i,Eh(i)),km(nA,r)}}function iA(i,r,a){i==="focusin"?(Zm(),va=r,Ea=a,va.attachEvent("onpropertychange",Jm)):i==="focusout"&&Zm()}function rA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rl(Ea)}function sA(i,r){if(i==="click")return Rl(r)}function aA(i,r){if(i==="input"||i==="change")return Rl(r)}function oA(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var tn=typeof Object.is=="function"?Object.is:oA;function _a(i,r){if(tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!rh.call(r,h)||!tn(i[h],r[h]))return!1}return!0}function Wm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ey(i,r){var a=Wm(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wm(a)}}function ty(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?ty(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ny(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=El(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=El(i.document)}return r}function Nh(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var lA=Xn&&"documentMode"in document&&11>=document.documentMode,ns=null,Ih=null,Ta=null,Mh=!1;function iy(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||ns==null||ns!==El(l)||(l=ns,"selectionStart"in l&&Nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ta&&_a(Ta,l)||(Ta=l,l=hu(Ih,"onSelect"),0<l.length&&(r=new bl("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ns)))}function lr(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var is={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},xh={},ry={};Xn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function ur(i){if(xh[i])return xh[i];if(!is[i])return i;var r=is[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in ry)return xh[i]=r[a];return i}var sy=ur("animationend"),ay=ur("animationiteration"),oy=ur("animationstart"),uA=ur("transitionrun"),cA=ur("transitionstart"),hA=ur("transitioncancel"),ly=ur("transitionend"),uy=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function bn(i,r){uy.set(i,r),ar(r,[i])}var cy=new WeakMap;function pn(i,r){if(typeof i=="object"&&i!==null){var a=cy.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Rm(r)},cy.set(i,r),r)}return{value:i,source:r,stack:Rm(r)}}var gn=[],rs=0,kh=0;function Cl(){for(var i=rs,r=kh=rs=0;r<i;){var a=gn[r];gn[r++]=null;var l=gn[r];gn[r++]=null;var h=gn[r];gn[r++]=null;var f=gn[r];if(gn[r++]=null,l!==null&&h!==null){var m=l.pending;m===null?h.next=h:(h.next=m.next,m.next=h),l.pending=h}f!==0&&hy(a,h,f)}}function Dl(i,r,a,l){gn[rs++]=i,gn[rs++]=r,gn[rs++]=a,gn[rs++]=l,kh|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Lh(i,r,a,l){return Dl(i,r,a,l),Ol(i)}function ss(i,r){return Dl(i,null,null,r),Ol(i)}function hy(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=i.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(i=f.stateNode,i===null||i._visibility&1||(h=!0)),i=f,f=f.return;return i.tag===3?(f=i.stateNode,h&&r!==null&&(h=31-en(a),i=f.hiddenUpdates,l=i[h],l===null?i[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function Ol(i){if(50<$a)throw $a=0,Pf=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var as={};function fA(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(i,r,a,l){return new fA(i,r,a,l)}function zh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zn(i,r){var a=i.alternate;return a===null?(a=nn(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function fy(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Nl(i,r,a,l,h,f){var m=0;if(l=i,typeof i=="function")zh(i)&&(m=1);else if(typeof i=="string")m=pR(i,a,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case me:return i=nn(31,a,r,h),i.elementType=me,i.lanes=f,i;case U:return cr(a.children,h,f,r);case P:m=8,h|=24;break;case q:return i=nn(12,a,r,h|2),i.elementType=q,i.lanes=f,i;case N:return i=nn(13,a,r,h),i.elementType=N,i.lanes=f,i;case K:return i=nn(19,a,r,h),i.elementType=K,i.lanes=f,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:case M:m=10;break e;case G:m=9;break e;case Y:m=11;break e;case X:m=14;break e;case J:m=16,l=null;break e}m=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=nn(m,a,r,h),r.elementType=i,r.type=l,r.lanes=f,r}function cr(i,r,a,l){return i=nn(7,i,l,r),i.lanes=a,i}function Bh(i,r,a){return i=nn(6,i,null,r),i.lanes=a,i}function jh(i,r,a){return r=nn(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var os=[],ls=0,Il=null,Ml=0,mn=[],yn=0,hr=null,Jn=1,Wn="";function fr(i,r){os[ls++]=Ml,os[ls++]=Il,Il=i,Ml=r}function dy(i,r,a){mn[yn++]=Jn,mn[yn++]=Wn,mn[yn++]=hr,hr=i;var l=Jn;i=Wn;var h=32-en(l)-1;l&=~(1<<h),a+=1;var f=32-en(r)+h;if(30<f){var m=h-h%5;f=(l&(1<<m)-1).toString(32),l>>=m,h-=m,Jn=1<<32-en(r)+h|a<<h|l,Wn=f+i}else Jn=1<<f|a<<h|l,Wn=i}function Vh(i){i.return!==null&&(fr(i,1),dy(i,1,0))}function qh(i){for(;i===Il;)Il=os[--ls],os[ls]=null,Ml=os[--ls],os[ls]=null;for(;i===hr;)hr=mn[--yn],mn[yn]=null,Wn=mn[--yn],mn[yn]=null,Jn=mn[--yn],mn[yn]=null}var Pt=null,tt=null,ke=!1,dr=null,Mn=!1,Hh=Error(s(519));function pr(i){var r=Error(s(418,""));throw ba(pn(r,i)),Hh}function py(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[It]=i,r[Kt]=l,a){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(a=0;a<Ya.length;a++)Re(Ya[a],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Re("invalid",r),Om(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vl(r);break;case"select":Re("invalid",r);break;case"textarea":Re("invalid",r),Im(r,l.value,l.defaultValue,l.children),vl(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||I0(r.textContent,a)?(l.popover!=null&&(Re("beforetoggle",r),Re("toggle",r)),l.onScroll!=null&&Re("scroll",r),l.onScrollEnd!=null&&Re("scrollend",r),l.onClick!=null&&(r.onclick=fu),r=!0):r=!1,r||pr(i)}function gy(i){for(Pt=i.return;Pt;)switch(Pt.tag){case 5:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Pt=Pt.return}}function Sa(i){if(i!==Pt)return!1;if(!ke)return gy(i),ke=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||sd(i.type,i.memoizedProps)),a=!a),a&&tt&&pr(i),gy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){tt=Rn(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}tt=null}}else r===27?(r=tt,Li(i.type)?(i=ud,ud=null,tt=i):tt=r):tt=Pt?Rn(i.stateNode.nextSibling):null;return!0}function wa(){tt=Pt=null,ke=!1}function my(){var i=dr;return i!==null&&(Zt===null?Zt=i:Zt.push.apply(Zt,i),dr=null),i}function ba(i){dr===null?dr=[i]:dr.push(i)}var Ph=I(null),gr=null,ei=null;function Ti(i,r,a){F(Ph,r._currentValue),r._currentValue=a}function ti(i){i._currentValue=Ph.current,j(Ph)}function Gh(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function Fh(i,r,a,l){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var f=h.dependencies;if(f!==null){var m=h.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=h;for(var T=0;T<r.length;T++)if(v.context===r[T]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),Gh(f.return,a,i),l||(m=null);break e}f=v.next}}else if(h.tag===18){if(m=h.return,m===null)throw Error(s(341));m.lanes|=a,f=m.alternate,f!==null&&(f.lanes|=a),Gh(m,a,i),m=null}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===i){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}}function Aa(i,r,a,l){i=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var m=h.alternate;if(m===null)throw Error(s(387));if(m=m.memoizedProps,m!==null){var v=h.type;tn(h.pendingProps.value,m.value)||(i!==null?i.push(v):i=[v])}}else if(h===$e.current){if(m=h.alternate,m===null)throw Error(s(387));m.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(eo):i=[eo])}h=h.return}i!==null&&Fh(r,i,a,l),r.flags|=262144}function xl(i){for(i=i.firstContext;i!==null;){if(!tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function mr(i){gr=i,ei=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mt(i){return yy(gr,i)}function Ul(i,r){return gr===null&&mr(i),yy(i,r)}function yy(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ei===null){if(i===null)throw Error(s(308));ei=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ei=ei.next=r;return a}var dA=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},pA=t.unstable_scheduleCallback,gA=t.unstable_NormalPriority,pt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new dA,data:new Map,refCount:0}}function Ra(i){i.refCount--,i.refCount===0&&pA(gA,function(){i.controller.abort()})}var Ca=null,Kh=0,us=0,cs=null;function mA(i,r){if(Ca===null){var a=Ca=[];Kh=0,us=Xf(),cs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kh++,r.then(vy,vy),r}function vy(){if(--Kh===0&&Ca!==null){cs!==null&&(cs.status="fulfilled");var i=Ca;Ca=null,us=0,cs=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function yA(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ey=x.S;x.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&mA(i,r),Ey!==null&&Ey(i,r)};var yr=I(null);function Yh(){var i=yr.current;return i!==null?i:Ke.pooledCache}function kl(i,r){r===null?F(yr,yr.current):F(yr,r.pool)}function _y(){var i=Yh();return i===null?null:{parent:pt._currentValue,pool:i}}var Da=Error(s(460)),Ty=Error(s(474)),Ll=Error(s(542)),Qh={then:function(){}};function Sy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zl(){}function wy(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(zl,zl),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ay(i),i;default:if(typeof r.status=="string")r.then(zl,zl);else{if(i=Ke,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Ay(i),i}throw Oa=r,Da}}var Oa=null;function by(){if(Oa===null)throw Error(s(459));var i=Oa;return Oa=null,i}function Ay(i){if(i===Da||i===Ll)throw Error(s(483))}var Si=!1;function Xh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bi(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(je&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ol(i),hy(i,null,a),r}return Dl(i,l,r,a),Ol(i)}function Na(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,vm(i,a)}}function Jh(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=m:f=f.next=m,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Wh=!1;function Ia(){if(Wh){var i=cs;if(i!==null)throw i}}function Ma(i,r,a,l){Wh=!1;var h=i.updateQueue;Si=!1;var f=h.firstBaseUpdate,m=h.lastBaseUpdate,v=h.shared.pending;if(v!==null){h.shared.pending=null;var T=v,C=T.next;T.next=null,m===null?f=C:m.next=C,m=T;var k=i.alternate;k!==null&&(k=k.updateQueue,v=k.lastBaseUpdate,v!==m&&(v===null?k.firstBaseUpdate=C:v.next=C,k.lastBaseUpdate=T))}if(f!==null){var B=h.baseState;m=0,k=C=T=null,v=f;do{var D=v.lane&-536870913,O=D!==v.lane;if(O?(Oe&D)===D:(l&D)===D){D!==0&&D===us&&(Wh=!0),k!==null&&(k=k.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var he=i,ue=v;D=r;var Ge=a;switch(ue.tag){case 1:if(he=ue.payload,typeof he=="function"){B=he.call(Ge,B,D);break e}B=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ue.payload,D=typeof he=="function"?he.call(Ge,B,D):he,D==null)break e;B=y({},B,D);break e;case 2:Si=!0}}D=v.callback,D!==null&&(i.flags|=64,O&&(i.flags|=8192),O=h.callbacks,O===null?h.callbacks=[D]:O.push(D))}else O={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},k===null?(C=k=O,T=B):k=k.next=O,m|=D;if(v=v.next,v===null){if(v=h.shared.pending,v===null)break;O=v,v=O.next,O.next=null,h.lastBaseUpdate=O,h.shared.pending=null}}while(!0);k===null&&(T=B),h.baseState=T,h.firstBaseUpdate=C,h.lastBaseUpdate=k,f===null&&(h.shared.lanes=0),Mi|=m,i.lanes=m,i.memoizedState=B}}function Ry(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Cy(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Ry(a[i],r)}var hs=I(null),Bl=I(0);function Dy(i,r){i=li,F(Bl,i),F(hs,r),li=i|r.baseLanes}function ef(){F(Bl,li),F(hs,hs.current)}function tf(){li=Bl.current,j(hs),j(Bl)}var Ai=0,we=null,He=null,ut=null,jl=!1,fs=!1,vr=!1,Vl=0,xa=0,ds=null,vA=0;function at(){throw Error(s(321))}function nf(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!tn(i[a],r[a]))return!1;return!0}function rf(i,r,a,l,h,f){return Ai=f,we=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,x.H=i===null||i.memoizedState===null?hv:fv,vr=!1,f=a(l,h),vr=!1,fs&&(f=Ny(r,a,l,h)),Oy(i),f}function Oy(i){x.H=$l;var r=He!==null&&He.next!==null;if(Ai=0,ut=He=we=null,jl=!1,xa=0,ds=null,r)throw Error(s(300));i===null||vt||(i=i.dependencies,i!==null&&xl(i)&&(vt=!0))}function Ny(i,r,a,l){we=i;var h=0;do{if(fs&&(ds=null),xa=0,fs=!1,25<=h)throw Error(s(301));if(h+=1,ut=He=null,i.updateQueue!=null){var f=i.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}x.H=AA,f=r(a,l)}while(fs);return f}function EA(){var i=x.H,r=i.useState()[0];return r=typeof r.then=="function"?Ua(r):r,i=i.useState()[0],(He!==null?He.memoizedState:null)!==i&&(we.flags|=1024),r}function sf(){var i=Vl!==0;return Vl=0,i}function af(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function of(i){if(jl){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}jl=!1}Ai=0,ut=He=we=null,fs=!1,xa=Vl=0,ds=null}function Qt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?we.memoizedState=ut=i:ut=ut.next=i,ut}function ct(){if(He===null){var i=we.alternate;i=i!==null?i.memoizedState:null}else i=He.next;var r=ut===null?we.memoizedState:ut.next;if(r!==null)ut=r,He=i;else{if(i===null)throw we.alternate===null?Error(s(467)):Error(s(310));He=i,i={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ut===null?we.memoizedState=ut=i:ut=ut.next=i}return ut}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ua(i){var r=xa;return xa+=1,ds===null&&(ds=[]),i=wy(ds,i,r),r=we,(ut===null?r.memoizedState:ut.next)===null&&(r=r.alternate,x.H=r===null||r.memoizedState===null?hv:fv),i}function ql(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ua(i);if(i.$$typeof===M)return Mt(i)}throw Error(s(438,String(i)))}function uf(i){var r=null,a=we.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=lf(),we.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=ye;return r.index++,a}function ni(i,r){return typeof r=="function"?r(i):r}function Hl(i){var r=ct();return cf(r,He,i)}function cf(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=i.baseQueue,f=l.pending;if(f!==null){if(h!==null){var m=h.next;h.next=f.next,f.next=m}r.baseQueue=h=f,l.pending=null}if(f=i.baseState,h===null)i.memoizedState=f;else{r=h.next;var v=m=null,T=null,C=r,k=!1;do{var B=C.lane&-536870913;if(B!==C.lane?(Oe&B)===B:(Ai&B)===B){var D=C.revertLane;if(D===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),B===us&&(k=!0);else if((Ai&D)===D){C=C.next,D===us&&(k=!0);continue}else B={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},T===null?(v=T=B,m=f):T=T.next=B,we.lanes|=D,Mi|=D;B=C.action,vr&&a(f,B),f=C.hasEagerState?C.eagerState:a(f,B)}else D={lane:B,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},T===null?(v=T=D,m=f):T=T.next=D,we.lanes|=B,Mi|=B;C=C.next}while(C!==null&&C!==r);if(T===null?m=f:T.next=v,!tn(f,i.memoizedState)&&(vt=!0,k&&(a=cs,a!==null)))throw a;i.memoizedState=f,i.baseState=m,i.baseQueue=T,l.lastRenderedState=f}return h===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function hf(i){var r=ct(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var m=h=h.next;do f=i(f,m.action),m=m.next;while(m!==h);tn(f,r.memoizedState)||(vt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Iy(i,r,a){var l=we,h=ct(),f=ke;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var m=!tn((He||h).memoizedState,a);m&&(h.memoizedState=a,vt=!0),h=h.queue;var v=Uy.bind(null,l,h,i);if(ka(2048,8,v,[i]),h.getSnapshot!==r||m||ut!==null&&ut.memoizedState.tag&1){if(l.flags|=2048,ps(9,Pl(),xy.bind(null,l,h,a,r),null),Ke===null)throw Error(s(349));f||(Ai&124)!==0||My(l,r,a)}return a}function My(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=we.updateQueue,r===null?(r=lf(),we.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function xy(i,r,a,l){r.value=a,r.getSnapshot=l,ky(r)&&Ly(i)}function Uy(i,r,a){return a(function(){ky(r)&&Ly(i)})}function ky(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!tn(i,a)}catch{return!0}}function Ly(i){var r=ss(i,2);r!==null&&ln(r,i,2)}function ff(i){var r=Qt();if(typeof i=="function"){var a=i;if(i=a(),vr){vi(!0);try{a()}finally{vi(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:i},r}function zy(i,r,a,l){return i.baseState=a,cf(i,He,typeof l=="function"?l:ni)}function _A(i,r,a,l,h){if(Fl(i))throw Error(s(485));if(i=r.action,i!==null){var f={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};x.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,By(r,f)):(f.next=a.next,r.pending=a.next=f)}}function By(i,r){var a=r.action,l=r.payload,h=i.state;if(r.isTransition){var f=x.T,m={};x.T=m;try{var v=a(h,l),T=x.S;T!==null&&T(m,v),jy(i,r,v)}catch(C){df(i,r,C)}finally{x.T=f}}else try{f=a(h,l),jy(i,r,f)}catch(C){df(i,r,C)}}function jy(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vy(i,r,l)},function(l){return df(i,r,l)}):Vy(i,r,a)}function Vy(i,r,a){r.status="fulfilled",r.value=a,qy(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,By(i,a)))}function df(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,qy(r),r=r.next;while(r!==l)}i.action=null}function qy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Hy(i,r){return r}function Py(i,r){if(ke){var a=Ke.formState;if(a!==null){e:{var l=we;if(ke){if(tt){t:{for(var h=tt,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Rn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){tt=Rn(h.nextSibling),l=h.data==="F!";break e}}pr(l)}l=!1}l&&(r=a[0])}}return a=Qt(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:r},a.queue=l,a=lv.bind(null,we,l),l.dispatch=a,l=ff(!1),f=vf.bind(null,we,!1,l.queue),l=Qt(),h={state:r,dispatch:null,action:i,pending:null},l.queue=h,a=_A.bind(null,we,h,f,a),h.dispatch=a,l.memoizedState=i,[r,a,!1]}function Gy(i){var r=ct();return Fy(r,He,i)}function Fy(i,r,a){if(r=cf(i,r,Hy)[0],i=Hl(ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ua(r)}catch(m){throw m===Da?Ll:m}else l=r;r=ct();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(we.flags|=2048,ps(9,Pl(),TA.bind(null,h,a),null)),[l,f,i]}function TA(i,r){i.action=r}function $y(i){var r=ct(),a=He;if(a!==null)return Fy(r,a,i);ct(),r=r.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function ps(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=we.updateQueue,r===null&&(r=lf(),we.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Pl(){return{destroy:void 0,resource:void 0}}function Ky(){return ct().memoizedState}function Gl(i,r,a,l){var h=Qt();l=l===void 0?null:l,we.flags|=i,h.memoizedState=ps(1|r,Pl(),a,l)}function ka(i,r,a,l){var h=ct();l=l===void 0?null:l;var f=h.memoizedState.inst;He!==null&&l!==null&&nf(l,He.memoizedState.deps)?h.memoizedState=ps(r,f,a,l):(we.flags|=i,h.memoizedState=ps(1|r,f,a,l))}function Yy(i,r){Gl(8390656,8,i,r)}function Qy(i,r){ka(2048,8,i,r)}function Xy(i,r){return ka(4,2,i,r)}function Zy(i,r){return ka(4,4,i,r)}function Jy(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Wy(i,r,a){a=a!=null?a.concat([i]):null,ka(4,4,Jy.bind(null,r,i),a)}function pf(){}function ev(i,r){var a=ct();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&nf(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function tv(i,r){var a=ct();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&nf(r,l[1]))return l[0];if(l=i(),vr){vi(!0);try{i()}finally{vi(!1)}}return a.memoizedState=[l,r],l}function gf(i,r,a){return a===void 0||(Ai&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=r0(),we.lanes|=i,Mi|=i,a)}function nv(i,r,a,l){return tn(a,r)?a:hs.current!==null?(i=gf(i,a,l),tn(i,r)||(vt=!0),i):(Ai&42)===0?(vt=!0,i.memoizedState=a):(i=r0(),we.lanes|=i,Mi|=i,r)}function iv(i,r,a,l,h){var f=Q.p;Q.p=f!==0&&8>f?f:8;var m=x.T,v={};x.T=v,vf(i,!1,r,a);try{var T=h(),C=x.S;if(C!==null&&C(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var k=yA(T,l);La(i,r,k,on(i))}else La(i,r,l,on(i))}catch(B){La(i,r,{then:function(){},status:"rejected",reason:B},on())}finally{Q.p=f,x.T=m}}function SA(){}function mf(i,r,a,l){if(i.tag!==5)throw Error(s(476));var h=rv(i).queue;iv(i,h,r,te,a===null?SA:function(){return sv(i),a(l)})}function rv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:te},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function sv(i){var r=rv(i).next.queue;La(i,r,{},on())}function yf(){return Mt(eo)}function av(){return ct().memoizedState}function ov(){return ct().memoizedState}function wA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=on();i=wi(a);var l=bi(r,i,a);l!==null&&(ln(l,r,a),Na(l,r,a)),r={cache:$h()},i.payload=r;return}r=r.return}}function bA(i,r,a){var l=on();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fl(i)?uv(r,a):(a=Lh(i,r,a,l),a!==null&&(ln(a,i,l),cv(a,r,l)))}function lv(i,r,a){var l=on();La(i,r,a,l)}function La(i,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fl(i))uv(r,h);else{var f=i.alternate;if(i.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,v=f(m,a);if(h.hasEagerState=!0,h.eagerState=v,tn(v,m))return Dl(i,r,h,0),Ke===null&&Cl(),!1}catch{}finally{}if(a=Lh(i,r,h,l),a!==null)return ln(a,i,l),cv(a,r,l),!0}return!1}function vf(i,r,a,l){if(l={lane:2,revertLane:Xf(),action:l,hasEagerState:!1,eagerState:null,next:null},Fl(i)){if(r)throw Error(s(479))}else r=Lh(i,a,l,2),r!==null&&ln(r,i,2)}function Fl(i){var r=i.alternate;return i===we||r!==null&&r===we}function uv(i,r){fs=jl=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function cv(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,vm(i,a)}}var $l={readContext:Mt,use:ql,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},hv={readContext:Mt,use:ql,useCallback:function(i,r){return Qt().memoizedState=[i,r===void 0?null:r],i},useContext:Mt,useEffect:Yy,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Gl(4194308,4,Jy.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Gl(4194308,4,i,r)},useInsertionEffect:function(i,r){Gl(4,2,i,r)},useMemo:function(i,r){var a=Qt();r=r===void 0?null:r;var l=i();if(vr){vi(!0);try{i()}finally{vi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=Qt();if(a!==void 0){var h=a(r);if(vr){vi(!0);try{a(r)}finally{vi(!1)}}}else h=r;return l.memoizedState=l.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},l.queue=i,i=i.dispatch=bA.bind(null,we,i),[l.memoizedState,i]},useRef:function(i){var r=Qt();return i={current:i},r.memoizedState=i},useState:function(i){i=ff(i);var r=i.queue,a=lv.bind(null,we,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:pf,useDeferredValue:function(i,r){var a=Qt();return gf(a,i,r)},useTransition:function(){var i=ff(!1);return i=iv.bind(null,we,i.queue,!0,!1),Qt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=we,h=Qt();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ke===null)throw Error(s(349));(Oe&124)!==0||My(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,Yy(Uy.bind(null,l,f,i),[i]),l.flags|=2048,ps(9,Pl(),xy.bind(null,l,f,a,r),null),a},useId:function(){var i=Qt(),r=Ke.identifierPrefix;if(ke){var a=Wn,l=Jn;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Vl++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=vA++,r=""+r+"r"+a.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:yf,useFormState:Py,useActionState:Py,useOptimistic:function(i){var r=Qt();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=vf.bind(null,we,!0,a),a.dispatch=r,[i,r]},useMemoCache:uf,useCacheRefresh:function(){return Qt().memoizedState=wA.bind(null,we)}},fv={readContext:Mt,use:ql,useCallback:ev,useContext:Mt,useEffect:Qy,useImperativeHandle:Wy,useInsertionEffect:Xy,useLayoutEffect:Zy,useMemo:tv,useReducer:Hl,useRef:Ky,useState:function(){return Hl(ni)},useDebugValue:pf,useDeferredValue:function(i,r){var a=ct();return nv(a,He.memoizedState,i,r)},useTransition:function(){var i=Hl(ni)[0],r=ct().memoizedState;return[typeof i=="boolean"?i:Ua(i),r]},useSyncExternalStore:Iy,useId:av,useHostTransitionStatus:yf,useFormState:Gy,useActionState:Gy,useOptimistic:function(i,r){var a=ct();return zy(a,He,i,r)},useMemoCache:uf,useCacheRefresh:ov},AA={readContext:Mt,use:ql,useCallback:ev,useContext:Mt,useEffect:Qy,useImperativeHandle:Wy,useInsertionEffect:Xy,useLayoutEffect:Zy,useMemo:tv,useReducer:hf,useRef:Ky,useState:function(){return hf(ni)},useDebugValue:pf,useDeferredValue:function(i,r){var a=ct();return He===null?gf(a,i,r):nv(a,He.memoizedState,i,r)},useTransition:function(){var i=hf(ni)[0],r=ct().memoizedState;return[typeof i=="boolean"?i:Ua(i),r]},useSyncExternalStore:Iy,useId:av,useHostTransitionStatus:yf,useFormState:$y,useActionState:$y,useOptimistic:function(i,r){var a=ct();return He!==null?zy(a,He,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:uf,useCacheRefresh:ov},gs=null,za=0;function Kl(i){var r=za;return za+=1,gs===null&&(gs=[]),wy(gs,i,r)}function Ba(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Yl(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function dv(i){var r=i._init;return r(i._payload)}function pv(i){function r(b,w){if(i){var R=b.deletions;R===null?(b.deletions=[w],b.flags|=16):R.push(w)}}function a(b,w){if(!i)return null;for(;w!==null;)r(b,w),w=w.sibling;return null}function l(b){for(var w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function h(b,w){return b=Zn(b,w),b.index=0,b.sibling=null,b}function f(b,w,R){return b.index=R,i?(R=b.alternate,R!==null?(R=R.index,R<w?(b.flags|=67108866,w):R):(b.flags|=67108866,w)):(b.flags|=1048576,w)}function m(b){return i&&b.alternate===null&&(b.flags|=67108866),b}function v(b,w,R,L){return w===null||w.tag!==6?(w=Bh(R,b.mode,L),w.return=b,w):(w=h(w,R),w.return=b,w)}function T(b,w,R,L){var ie=R.type;return ie===U?k(b,w,R.props.children,L,R.key):w!==null&&(w.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&dv(ie)===w.type)?(w=h(w,R.props),Ba(w,R),w.return=b,w):(w=Nl(R.type,R.key,R.props,null,b.mode,L),Ba(w,R),w.return=b,w)}function C(b,w,R,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==R.containerInfo||w.stateNode.implementation!==R.implementation?(w=jh(R,b.mode,L),w.return=b,w):(w=h(w,R.children||[]),w.return=b,w)}function k(b,w,R,L,ie){return w===null||w.tag!==7?(w=cr(R,b.mode,L,ie),w.return=b,w):(w=h(w,R),w.return=b,w)}function B(b,w,R){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Bh(""+w,b.mode,R),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S:return R=Nl(w.type,w.key,w.props,null,b.mode,R),Ba(R,w),R.return=b,R;case A:return w=jh(w,b.mode,R),w.return=b,w;case J:var L=w._init;return w=L(w._payload),B(b,w,R)}if(Se(w)||le(w))return w=cr(w,b.mode,R,null),w.return=b,w;if(typeof w.then=="function")return B(b,Kl(w),R);if(w.$$typeof===M)return B(b,Ul(b,w),R);Yl(b,w)}return null}function D(b,w,R,L){var ie=w!==null?w.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ie!==null?null:v(b,w,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return R.key===ie?T(b,w,R,L):null;case A:return R.key===ie?C(b,w,R,L):null;case J:return ie=R._init,R=ie(R._payload),D(b,w,R,L)}if(Se(R)||le(R))return ie!==null?null:k(b,w,R,L,null);if(typeof R.then=="function")return D(b,w,Kl(R),L);if(R.$$typeof===M)return D(b,w,Ul(b,R),L);Yl(b,R)}return null}function O(b,w,R,L,ie){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return b=b.get(R)||null,v(w,b,""+L,ie);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return b=b.get(L.key===null?R:L.key)||null,T(w,b,L,ie);case A:return b=b.get(L.key===null?R:L.key)||null,C(w,b,L,ie);case J:var be=L._init;return L=be(L._payload),O(b,w,R,L,ie)}if(Se(L)||le(L))return b=b.get(R)||null,k(w,b,L,ie,null);if(typeof L.then=="function")return O(b,w,R,Kl(L),ie);if(L.$$typeof===M)return O(b,w,R,Ul(w,L),ie);Yl(w,L)}return null}function he(b,w,R,L){for(var ie=null,be=null,se=w,ce=w=0,_t=null;se!==null&&ce<R.length;ce++){se.index>ce?(_t=se,se=null):_t=se.sibling;var xe=D(b,se,R[ce],L);if(xe===null){se===null&&(se=_t);break}i&&se&&xe.alternate===null&&r(b,se),w=f(xe,w,ce),be===null?ie=xe:be.sibling=xe,be=xe,se=_t}if(ce===R.length)return a(b,se),ke&&fr(b,ce),ie;if(se===null){for(;ce<R.length;ce++)se=B(b,R[ce],L),se!==null&&(w=f(se,w,ce),be===null?ie=se:be.sibling=se,be=se);return ke&&fr(b,ce),ie}for(se=l(se);ce<R.length;ce++)_t=O(se,b,ce,R[ce],L),_t!==null&&(i&&_t.alternate!==null&&se.delete(_t.key===null?ce:_t.key),w=f(_t,w,ce),be===null?ie=_t:be.sibling=_t,be=_t);return i&&se.forEach(function(qi){return r(b,qi)}),ke&&fr(b,ce),ie}function ue(b,w,R,L){if(R==null)throw Error(s(151));for(var ie=null,be=null,se=w,ce=w=0,_t=null,xe=R.next();se!==null&&!xe.done;ce++,xe=R.next()){se.index>ce?(_t=se,se=null):_t=se.sibling;var qi=D(b,se,xe.value,L);if(qi===null){se===null&&(se=_t);break}i&&se&&qi.alternate===null&&r(b,se),w=f(qi,w,ce),be===null?ie=qi:be.sibling=qi,be=qi,se=_t}if(xe.done)return a(b,se),ke&&fr(b,ce),ie;if(se===null){for(;!xe.done;ce++,xe=R.next())xe=B(b,xe.value,L),xe!==null&&(w=f(xe,w,ce),be===null?ie=xe:be.sibling=xe,be=xe);return ke&&fr(b,ce),ie}for(se=l(se);!xe.done;ce++,xe=R.next())xe=O(se,b,ce,xe.value,L),xe!==null&&(i&&xe.alternate!==null&&se.delete(xe.key===null?ce:xe.key),w=f(xe,w,ce),be===null?ie=xe:be.sibling=xe,be=xe);return i&&se.forEach(function(RR){return r(b,RR)}),ke&&fr(b,ce),ie}function Ge(b,w,R,L){if(typeof R=="object"&&R!==null&&R.type===U&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case S:e:{for(var ie=R.key;w!==null;){if(w.key===ie){if(ie=R.type,ie===U){if(w.tag===7){a(b,w.sibling),L=h(w,R.props.children),L.return=b,b=L;break e}}else if(w.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===J&&dv(ie)===w.type){a(b,w.sibling),L=h(w,R.props),Ba(L,R),L.return=b,b=L;break e}a(b,w);break}else r(b,w);w=w.sibling}R.type===U?(L=cr(R.props.children,b.mode,L,R.key),L.return=b,b=L):(L=Nl(R.type,R.key,R.props,null,b.mode,L),Ba(L,R),L.return=b,b=L)}return m(b);case A:e:{for(ie=R.key;w!==null;){if(w.key===ie)if(w.tag===4&&w.stateNode.containerInfo===R.containerInfo&&w.stateNode.implementation===R.implementation){a(b,w.sibling),L=h(w,R.children||[]),L.return=b,b=L;break e}else{a(b,w);break}else r(b,w);w=w.sibling}L=jh(R,b.mode,L),L.return=b,b=L}return m(b);case J:return ie=R._init,R=ie(R._payload),Ge(b,w,R,L)}if(Se(R))return he(b,w,R,L);if(le(R)){if(ie=le(R),typeof ie!="function")throw Error(s(150));return R=ie.call(R),ue(b,w,R,L)}if(typeof R.then=="function")return Ge(b,w,Kl(R),L);if(R.$$typeof===M)return Ge(b,w,Ul(b,R),L);Yl(b,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,w!==null&&w.tag===6?(a(b,w.sibling),L=h(w,R),L.return=b,b=L):(a(b,w),L=Bh(R,b.mode,L),L.return=b,b=L),m(b)):a(b,w)}return function(b,w,R,L){try{za=0;var ie=Ge(b,w,R,L);return gs=null,ie}catch(se){if(se===Da||se===Ll)throw se;var be=nn(29,se,null,b.mode);return be.lanes=L,be.return=b,be}finally{}}}var ms=pv(!0),gv=pv(!1),vn=I(null),xn=null;function Ri(i){var r=i.alternate;F(gt,gt.current&1),F(vn,i),xn===null&&(r===null||hs.current!==null||r.memoizedState!==null)&&(xn=i)}function mv(i){if(i.tag===22){if(F(gt,gt.current),F(vn,i),xn===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(xn=i)}}else Ci()}function Ci(){F(gt,gt.current),F(vn,vn.current)}function ii(i){j(vn),xn===i&&(xn=null),j(gt)}var gt=I(0);function Ql(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ld(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ef(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:y({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var _f={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=on(),h=wi(l);h.payload=r,a!=null&&(h.callback=a),r=bi(i,h,l),r!==null&&(ln(r,i,l),Na(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=on(),h=wi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=bi(i,h,l),r!==null&&(ln(r,i,l),Na(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=on(),l=wi(a);l.tag=2,r!=null&&(l.callback=r),r=bi(i,l,a),r!==null&&(ln(r,i,a),Na(r,i,a))}};function yv(i,r,a,l,h,f,m){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,f,m):r.prototype&&r.prototype.isPureReactComponent?!_a(a,l)||!_a(h,f):!0}function vv(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&_f.enqueueReplaceState(r,r.state,null)}function Er(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=y({},a));for(var h in i)a[h]===void 0&&(a[h]=i[h])}return a}var Xl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Ev(i){Xl(i)}function _v(i){console.error(i)}function Tv(i){Xl(i)}function Zl(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Sv(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Tf(i,r,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Zl(i,r)},a}function wv(i){return i=wi(i),i.tag=3,i}function bv(i,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;i.payload=function(){return h(f)},i.callback=function(){Sv(r,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){Sv(r,a,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function RA(i,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Aa(r,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 13:return xn===null?Ff():a.alternate===null&&nt===0&&(nt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qh?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Kf(i,l,h)),!1;case 22:return a.flags|=65536,l===Qh?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Kf(i,l,h)),!1}throw Error(s(435,a.tag))}return Kf(i,l,h),Ff(),!1}if(ke)return r=vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Hh&&(i=Error(s(422),{cause:l}),ba(pn(i,a)))):(l!==Hh&&(r=Error(s(423),{cause:l}),ba(pn(r,a))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,l=pn(l,a),h=Tf(i.stateNode,l,h),Jh(i,h),nt!==4&&(nt=2)),!1;var f=Error(s(520),{cause:l});if(f=pn(f,a),Fa===null?Fa=[f]:Fa.push(f),nt!==4&&(nt=2),r===null)return!0;l=pn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=h&-h,a.lanes|=i,i=Tf(a.stateNode,l,i),Jh(a,i),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(xi===null||!xi.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=wv(h),bv(h,i,a,l),Jh(a,h),!1}a=a.return}while(a!==null);return!1}var Av=Error(s(461)),vt=!1;function bt(i,r,a,l){r.child=i===null?gv(r,null,a,l):ms(r,i.child,a,l)}function Rv(i,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var m={};for(var v in l)v!=="ref"&&(m[v]=l[v])}else m=l;return mr(r),l=rf(i,r,a,m,f,h),v=sf(),i!==null&&!vt?(af(i,r,h),ri(i,r,h)):(ke&&v&&Vh(r),r.flags|=1,bt(i,r,l,h),r.child)}function Cv(i,r,a,l,h){if(i===null){var f=a.type;return typeof f=="function"&&!zh(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Dv(i,r,f,l,h)):(i=Nl(a.type,null,l,r,r.mode,h),i.ref=r.ref,i.return=r,r.child=i)}if(f=i.child,!Of(i,h)){var m=f.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(m,l)&&i.ref===r.ref)return ri(i,r,h)}return r.flags|=1,i=Zn(f,l),i.ref=r.ref,i.return=r,r.child=i}function Dv(i,r,a,l,h){if(i!==null){var f=i.memoizedProps;if(_a(f,l)&&i.ref===r.ref)if(vt=!1,r.pendingProps=l=f,Of(i,h))(i.flags&131072)!==0&&(vt=!0);else return r.lanes=i.lanes,ri(i,r,h)}return Sf(i,r,a,l,h)}function Ov(i,r,a){var l=r.pendingProps,h=l.children,f=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,i!==null){for(h=r.child=i.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return Nv(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&kl(r,f!==null?f.cachePool:null),f!==null?Dy(r,f):ef(),mv(r);else return r.lanes=r.childLanes=536870912,Nv(i,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(kl(r,f.cachePool),Dy(r,f),Ci(),r.memoizedState=null):(i!==null&&kl(r,null),ef(),Ci());return bt(i,r,h,a),r.child}function Nv(i,r,a,l){var h=Yh();return h=h===null?null:{parent:pt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},i!==null&&kl(r,null),ef(),mv(r),i!==null&&Aa(i,r,l,!0),null}function Jl(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Sf(i,r,a,l,h){return mr(r),a=rf(i,r,a,l,void 0,h),l=sf(),i!==null&&!vt?(af(i,r,h),ri(i,r,h)):(ke&&l&&Vh(r),r.flags|=1,bt(i,r,a,h),r.child)}function Iv(i,r,a,l,h,f){return mr(r),r.updateQueue=null,a=Ny(r,l,a,h),Oy(i),l=sf(),i!==null&&!vt?(af(i,r,f),ri(i,r,f)):(ke&&l&&Vh(r),r.flags|=1,bt(i,r,a,f),r.child)}function Mv(i,r,a,l,h){if(mr(r),r.stateNode===null){var f=as,m=a.contextType;typeof m=="object"&&m!==null&&(f=Mt(m)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Xh(r),m=a.contextType,f.context=typeof m=="object"&&m!==null?Mt(m):as,f.state=r.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Ef(r,a,m,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&_f.enqueueReplaceState(f,f.state,null),Ma(r,l,f,h),Ia(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){f=r.stateNode;var v=r.memoizedProps,T=Er(a,v);f.props=T;var C=f.context,k=a.contextType;m=as,typeof k=="object"&&k!==null&&(m=Mt(k));var B=a.getDerivedStateFromProps;k=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=r.pendingProps!==v,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||C!==m)&&vv(r,f,l,m),Si=!1;var D=r.memoizedState;f.state=D,Ma(r,l,f,h),Ia(),C=r.memoizedState,v||D!==C||Si?(typeof B=="function"&&(Ef(r,a,B,l),C=r.memoizedState),(T=Si||yv(r,a,T,l,D,C,m))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=C),f.props=l,f.state=C,f.context=m,l=T):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Zh(i,r),m=r.memoizedProps,k=Er(a,m),f.props=k,B=r.pendingProps,D=f.context,C=a.contextType,T=as,typeof C=="object"&&C!==null&&(T=Mt(C)),v=a.getDerivedStateFromProps,(C=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==B||D!==T)&&vv(r,f,l,T),Si=!1,D=r.memoizedState,f.state=D,Ma(r,l,f,h),Ia();var O=r.memoizedState;m!==B||D!==O||Si||i!==null&&i.dependencies!==null&&xl(i.dependencies)?(typeof v=="function"&&(Ef(r,a,v,l),O=r.memoizedState),(k=Si||yv(r,a,k,l,D,O,T)||i!==null&&i.dependencies!==null&&xl(i.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,O,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,O,T)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=O),f.props=l,f.state=O,f.context=T,l=k):(typeof f.componentDidUpdate!="function"||m===i.memoizedProps&&D===i.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===i.memoizedProps&&D===i.memoizedState||(r.flags|=1024),l=!1)}return f=l,Jl(i,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,i!==null&&l?(r.child=ms(r,i.child,null,h),r.child=ms(r,null,a,h)):bt(i,r,a,h),r.memoizedState=f.state,i=r.child):i=ri(i,r,h),i}function xv(i,r,a,l){return wa(),r.flags|=256,bt(i,r,a,l),r.child}var wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(i){return{baseLanes:i,cachePool:_y()}}function Af(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=En),i}function Uv(i,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,m;if((m=f)||(m=i!==null&&i.memoizedState===null?!1:(gt.current&2)!==0),m&&(h=!0,r.flags&=-129),m=(r.flags&32)!==0,r.flags&=-33,i===null){if(ke){if(h?Ri(r):Ci(),ke){var v=tt,T;if(T=v){e:{for(T=v,v=Mn;T.nodeType!==8;){if(!v){v=null;break e}if(T=Rn(T.nextSibling),T===null){v=null;break e}}v=T}v!==null?(r.memoizedState={dehydrated:v,treeContext:hr!==null?{id:Jn,overflow:Wn}:null,retryLane:536870912,hydrationErrors:null},T=nn(18,null,null,0),T.stateNode=v,T.return=r,r.child=T,Pt=r,tt=null,T=!0):T=!1}T||pr(r)}if(v=r.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return ld(v)?r.lanes=32:r.lanes=536870912,null;ii(r)}return v=l.children,l=l.fallback,h?(Ci(),h=r.mode,v=Wl({mode:"hidden",children:v},h),l=cr(l,h,a,null),v.return=r,l.return=r,v.sibling=l,r.child=v,h=r.child,h.memoizedState=bf(a),h.childLanes=Af(i,m,a),r.memoizedState=wf,l):(Ri(r),Rf(r,v))}if(T=i.memoizedState,T!==null&&(v=T.dehydrated,v!==null)){if(f)r.flags&256?(Ri(r),r.flags&=-257,r=Cf(i,r,a)):r.memoizedState!==null?(Ci(),r.child=i.child,r.flags|=128,r=null):(Ci(),h=l.fallback,v=r.mode,l=Wl({mode:"visible",children:l.children},v),h=cr(h,v,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ms(r,i.child,null,a),l=r.child,l.memoizedState=bf(a),l.childLanes=Af(i,m,a),r.memoizedState=wf,r=h);else if(Ri(r),ld(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var C=m.dgst;m=C,l=Error(s(419)),l.stack="",l.digest=m,ba({value:l,source:null,stack:null}),r=Cf(i,r,a)}else if(vt||Aa(i,r,a,!1),m=(a&i.childLanes)!==0,vt||m){if(m=Ke,m!==null&&(l=a&-a,l=(l&42)!==0?1:lh(l),l=(l&(m.suspendedLanes|a))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,ss(i,l),ln(m,i,l),Av;v.data==="$?"||Ff(),r=Cf(i,r,a)}else v.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=T.treeContext,tt=Rn(v.nextSibling),Pt=r,ke=!0,dr=null,Mn=!1,i!==null&&(mn[yn++]=Jn,mn[yn++]=Wn,mn[yn++]=hr,Jn=i.id,Wn=i.overflow,hr=r),r=Rf(r,l.children),r.flags|=4096);return r}return h?(Ci(),h=l.fallback,v=r.mode,T=i.child,C=T.sibling,l=Zn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,C!==null?h=Zn(C,h):(h=cr(h,v,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,v=i.child.memoizedState,v===null?v=bf(a):(T=v.cachePool,T!==null?(C=pt._currentValue,T=T.parent!==C?{parent:C,pool:C}:T):T=_y(),v={baseLanes:v.baseLanes|a,cachePool:T}),h.memoizedState=v,h.childLanes=Af(i,m,a),r.memoizedState=wf,l):(Ri(r),a=i.child,i=a.sibling,a=Zn(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(m=r.deletions,m===null?(r.deletions=[i],r.flags|=16):m.push(i)),r.child=a,r.memoizedState=null,a)}function Rf(i,r){return r=Wl({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Wl(i,r){return i=nn(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cf(i,r,a){return ms(r,i.child,null,a),i=Rf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function kv(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Gh(i.return,r,a)}function Df(i,r,a,l,h){var f=i.memoizedState;f===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Lv(i,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(bt(i,r,l.children,a),l=gt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kv(i,a,r);else if(i.tag===19)kv(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(F(gt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)i=a.alternate,i!==null&&Ql(i)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Df(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(i=h.alternate,i!==null&&Ql(i)===null){r.child=h;break}i=h.sibling,h.sibling=a,a=h,h=i}Df(r,!0,a,null,f);break;case"together":Df(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ri(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Mi|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Aa(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=Zn(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=Zn(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Of(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&xl(i)))}function CA(i,r,a){switch(r.tag){case 3:Me(r,r.stateNode.containerInfo),Ti(r,pt,i.memoizedState.cache),wa();break;case 27:case 5:ih(r);break;case 4:Me(r,r.stateNode.containerInfo);break;case 10:Ti(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Uv(i,r,a):(Ri(r),i=ri(i,r,a),i!==null?i.sibling:null);Ri(r);break;case 19:var h=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Aa(i,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Lv(i,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),F(gt,gt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ov(i,r,a);case 24:Ti(r,pt,i.memoizedState.cache)}return ri(i,r,a)}function zv(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)vt=!0;else{if(!Of(i,a)&&(r.flags&128)===0)return vt=!1,CA(i,r,a);vt=(i.flags&131072)!==0}else vt=!1,ke&&(r.flags&1048576)!==0&&dy(r,Ml,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")zh(l)?(i=Er(l,i),r.tag=1,r=Mv(null,r,l,i,a)):(r.tag=0,r=Sf(null,r,l,i,a));else{if(l!=null){if(h=l.$$typeof,h===Y){r.tag=11,r=Rv(null,r,l,i,a);break e}else if(h===X){r.tag=14,r=Cv(null,r,l,i,a);break e}}throw r=Ie(l)||l,Error(s(306,r,""))}}return r;case 0:return Sf(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Er(l,r.pendingProps),Mv(i,r,l,h,a);case 3:e:{if(Me(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Zh(i,r),Ma(r,l,null,a);var m=r.memoizedState;if(l=m.cache,Ti(r,pt,l),l!==f.cache&&Fh(r,[pt],a,!0),Ia(),l=m.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:m.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=xv(i,r,l,a);break e}else if(l!==h){h=pn(Error(s(424)),r),ba(h),r=xv(i,r,l,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(tt=Rn(i.firstChild),Pt=r,ke=!0,dr=null,Mn=!0,a=gv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wa(),l===h){r=ri(i,r,a);break e}bt(i,r,l,a)}r=r.child}return r;case 26:return Jl(i,r),i===null?(a=q0(r.type,null,r.pendingProps,null))?r.memoizedState=a:ke||(a=r.type,i=r.pendingProps,l=du(ae.current).createElement(a),l[It]=r,l[Kt]=i,Rt(l,a,i),yt(l),r.stateNode=l):r.memoizedState=q0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ih(r),i===null&&ke&&(l=r.stateNode=B0(r.type,r.pendingProps,ae.current),Pt=r,Mn=!0,h=tt,Li(r.type)?(ud=h,tt=Rn(l.firstChild)):tt=h),bt(i,r,r.pendingProps.children,a),Jl(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&ke&&((h=l=tt)&&(l=tR(l,r.type,r.pendingProps,Mn),l!==null?(r.stateNode=l,Pt=r,tt=Rn(l.firstChild),Mn=!1,h=!0):h=!1),h||pr(r)),ih(r),h=r.type,f=r.pendingProps,m=i!==null?i.memoizedProps:null,l=f.children,sd(h,f)?l=null:m!==null&&sd(h,m)&&(r.flags|=32),r.memoizedState!==null&&(h=rf(i,r,EA,null,null,a),eo._currentValue=h),Jl(i,r),bt(i,r,l,a),r.child;case 6:return i===null&&ke&&((i=a=tt)&&(a=nR(a,r.pendingProps,Mn),a!==null?(r.stateNode=a,Pt=r,tt=null,i=!0):i=!1),i||pr(r)),null;case 13:return Uv(i,r,a);case 4:return Me(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=ms(r,null,l,a):bt(i,r,l,a),r.child;case 11:return Rv(i,r,r.type,r.pendingProps,a);case 7:return bt(i,r,r.pendingProps,a),r.child;case 8:return bt(i,r,r.pendingProps.children,a),r.child;case 12:return bt(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ti(r,r.type,l.value),bt(i,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,mr(r),h=Mt(h),l=l(h),r.flags|=1,bt(i,r,l,a),r.child;case 14:return Cv(i,r,r.type,r.pendingProps,a);case 15:return Dv(i,r,r.type,r.pendingProps,a);case 19:return Lv(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=Wl(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Zn(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ov(i,r,a);case 24:return mr(r),l=Mt(pt),i===null?(h=Yh(),h===null&&(h=Ke,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Xh(r),Ti(r,pt,h)):((i.lanes&a)!==0&&(Zh(i,r),Ma(r,null,null,a),Ia()),h=i.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Ti(r,pt,l)):(l=f.cache,Ti(r,pt,l),l!==h.cache&&Fh(r,[pt],a,!0))),bt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function si(i){i.flags|=4}function Bv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!$0(r)){if(r=vn.current,r!==null&&((Oe&4194048)===Oe?xn!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||r!==xn))throw Oa=Qh,Ty;i.flags|=8192}}function eu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?mm():536870912,i.lanes|=r,_s|=r)}function ja(i,r){if(!ke)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function We(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function DA(i,r,a){var l=r.pendingProps;switch(qh(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(r),null;case 1:return We(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ti(pt),wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Sa(r)?si(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,my())),We(r),null;case 26:return a=r.memoizedState,i===null?(si(r),a!==null?(We(r),Bv(r,a)):(We(r),r.flags&=-16777217)):a?a!==i.memoizedState?(si(r),We(r),Bv(r,a)):(We(r),r.flags&=-16777217):(i.memoizedProps!==l&&si(r),We(r),r.flags&=-16777217),null;case 27:hl(r),a=ae.current;var h=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&si(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return We(r),null}i=ee.current,Sa(r)?py(r):(i=B0(h,l,a),r.stateNode=i,si(r))}return We(r),null;case 5:if(hl(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&si(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return We(r),null}if(i=ee.current,Sa(r))py(r);else{switch(h=du(ae.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}i[It]=r,i[Kt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=i;e:switch(Rt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&si(r)}}return We(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&si(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=ae.current,Sa(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,h=Pt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}i[It]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I0(i.nodeValue,a)),i||pr(r)}else i=du(i).createTextNode(l),i[It]=r,r.stateNode=i}return We(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Sa(r),l!==null&&l.dehydrated!==null){if(i===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=r}else wa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;We(r),h=!1}else h=my(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ii(r),r):(ii(r),null)}if(ii(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),eu(r,r.updateQueue),We(r),null;case 4:return wn(),i===null&&ed(r.stateNode.containerInfo),We(r),null;case 10:return ti(r.type),We(r),null;case 19:if(j(gt),h=r.memoizedState,h===null)return We(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)ja(h,!1);else{if(nt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(f=Ql(i),f!==null){for(r.flags|=128,ja(h,!1),i=f.updateQueue,r.updateQueue=i,eu(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)fy(a,i),a=a.sibling;return F(gt,gt.current&1|2),r.child}i=i.sibling}h.tail!==null&&In()>iu&&(r.flags|=128,l=!0,ja(h,!1),r.lanes=4194304)}else{if(!l)if(i=Ql(f),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,eu(r,i),ja(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!ke)return We(r),null}else 2*In()-h.renderingStartTime>iu&&a!==536870912&&(r.flags|=128,l=!0,ja(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(i=h.last,i!==null?i.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=In(),r.sibling=null,i=gt.current,F(gt,l?i&1|2:i&1),r):(We(r),null);case 22:case 23:return ii(r),tf(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(We(r),r.subtreeFlags&6&&(r.flags|=8192)):We(r),a=r.updateQueue,a!==null&&eu(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&j(yr),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ti(pt),We(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function OA(i,r){switch(qh(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ti(pt),wn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return hl(r),null;case 13:if(ii(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));wa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return j(gt),null;case 4:return wn(),null;case 10:return ti(r.type),null;case 22:case 23:return ii(r),tf(),i!==null&&j(yr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ti(pt),null;case 25:return null;default:return null}}function jv(i,r){switch(qh(r),r.tag){case 3:ti(pt),wn();break;case 26:case 27:case 5:hl(r);break;case 4:wn();break;case 13:ii(r);break;case 19:j(gt);break;case 10:ti(r.type);break;case 22:case 23:ii(r),tf(),i!==null&&j(yr);break;case 24:ti(pt)}}function Va(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&i)===i){l=void 0;var f=a.create,m=a.inst;l=f(),m.destroy=l}a=a.next}while(a!==h)}}catch(v){Fe(r,r.return,v)}}function Di(i,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&i)===i){var m=l.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,h=r;var T=a,C=v;try{C()}catch(k){Fe(h,T,k)}}}l=l.next}while(l!==f)}}catch(k){Fe(r,r.return,k)}}function Vv(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{Cy(r,a)}catch(l){Fe(i,i.return,l)}}}function qv(i,r,a){a.props=Er(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Fe(i,r,l)}}function qa(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(h){Fe(i,r,h)}}function Un(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Fe(i,r,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Fe(i,r,h)}else a.current=null}function Hv(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Fe(i,i.return,h)}}function Nf(i,r,a){try{var l=i.stateNode;XA(l,i.type,a,r),l[Kt]=r}catch(h){Fe(i,i.return,h)}}function Pv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Li(i.type)||i.tag===4}function If(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Pv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Li(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mf(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=fu));else if(l!==4&&(l===27&&Li(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Mf(i,r,a),i=i.sibling;i!==null;)Mf(i,r,a),i=i.sibling}function tu(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&Li(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(tu(i,r,a),i=i.sibling;i!==null;)tu(i,r,a),i=i.sibling}function Gv(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Rt(r,l,a),r[It]=i,r[Kt]=a}catch(f){Fe(i,i.return,f)}}var ai=!1,ot=!1,xf=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Et=null;function NA(i,r){if(i=i.containerInfo,id=Eu,i=ny(i),Nh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var m=0,v=-1,T=-1,C=0,k=0,B=i,D=null;t:for(;;){for(var O;B!==a||h!==0&&B.nodeType!==3||(v=m+h),B!==f||l!==0&&B.nodeType!==3||(T=m+l),B.nodeType===3&&(m+=B.nodeValue.length),(O=B.firstChild)!==null;)D=B,B=O;for(;;){if(B===i)break t;if(D===a&&++C===h&&(v=m),D===f&&++k===l&&(T=m),(O=B.nextSibling)!==null)break;B=D,D=B.parentNode}B=O}a=v===-1||T===-1?null:{start:v,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:i,selectionRange:a},Eu=!1,Et=r;Et!==null;)if(r=Et,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Et=i;else for(;Et!==null;){switch(r=Et,f=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&f!==null){i=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var he=Er(a.type,h,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(he,f),l.__reactInternalSnapshotBeforeUpdate=i}catch(ue){Fe(a,a.return,ue)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)od(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":od(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Et=i;break}Et=r.return}}function $v(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(i,a),l&4&&Va(5,a);break;case 1:if(Oi(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(m){Fe(a,a.return,m)}else{var h=Er(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(h,r,i.__reactInternalSnapshotBeforeUpdate)}catch(m){Fe(a,a.return,m)}}l&64&&Vv(a),l&512&&qa(a,a.return);break;case 3:if(Oi(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Cy(i,r)}catch(m){Fe(a,a.return,m)}}break;case 27:r===null&&l&4&&Gv(a);case 26:case 5:Oi(i,a),r===null&&l&4&&Hv(a),l&512&&qa(a,a.return);break;case 12:Oi(i,a);break;case 13:Oi(i,a),l&4&&Qv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=jA.bind(null,a),iR(i,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){r=r!==null&&r.memoizedState!==null||ot,h=ai;var f=ot;ai=l,(ot=r)&&!f?Ni(i,a,(a.subtreeFlags&8772)!==0):Oi(i,a),ai=h,ot=f}break;case 30:break;default:Oi(i,a)}}function Kv(i){var r=i.alternate;r!==null&&(i.alternate=null,Kv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&hh(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Je=null,Xt=!1;function oi(i,r,a){for(a=a.child;a!==null;)Yv(i,r,a),a=a.sibling}function Yv(i,r,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(la,a)}catch{}switch(a.tag){case 26:ot||Un(a,r),oi(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||Un(a,r);var l=Je,h=Xt;Li(a.type)&&(Je=a.stateNode,Xt=!1),oi(i,r,a),Xa(a.stateNode),Je=l,Xt=h;break;case 5:ot||Un(a,r);case 6:if(l=Je,h=Xt,Je=null,oi(i,r,a),Je=l,Xt=h,Je!==null)if(Xt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(f){Fe(a,r,f)}else try{Je.removeChild(a.stateNode)}catch(f){Fe(a,r,f)}break;case 18:Je!==null&&(Xt?(i=Je,L0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),ro(i)):L0(Je,a.stateNode));break;case 4:l=Je,h=Xt,Je=a.stateNode.containerInfo,Xt=!0,oi(i,r,a),Je=l,Xt=h;break;case 0:case 11:case 14:case 15:ot||Di(2,a,r),ot||Di(4,a,r),oi(i,r,a);break;case 1:ot||(Un(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qv(a,r,l)),oi(i,r,a);break;case 21:oi(i,r,a);break;case 22:ot=(l=ot)||a.memoizedState!==null,oi(i,r,a),ot=l;break;default:oi(i,r,a)}}function Qv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ro(i)}catch(a){Fe(r,r.return,a)}}function IA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Fv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Fv),r;default:throw Error(s(435,i.tag))}}function Uf(i,r){var a=IA(i);r.forEach(function(l){var h=VA.bind(null,i,l);a.has(l)||(a.add(l),l.then(h,h))})}function rn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=i,m=r,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Li(v.type)){Je=v.stateNode,Xt=!1;break e}break;case 5:Je=v.stateNode,Xt=!1;break e;case 3:case 4:Je=v.stateNode.containerInfo,Xt=!0;break e}v=v.return}if(Je===null)throw Error(s(160));Yv(f,m,h),Je=null,Xt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Xv(r,i),r=r.sibling}var An=null;function Xv(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rn(r,i),sn(i),l&4&&(Di(3,i,i.return),Va(3,i),Di(5,i,i.return));break;case 1:rn(r,i),sn(i),l&512&&(ot||a===null||Un(a,a.return)),l&64&&ai&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=An;if(rn(r,i),sn(i),l&512&&(ot||a===null||Un(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ha]||f[It]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Rt(f,l,a),f[It]=i,yt(f),l=f;break e;case"link":var m=G0("link","href",h).get(l+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(f=m[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}f=h.createElement(l),Rt(f,l,a),h.head.appendChild(f);break;case"meta":if(m=G0("meta","content",h).get(l+(a.content||""))){for(v=0;v<m.length;v++)if(f=m[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}f=h.createElement(l),Rt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[It]=i,yt(f),l=f}i.stateNode=l}else F0(h,i.type,i.stateNode);else i.stateNode=P0(h,l,i.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?F0(h,i.type,i.stateNode):P0(h,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Nf(i,i.memoizedProps,a.memoizedProps)}break;case 27:rn(r,i),sn(i),l&512&&(ot||a===null||Un(a,a.return)),a!==null&&l&4&&Nf(i,i.memoizedProps,a.memoizedProps);break;case 5:if(rn(r,i),sn(i),l&512&&(ot||a===null||Un(a,a.return)),i.flags&32){h=i.stateNode;try{Jr(h,"")}catch(O){Fe(i,i.return,O)}}l&4&&i.stateNode!=null&&(h=i.memoizedProps,Nf(i,h,a!==null?a.memoizedProps:h)),l&1024&&(xf=!0);break;case 6:if(rn(r,i),sn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(O){Fe(i,i.return,O)}}break;case 3:if(mu=null,h=An,An=pu(r.containerInfo),rn(r,i),An=h,sn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(r.containerInfo)}catch(O){Fe(i,i.return,O)}xf&&(xf=!1,Zv(i));break;case 4:l=An,An=pu(i.stateNode.containerInfo),rn(r,i),sn(i),An=l;break;case 12:rn(r,i),sn(i);break;case 13:rn(r,i),sn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vf=In()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Uf(i,l)));break;case 22:h=i.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,C=ai,k=ot;if(ai=C||h,ot=k||T,rn(r,i),ot=k,ai=C,sn(i),l&8192)e:for(r=i.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||T||ai||ot||_r(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){T=a=r;try{if(f=T.stateNode,h)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=T.stateNode;var B=T.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(O){Fe(T,T.return,O)}}}else if(r.tag===6){if(a===null){T=r;try{T.stateNode.nodeValue=h?"":T.memoizedProps}catch(O){Fe(T,T.return,O)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Uf(i,a))));break;case 19:rn(r,i),sn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Uf(i,l)));break;case 30:break;case 21:break;default:rn(r,i),sn(i)}}function sn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(Pv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=If(i);tu(i,f,h);break;case 5:var m=a.stateNode;a.flags&32&&(Jr(m,""),a.flags&=-33);var v=If(i);tu(i,v,m);break;case 3:case 4:var T=a.stateNode.containerInfo,C=If(i);Mf(i,C,T);break;default:throw Error(s(161))}}catch(k){Fe(i,i.return,k)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Zv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Zv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Oi(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$v(i,r.alternate,r),r=r.sibling}function _r(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Di(4,r,r.return),_r(r);break;case 1:Un(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&qv(r,r.return,a),_r(r);break;case 27:Xa(r.stateNode);case 26:case 5:Un(r,r.return),_r(r);break;case 22:r.memoizedState===null&&_r(r);break;case 30:_r(r);break;default:_r(r)}i=i.sibling}}function Ni(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=i,f=r,m=f.flags;switch(f.tag){case 0:case 11:case 15:Ni(h,f,a),Va(4,f);break;case 1:if(Ni(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(C){Fe(l,l.return,C)}if(l=f,h=l.updateQueue,h!==null){var v=l.stateNode;try{var T=h.shared.hiddenCallbacks;if(T!==null)for(h.shared.hiddenCallbacks=null,h=0;h<T.length;h++)Ry(T[h],v)}catch(C){Fe(l,l.return,C)}}a&&m&64&&Vv(f),qa(f,f.return);break;case 27:Gv(f);case 26:case 5:Ni(h,f,a),a&&l===null&&m&4&&Hv(f),qa(f,f.return);break;case 12:Ni(h,f,a);break;case 13:Ni(h,f,a),a&&m&4&&Qv(h,f);break;case 22:f.memoizedState===null&&Ni(h,f,a),qa(f,f.return);break;case 30:break;default:Ni(h,f,a)}r=r.sibling}}function kf(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ra(a))}function Lf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ra(i))}function kn(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jv(i,r,a,l),r=r.sibling}function Jv(i,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:kn(i,r,a,l),h&2048&&Va(9,r);break;case 1:kn(i,r,a,l);break;case 3:kn(i,r,a,l),h&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Ra(i)));break;case 12:if(h&2048){kn(i,r,a,l),i=r.stateNode;try{var f=r.memoizedProps,m=f.id,v=f.onPostCommit;typeof v=="function"&&v(m,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){Fe(r,r.return,T)}}else kn(i,r,a,l);break;case 13:kn(i,r,a,l);break;case 23:break;case 22:f=r.stateNode,m=r.alternate,r.memoizedState!==null?f._visibility&2?kn(i,r,a,l):Ha(i,r):f._visibility&2?kn(i,r,a,l):(f._visibility|=2,ys(i,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&kf(m,r);break;case 24:kn(i,r,a,l),h&2048&&Lf(r.alternate,r);break;default:kn(i,r,a,l)}}function ys(i,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=i,m=r,v=a,T=l,C=m.flags;switch(m.tag){case 0:case 11:case 15:ys(f,m,v,T,h),Va(8,m);break;case 23:break;case 22:var k=m.stateNode;m.memoizedState!==null?k._visibility&2?ys(f,m,v,T,h):Ha(f,m):(k._visibility|=2,ys(f,m,v,T,h)),h&&C&2048&&kf(m.alternate,m);break;case 24:ys(f,m,v,T,h),h&&C&2048&&Lf(m.alternate,m);break;default:ys(f,m,v,T,h)}r=r.sibling}}function Ha(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,h=l.flags;switch(l.tag){case 22:Ha(a,l),h&2048&&kf(l.alternate,l);break;case 24:Ha(a,l),h&2048&&Lf(l.alternate,l);break;default:Ha(a,l)}r=r.sibling}}var Pa=8192;function vs(i){if(i.subtreeFlags&Pa)for(i=i.child;i!==null;)Wv(i),i=i.sibling}function Wv(i){switch(i.tag){case 26:vs(i),i.flags&Pa&&i.memoizedState!==null&&mR(An,i.memoizedState,i.memoizedProps);break;case 5:vs(i);break;case 3:case 4:var r=An;An=pu(i.stateNode.containerInfo),vs(i),An=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Pa,Pa=16777216,vs(i),Pa=r):vs(i));break;default:vs(i)}}function e0(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Ga(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Et=l,n0(l,i)}e0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t0(i),i=i.sibling}function t0(i){switch(i.tag){case 0:case 11:case 15:Ga(i),i.flags&2048&&Di(9,i,i.return);break;case 3:Ga(i);break;case 12:Ga(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,nu(i)):Ga(i);break;default:Ga(i)}}function nu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Et=l,n0(l,i)}e0(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Di(8,r,r.return),nu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,nu(r));break;default:nu(r)}i=i.sibling}}function n0(i,r){for(;Et!==null;){var a=Et;switch(a.tag){case 0:case 11:case 15:Di(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ra(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Et=l;else e:for(a=i;Et!==null;){l=Et;var h=l.sibling,f=l.return;if(Kv(l),l===a){Et=null;break e}if(h!==null){h.return=f,Et=h;break e}Et=f}}}var MA={getCacheForType:function(i){var r=Mt(pt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},xA=typeof WeakMap=="function"?WeakMap:Map,je=0,Ke=null,Ae=null,Oe=0,Ve=0,an=null,Ii=!1,Es=!1,zf=!1,li=0,nt=0,Mi=0,Tr=0,Bf=0,En=0,_s=0,Fa=null,Zt=null,jf=!1,Vf=0,iu=1/0,ru=null,xi=null,At=0,Ui=null,Ts=null,Ss=0,qf=0,Hf=null,i0=null,$a=0,Pf=null;function on(){if((je&2)!==0&&Oe!==0)return Oe&-Oe;if(x.T!==null){var i=us;return i!==0?i:Xf()}return Em()}function r0(){En===0&&(En=(Oe&536870912)===0||ke?gm():536870912);var i=vn.current;return i!==null&&(i.flags|=32),En}function ln(i,r,a){(i===Ke&&(Ve===2||Ve===9)||i.cancelPendingCommit!==null)&&(ws(i,0),ki(i,Oe,En,!1)),ca(i,a),((je&2)===0||i!==Ke)&&(i===Ke&&((je&2)===0&&(Tr|=a),nt===4&&ki(i,Oe,En,!1)),Ln(i))}function s0(i,r,a){if((je&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||ua(i,r),h=l?LA(i,r):$f(i,r,!0),f=l;do{if(h===0){Es&&!l&&ki(i,r,0,!1);break}else{if(a=i.current.alternate,f&&!UA(a)){h=$f(i,r,!1),f=!1;continue}if(h===2){if(f=r,i.errorRecoveryDisabledLanes&f)var m=0;else m=i.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){r=m;e:{var v=i;h=Fa;var T=v.current.memoizedState.isDehydrated;if(T&&(ws(v,m).flags|=256),m=$f(v,m,!1),m!==2){if(zf&&!T){v.errorRecoveryDisabledLanes|=f,Tr|=f,h=4;break e}f=Zt,Zt=h,f!==null&&(Zt===null?Zt=f:Zt.push.apply(Zt,f))}h=m}if(f=!1,h!==2)continue}}if(h===1){ws(i,0),ki(i,r,0,!0);break}e:{switch(l=i,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ki(l,r,En,!Ii);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Vf+300-In(),10<h)){if(ki(l,r,En,!Ii),gl(l,0,!0)!==0)break e;l.timeoutHandle=U0(a0.bind(null,l,a,Zt,ru,jf,r,En,Tr,_s,Ii,f,2,-0,0),h);break e}a0(l,a,Zt,ru,jf,r,En,Tr,_s,Ii,f,0,-0,0)}}break}while(!0);Ln(i)}function a0(i,r,a,l,h,f,m,v,T,C,k,B,D,O){if(i.timeoutHandle=-1,B=r.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(Wa={stylesheets:null,count:0,unsuspend:gR},Wv(r),B=yR(),B!==null)){i.cancelPendingCommit=B(d0.bind(null,i,r,f,a,l,h,m,v,T,k,1,D,O)),ki(i,f,m,!C);return}d0(i,r,f,a,l,h,m,v,T)}function UA(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!tn(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ki(i,r,a,l){r&=~Bf,r&=~Tr,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var h=r;0<h;){var f=31-en(h),m=1<<f;l[f]=-1,h&=~m}a!==0&&ym(i,a,r)}function su(){return(je&6)===0?(Ka(0),!1):!0}function Gf(){if(Ae!==null){if(Ve===0)var i=Ae.return;else i=Ae,ei=gr=null,of(i),gs=null,za=0,i=Ae;for(;i!==null;)jv(i.alternate,i),i=i.return;Ae=null}}function ws(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,JA(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Gf(),Ke=i,Ae=a=Zn(i.current,null),Oe=r,Ve=0,an=null,Ii=!1,Es=ua(i,r),zf=!1,_s=En=Bf=Tr=Mi=nt=0,Zt=Fa=null,jf=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var h=31-en(l),f=1<<h;r|=i[h],l&=~f}return li=r,Cl(),a}function o0(i,r){we=null,x.H=$l,r===Da||r===Ll?(r=by(),Ve=3):r===Ty?(r=by(),Ve=4):Ve=r===Av?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,an=r,Ae===null&&(nt=1,Zl(i,pn(r,i.current)))}function l0(){var i=x.H;return x.H=$l,i===null?$l:i}function u0(){var i=x.A;return x.A=MA,i}function Ff(){nt=4,Ii||(Oe&4194048)!==Oe&&vn.current!==null||(Es=!0),(Mi&134217727)===0&&(Tr&134217727)===0||Ke===null||ki(Ke,Oe,En,!1)}function $f(i,r,a){var l=je;je|=2;var h=l0(),f=u0();(Ke!==i||Oe!==r)&&(ru=null,ws(i,r)),r=!1;var m=nt;e:do try{if(Ve!==0&&Ae!==null){var v=Ae,T=an;switch(Ve){case 8:Gf(),m=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(r=!0);var C=Ve;if(Ve=0,an=null,bs(i,v,T,C),a&&Es){m=0;break e}break;default:C=Ve,Ve=0,an=null,bs(i,v,T,C)}}kA(),m=nt;break}catch(k){o0(i,k)}while(!0);return r&&i.shellSuspendCounter++,ei=gr=null,je=l,x.H=h,x.A=f,Ae===null&&(Ke=null,Oe=0,Cl()),m}function kA(){for(;Ae!==null;)c0(Ae)}function LA(i,r){var a=je;je|=2;var l=l0(),h=u0();Ke!==i||Oe!==r?(ru=null,iu=In()+500,ws(i,r)):Es=ua(i,r);e:do try{if(Ve!==0&&Ae!==null){r=Ae;var f=an;t:switch(Ve){case 1:Ve=0,an=null,bs(i,r,f,1);break;case 2:case 9:if(Sy(f)){Ve=0,an=null,h0(r);break}r=function(){Ve!==2&&Ve!==9||Ke!==i||(Ve=7),Ln(i)},f.then(r,r);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Sy(f)?(Ve=0,an=null,h0(r)):(Ve=0,an=null,bs(i,r,f,7));break;case 5:var m=null;switch(Ae.tag){case 26:m=Ae.memoizedState;case 5:case 27:var v=Ae;if(!m||$0(m)){Ve=0,an=null;var T=v.sibling;if(T!==null)Ae=T;else{var C=v.return;C!==null?(Ae=C,au(C)):Ae=null}break t}}Ve=0,an=null,bs(i,r,f,5);break;case 6:Ve=0,an=null,bs(i,r,f,6);break;case 8:Gf(),nt=6;break e;default:throw Error(s(462))}}zA();break}catch(k){o0(i,k)}while(!0);return ei=gr=null,x.H=l,x.A=h,je=a,Ae!==null?0:(Ke=null,Oe=0,Cl(),nt)}function zA(){for(;Ae!==null&&!s1();)c0(Ae)}function c0(i){var r=zv(i.alternate,i,li);i.memoizedProps=i.pendingProps,r===null?au(i):Ae=r}function h0(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=Iv(a,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=Iv(a,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:of(r);default:jv(a,r),r=Ae=fy(r,li),r=zv(a,r,li)}i.memoizedProps=i.pendingProps,r===null?au(i):Ae=r}function bs(i,r,a,l){ei=gr=null,of(r),gs=null,za=0;var h=r.return;try{if(RA(i,h,r,a,Oe)){nt=1,Zl(i,pn(a,i.current)),Ae=null;return}}catch(f){if(h!==null)throw Ae=h,f;nt=1,Zl(i,pn(a,i.current)),Ae=null;return}r.flags&32768?(ke||l===1?i=!0:Es||(Oe&536870912)!==0?i=!1:(Ii=i=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),f0(r,i)):au(r)}function au(i){var r=i;do{if((r.flags&32768)!==0){f0(r,Ii);return}i=r.return;var a=DA(r.alternate,r,li);if(a!==null){Ae=a;return}if(r=r.sibling,r!==null){Ae=r;return}Ae=r=i}while(r!==null);nt===0&&(nt=5)}function f0(i,r){do{var a=OA(i.alternate,i);if(a!==null){a.flags&=32767,Ae=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Ae=i;return}Ae=i=a}while(i!==null);nt=6,Ae=null}function d0(i,r,a,l,h,f,m,v,T){i.cancelPendingCommit=null;do ou();while(At!==0);if((je&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=kh,g1(i,a,f,m,v,T),i===Ke&&(Ae=Ke=null,Oe=0),Ts=r,Ui=i,Ss=a,qf=f,Hf=h,i0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qA(fl,function(){return v0(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=x.T,x.T=null,h=Q.p,Q.p=2,m=je,je|=4;try{NA(i,r,a)}finally{je=m,Q.p=h,x.T=l}}At=1,p0(),g0(),m0()}}function p0(){if(At===1){At=0;var i=Ui,r=Ts,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=x.T,x.T=null;var l=Q.p;Q.p=2;var h=je;je|=4;try{Xv(r,i);var f=rd,m=ny(i.containerInfo),v=f.focusedElem,T=f.selectionRange;if(m!==v&&v&&v.ownerDocument&&ty(v.ownerDocument.documentElement,v)){if(T!==null&&Nh(v)){var C=T.start,k=T.end;if(k===void 0&&(k=C),"selectionStart"in v)v.selectionStart=C,v.selectionEnd=Math.min(k,v.value.length);else{var B=v.ownerDocument||document,D=B&&B.defaultView||window;if(D.getSelection){var O=D.getSelection(),he=v.textContent.length,ue=Math.min(T.start,he),Ge=T.end===void 0?ue:Math.min(T.end,he);!O.extend&&ue>Ge&&(m=Ge,Ge=ue,ue=m);var b=ey(v,ue),w=ey(v,Ge);if(b&&w&&(O.rangeCount!==1||O.anchorNode!==b.node||O.anchorOffset!==b.offset||O.focusNode!==w.node||O.focusOffset!==w.offset)){var R=B.createRange();R.setStart(b.node,b.offset),O.removeAllRanges(),ue>Ge?(O.addRange(R),O.extend(w.node,w.offset)):(R.setEnd(w.node,w.offset),O.addRange(R))}}}}for(B=[],O=v;O=O.parentNode;)O.nodeType===1&&B.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<B.length;v++){var L=B[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Eu=!!id,rd=id=null}finally{je=h,Q.p=l,x.T=a}}i.current=r,At=2}}function g0(){if(At===2){At=0;var i=Ui,r=Ts,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=x.T,x.T=null;var l=Q.p;Q.p=2;var h=je;je|=4;try{$v(i,r.alternate,r)}finally{je=h,Q.p=l,x.T=a}}At=3}}function m0(){if(At===4||At===3){At=0,a1();var i=Ui,r=Ts,a=Ss,l=i0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?At=5:(At=0,Ts=Ui=null,y0(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(xi=null),uh(a),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(la,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=x.T,h=Q.p,Q.p=2,x.T=null;try{for(var f=i.onRecoverableError,m=0;m<l.length;m++){var v=l[m];f(v.value,{componentStack:v.stack})}}finally{x.T=r,Q.p=h}}(Ss&3)!==0&&ou(),Ln(i),h=i.pendingLanes,(a&4194090)!==0&&(h&42)!==0?i===Pf?$a++:($a=0,Pf=i):$a=0,Ka(0)}}function y0(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Ra(r)))}function ou(i){return p0(),g0(),m0(),v0()}function v0(){if(At!==5)return!1;var i=Ui,r=qf;qf=0;var a=uh(Ss),l=x.T,h=Q.p;try{Q.p=32>a?32:a,x.T=null,a=Hf,Hf=null;var f=Ui,m=Ss;if(At=0,Ts=Ui=null,Ss=0,(je&6)!==0)throw Error(s(331));var v=je;if(je|=4,t0(f.current),Jv(f,f.current,m,a),je=v,Ka(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(la,f)}catch{}return!0}finally{Q.p=h,x.T=l,y0(i,r)}}function E0(i,r,a){r=pn(a,r),r=Tf(i.stateNode,r,2),i=bi(i,r,2),i!==null&&(ca(i,2),Ln(i))}function Fe(i,r,a){if(i.tag===3)E0(i,i,a);else for(;r!==null;){if(r.tag===3){E0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){i=pn(a,i),a=wv(2),l=bi(r,a,2),l!==null&&(bv(a,l,r,i),ca(l,2),Ln(l));break}}r=r.return}}function Kf(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new xA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(zf=!0,h.add(a),i=BA.bind(null,i,r,a),r.then(i,i))}function BA(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ke===i&&(Oe&a)===a&&(nt===4||nt===3&&(Oe&62914560)===Oe&&300>In()-Vf?(je&2)===0&&ws(i,0):Bf|=a,_s===Oe&&(_s=0)),Ln(i)}function _0(i,r){r===0&&(r=mm()),i=ss(i,r),i!==null&&(ca(i,r),Ln(i))}function jA(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),_0(i,a)}function VA(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,h=i.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),_0(i,a)}function qA(i,r){return sh(i,r)}var lu=null,As=null,Yf=!1,uu=!1,Qf=!1,Sr=0;function Ln(i){i!==As&&i.next===null&&(As===null?lu=As=i:As=As.next=i),uu=!0,Yf||(Yf=!0,PA())}function Ka(i,r){if(!Qf&&uu){Qf=!0;do for(var a=!1,l=lu;l!==null;){if(i!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var m=l.suspendedLanes,v=l.pingedLanes;f=(1<<31-en(42|i)+1)-1,f&=h&~(m&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,b0(l,f))}else f=Oe,f=gl(l,l===Ke?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ua(l,f)||(a=!0,b0(l,f));l=l.next}while(a);Qf=!1}}function HA(){T0()}function T0(){uu=Yf=!1;var i=0;Sr!==0&&(ZA()&&(i=Sr),Sr=0);for(var r=In(),a=null,l=lu;l!==null;){var h=l.next,f=S0(l,r);f===0?(l.next=null,a===null?lu=h:a.next=h,h===null&&(As=a)):(a=l,(i!==0||(f&3)!==0)&&(uu=!0)),l=h}Ka(i)}function S0(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,h=i.expirationTimes,f=i.pendingLanes&-62914561;0<f;){var m=31-en(f),v=1<<m,T=h[m];T===-1?((v&a)===0||(v&l)!==0)&&(h[m]=p1(v,r)):T<=r&&(i.expiredLanes|=v),f&=~v}if(r=Ke,a=Oe,a=gl(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Ve===2||Ve===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&ah(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ua(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&ah(l),uh(a)){case 2:case 8:a=dm;break;case 32:a=fl;break;case 268435456:a=pm;break;default:a=fl}return l=w0.bind(null,i),a=sh(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&ah(l),i.callbackPriority=2,i.callbackNode=null,2}function w0(i,r){if(At!==0&&At!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(ou()&&i.callbackNode!==a)return null;var l=Oe;return l=gl(i,i===Ke?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(s0(i,l,r),S0(i,In()),i.callbackNode!=null&&i.callbackNode===a?w0.bind(null,i):null)}function b0(i,r){if(ou())return null;s0(i,r,!0)}function PA(){WA(function(){(je&6)!==0?sh(fm,HA):T0()})}function Xf(){return Sr===0&&(Sr=gm()),Sr}function A0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_l(""+i)}function R0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function GA(i,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=A0((h[Kt]||null).action),m=l.submitter;m&&(r=(r=m[Kt]||null)?A0(r.formAction):m.getAttribute("formAction"),r!==null&&(f=r,m=null));var v=new bl("action","action",null,l,h);i.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sr!==0){var T=m?R0(h,m):new FormData(h);mf(a,{pending:!0,data:T,method:h.method,action:f},null,T)}}else typeof f=="function"&&(v.preventDefault(),T=m?R0(h,m):new FormData(h),mf(a,{pending:!0,data:T,method:h.method,action:f},f,T))},currentTarget:h}]})}}for(var Zf=0;Zf<Uh.length;Zf++){var Jf=Uh[Zf],FA=Jf.toLowerCase(),$A=Jf[0].toUpperCase()+Jf.slice(1);bn(FA,"on"+$A)}bn(sy,"onAnimationEnd"),bn(ay,"onAnimationIteration"),bn(oy,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(uA,"onTransitionRun"),bn(cA,"onTransitionStart"),bn(hA,"onTransitionCancel"),bn(ly,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ya));function C0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var m=l.length-1;0<=m;m--){var v=l[m],T=v.instance,C=v.currentTarget;if(v=v.listener,T!==f&&h.isPropagationStopped())break e;f=v,h.currentTarget=C;try{f(h)}catch(k){Xl(k)}h.currentTarget=null,f=T}else for(m=0;m<l.length;m++){if(v=l[m],T=v.instance,C=v.currentTarget,v=v.listener,T!==f&&h.isPropagationStopped())break e;f=v,h.currentTarget=C;try{f(h)}catch(k){Xl(k)}h.currentTarget=null,f=T}}}}function Re(i,r){var a=r[ch];a===void 0&&(a=r[ch]=new Set);var l=i+"__bubble";a.has(l)||(D0(r,i,2,!1),a.add(l))}function Wf(i,r,a){var l=0;r&&(l|=4),D0(a,i,l,r)}var cu="_reactListening"+Math.random().toString(36).slice(2);function ed(i){if(!i[cu]){i[cu]=!0,Tm.forEach(function(a){a!=="selectionchange"&&(KA.has(a)||Wf(a,!1,i),Wf(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[cu]||(r[cu]=!0,Wf("selectionchange",!1,r))}}function D0(i,r,a,l){switch(J0(r)){case 2:var h=_R;break;case 8:h=TR;break;default:h=pd}a=h.bind(null,r,a,i),h=void 0,!Th||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?i.addEventListener(r,a,{capture:!0,passive:h}):i.addEventListener(r,a,!0):h!==void 0?i.addEventListener(r,a,{passive:h}):i.addEventListener(r,a,!1)}function td(i,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var v=l.stateNode.containerInfo;if(v===h)break;if(m===4)for(m=l.return;m!==null;){var T=m.tag;if((T===3||T===4)&&m.stateNode.containerInfo===h)return;m=m.return}for(;v!==null;){if(m=$r(v),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){l=f=m;continue e}v=v.parentNode}}l=l.return}km(function(){var C=f,k=Eh(a),B=[];e:{var D=uy.get(i);if(D!==void 0){var O=bl,he=i;switch(i){case"keypress":if(Sl(a)===0)break e;case"keydown":case"keyup":O=q1;break;case"focusin":he="focus",O=Ah;break;case"focusout":he="blur",O=Ah;break;case"beforeblur":case"afterblur":O=Ah;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=O1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=G1;break;case sy:case ay:case oy:O=M1;break;case ly:O=$1;break;case"scroll":case"scrollend":O=C1;break;case"wheel":O=Y1;break;case"copy":case"cut":case"paste":O=U1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Vm;break;case"toggle":case"beforetoggle":O=X1}var ue=(r&4)!==0,Ge=!ue&&(i==="scroll"||i==="scrollend"),b=ue?D!==null?D+"Capture":null:D;ue=[];for(var w=C,R;w!==null;){var L=w;if(R=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||R===null||b===null||(L=da(w,b),L!=null&&ue.push(Qa(w,L,R))),Ge)break;w=w.return}0<ue.length&&(D=new O(D,he,null,a,k),B.push({event:D,listeners:ue}))}}if((r&7)===0){e:{if(D=i==="mouseover"||i==="pointerover",O=i==="mouseout"||i==="pointerout",D&&a!==vh&&(he=a.relatedTarget||a.fromElement)&&($r(he)||he[Fr]))break e;if((O||D)&&(D=k.window===k?k:(D=k.ownerDocument)?D.defaultView||D.parentWindow:window,O?(he=a.relatedTarget||a.toElement,O=C,he=he?$r(he):null,he!==null&&(Ge=u(he),ue=he.tag,he!==Ge||ue!==5&&ue!==27&&ue!==6)&&(he=null)):(O=null,he=C),O!==he)){if(ue=Bm,L="onMouseLeave",b="onMouseEnter",w="mouse",(i==="pointerout"||i==="pointerover")&&(ue=Vm,L="onPointerLeave",b="onPointerEnter",w="pointer"),Ge=O==null?D:fa(O),R=he==null?D:fa(he),D=new ue(L,w+"leave",O,a,k),D.target=Ge,D.relatedTarget=R,L=null,$r(k)===C&&(ue=new ue(b,w+"enter",he,a,k),ue.target=R,ue.relatedTarget=Ge,L=ue),Ge=L,O&&he)t:{for(ue=O,b=he,w=0,R=ue;R;R=Rs(R))w++;for(R=0,L=b;L;L=Rs(L))R++;for(;0<w-R;)ue=Rs(ue),w--;for(;0<R-w;)b=Rs(b),R--;for(;w--;){if(ue===b||b!==null&&ue===b.alternate)break t;ue=Rs(ue),b=Rs(b)}ue=null}else ue=null;O!==null&&O0(B,D,O,ue,!1),he!==null&&Ge!==null&&O0(B,Ge,he,ue,!0)}}e:{if(D=C?fa(C):window,O=D.nodeName&&D.nodeName.toLowerCase(),O==="select"||O==="input"&&D.type==="file")var ie=Ym;else if($m(D))if(Qm)ie=aA;else{ie=rA;var be=iA}else O=D.nodeName,!O||O.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?C&&yh(C.elementType)&&(ie=Ym):ie=sA;if(ie&&(ie=ie(i,C))){Km(B,ie,a,k);break e}be&&be(i,D,C),i==="focusout"&&C&&D.type==="number"&&C.memoizedProps.value!=null&&mh(D,"number",D.value)}switch(be=C?fa(C):window,i){case"focusin":($m(be)||be.contentEditable==="true")&&(ns=be,Ih=C,Ta=null);break;case"focusout":Ta=Ih=ns=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,iy(B,a,k);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":iy(B,a,k)}var se;if(Ch)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else ts?Gm(i,a)&&(ce="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ce="onCompositionStart");ce&&(qm&&a.locale!=="ko"&&(ts||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&ts&&(se=Lm()):(_i=k,Sh="value"in _i?_i.value:_i.textContent,ts=!0)),be=hu(C,ce),0<be.length&&(ce=new jm(ce,i,null,a,k),B.push({event:ce,listeners:be}),se?ce.data=se:(se=Fm(a),se!==null&&(ce.data=se)))),(se=J1?W1(i,a):eA(i,a))&&(ce=hu(C,"onBeforeInput"),0<ce.length&&(be=new jm("onBeforeInput","beforeinput",null,a,k),B.push({event:be,listeners:ce}),be.data=se)),GA(B,i,C,a,k)}C0(B,r)})}function Qa(i,r,a){return{instance:i,listener:r,currentTarget:a}}function hu(i,r){for(var a=r+"Capture",l=[];i!==null;){var h=i,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=da(i,a),h!=null&&l.unshift(Qa(i,h,f)),h=da(i,r),h!=null&&l.push(Qa(i,h,f))),i.tag===3)return l;i=i.return}return[]}function Rs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function O0(i,r,a,l,h){for(var f=r._reactName,m=[];a!==null&&a!==l;){var v=a,T=v.alternate,C=v.stateNode;if(v=v.tag,T!==null&&T===l)break;v!==5&&v!==26&&v!==27||C===null||(T=C,h?(C=da(a,f),C!=null&&m.unshift(Qa(a,C,T))):h||(C=da(a,f),C!=null&&m.push(Qa(a,C,T)))),a=a.return}m.length!==0&&i.push({event:r,listeners:m})}var YA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function N0(i){return(typeof i=="string"?i:""+i).replace(YA,`
`).replace(QA,"")}function I0(i,r){return r=N0(r),N0(i)===r}function fu(){}function Pe(i,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Jr(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Jr(i,""+l);break;case"className":yl(i,"class",l);break;case"tabIndex":yl(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yl(i,a,l);break;case"style":xm(i,l,f);break;case"data":if(r!=="object"){yl(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=_l(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Pe(i,r,"name",h.name,h,null),Pe(i,r,"formEncType",h.formEncType,h,null),Pe(i,r,"formMethod",h.formMethod,h,null),Pe(i,r,"formTarget",h.formTarget,h,null)):(Pe(i,r,"encType",h.encType,h,null),Pe(i,r,"method",h.method,h,null),Pe(i,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=_l(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=fu);break;case"onScroll":l!=null&&Re("scroll",i);break;case"onScrollEnd":l!=null&&Re("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=_l(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Re("beforetoggle",i),Re("toggle",i),ml(i,"popover",l);break;case"xlinkActuate":Qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ml(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=A1.get(a)||a,ml(i,a,l))}}function nd(i,r,a,l,h,f){switch(a){case"style":xm(i,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Jr(i,l):(typeof l=="number"||typeof l=="bigint")&&Jr(i,""+l);break;case"onScroll":l!=null&&Re("scroll",i);break;case"onScrollEnd":l!=null&&Re("scrollend",i);break;case"onClick":l!=null&&(i.onclick=fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=i[Kt]||null,f=f!=null?f[a]:null,typeof f=="function"&&i.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,h);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):ml(i,a,l)}}}function Rt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",i),Re("load",i);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var m=a[f];if(m!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Pe(i,r,f,m,a,null)}}h&&Pe(i,r,"srcSet",a.srcSet,a,null),l&&Pe(i,r,"src",a.src,a,null);return;case"input":Re("invalid",i);var v=f=m=h=null,T=null,C=null;for(l in a)if(a.hasOwnProperty(l)){var k=a[l];if(k!=null)switch(l){case"name":h=k;break;case"type":m=k;break;case"checked":T=k;break;case"defaultChecked":C=k;break;case"value":f=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,r));break;default:Pe(i,r,l,k,a,null)}}Om(i,f,v,T,C,m,h,!1),vl(i);return;case"select":Re("invalid",i),l=m=f=null;for(h in a)if(a.hasOwnProperty(h)&&(v=a[h],v!=null))switch(h){case"value":f=v;break;case"defaultValue":m=v;break;case"multiple":l=v;default:Pe(i,r,h,v,a,null)}r=f,a=m,i.multiple=!!l,r!=null?Zr(i,!!l,r,!1):a!=null&&Zr(i,!!l,a,!0);return;case"textarea":Re("invalid",i),f=h=l=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":l=v;break;case"defaultValue":h=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Pe(i,r,m,v,a,null)}Im(i,l,h,f),vl(i);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Pe(i,r,T,l,a,null)}return;case"dialog":Re("beforetoggle",i),Re("toggle",i),Re("cancel",i),Re("close",i);break;case"iframe":case"object":Re("load",i);break;case"video":case"audio":for(l=0;l<Ya.length;l++)Re(Ya[l],i);break;case"image":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"embed":case"source":case"link":Re("error",i),Re("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Pe(i,r,C,l,a,null)}return;default:if(yh(r)){for(k in a)a.hasOwnProperty(k)&&(l=a[k],l!==void 0&&nd(i,r,k,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Pe(i,r,v,l,a,null))}function XA(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,m=null,v=null,T=null,C=null,k=null;for(O in a){var B=a[O];if(a.hasOwnProperty(O)&&B!=null)switch(O){case"checked":break;case"value":break;case"defaultValue":T=B;default:l.hasOwnProperty(O)||Pe(i,r,O,null,l,B)}}for(var D in l){var O=l[D];if(B=a[D],l.hasOwnProperty(D)&&(O!=null||B!=null))switch(D){case"type":f=O;break;case"name":h=O;break;case"checked":C=O;break;case"defaultChecked":k=O;break;case"value":m=O;break;case"defaultValue":v=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,r));break;default:O!==B&&Pe(i,r,D,O,l,B)}}gh(i,m,v,T,C,k,f,h);return;case"select":O=m=v=D=null;for(f in a)if(T=a[f],a.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":O=T;default:l.hasOwnProperty(f)||Pe(i,r,f,null,l,T)}for(h in l)if(f=l[h],T=a[h],l.hasOwnProperty(h)&&(f!=null||T!=null))switch(h){case"value":D=f;break;case"defaultValue":v=f;break;case"multiple":m=f;default:f!==T&&Pe(i,r,h,f,l,T)}r=v,a=m,l=O,D!=null?Zr(i,!!a,D,!1):!!l!=!!a&&(r!=null?Zr(i,!!a,r,!0):Zr(i,!!a,a?[]:"",!1));return;case"textarea":O=D=null;for(v in a)if(h=a[v],a.hasOwnProperty(v)&&h!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Pe(i,r,v,null,l,h)}for(m in l)if(h=l[m],f=a[m],l.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"value":D=h;break;case"defaultValue":O=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Pe(i,r,m,h,l,f)}Nm(i,D,O);return;case"option":for(var he in a)if(D=a[he],a.hasOwnProperty(he)&&D!=null&&!l.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:Pe(i,r,he,null,l,D)}for(T in l)if(D=l[T],O=a[T],l.hasOwnProperty(T)&&D!==O&&(D!=null||O!=null))switch(T){case"selected":i.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Pe(i,r,T,D,l,O)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in a)D=a[ue],a.hasOwnProperty(ue)&&D!=null&&!l.hasOwnProperty(ue)&&Pe(i,r,ue,null,l,D);for(C in l)if(D=l[C],O=a[C],l.hasOwnProperty(C)&&D!==O&&(D!=null||O!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,r));break;default:Pe(i,r,C,D,l,O)}return;default:if(yh(r)){for(var Ge in a)D=a[Ge],a.hasOwnProperty(Ge)&&D!==void 0&&!l.hasOwnProperty(Ge)&&nd(i,r,Ge,void 0,l,D);for(k in l)D=l[k],O=a[k],!l.hasOwnProperty(k)||D===O||D===void 0&&O===void 0||nd(i,r,k,D,l,O);return}}for(var b in a)D=a[b],a.hasOwnProperty(b)&&D!=null&&!l.hasOwnProperty(b)&&Pe(i,r,b,null,l,D);for(B in l)D=l[B],O=a[B],!l.hasOwnProperty(B)||D===O||D==null&&O==null||Pe(i,r,B,D,l,O)}var id=null,rd=null;function du(i){return i.nodeType===9?i:i.ownerDocument}function M0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function sd(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ad=null;function ZA(){var i=window.event;return i&&i.type==="popstate"?i===ad?!1:(ad=i,!0):(ad=null,!1)}var U0=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,WA=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(i){return k0.resolve(null).then(i).catch(eR)}:U0;function eR(i){setTimeout(function(){throw i})}function Li(i){return i==="head"}function L0(i,r){var a=r,l=0,h=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var m=i.ownerDocument;if(a&1&&Xa(m.documentElement),a&2&&Xa(m.body),a&4)for(a=m.head,Xa(a),m=a.firstChild;m;){var v=m.nextSibling,T=m.nodeName;m[ha]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}if(h===0){i.removeChild(f),ro(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);ro(r)}function od(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),hh(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function tR(i,r,a,l){for(;i.nodeType===1;){var h=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[ha])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(f=i.getAttribute("rel"),f==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(f!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(f=i.getAttribute("src"),(f!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===f)return i}else return i;if(i=Rn(i.nextSibling),i===null)break}return null}function nR(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Rn(i.nextSibling),i===null))return null;return i}function ld(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iR(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Rn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var ud=null;function z0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function B0(i,r,a){switch(r=du(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Xa(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);hh(i)}var _n=new Map,j0=new Set;function pu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ui=Q.d;Q.d={f:rR,r:sR,D:aR,C:oR,L:lR,m:uR,X:hR,S:cR,M:fR};function rR(){var i=ui.f(),r=su();return i||r}function sR(i){var r=Kr(i);r!==null&&r.tag===5&&r.type==="form"?sv(r):ui.r(i)}var Cs=typeof document>"u"?null:document;function V0(i,r,a){var l=Cs;if(l&&typeof r=="string"&&r){var h=dn(r);h='link[rel="'+i+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),j0.has(h)||(j0.add(h),i={rel:i,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Rt(r,"link",i),yt(r),l.head.appendChild(r)))}}function aR(i){ui.D(i),V0("dns-prefetch",i,null)}function oR(i,r){ui.C(i,r),V0("preconnect",i,r)}function lR(i,r,a){ui.L(i,r,a);var l=Cs;if(l&&i&&r){var h='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+dn(a.imageSizes)+'"]')):h+='[href="'+dn(i)+'"]';var f=h;switch(r){case"style":f=Ds(i);break;case"script":f=Os(i)}_n.has(f)||(i=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),_n.set(f,i),l.querySelector(h)!==null||r==="style"&&l.querySelector(Za(f))||r==="script"&&l.querySelector(Ja(f))||(r=l.createElement("link"),Rt(r,"link",i),yt(r),l.head.appendChild(r)))}}function uR(i,r){ui.m(i,r);var a=Cs;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(i)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Os(i)}if(!_n.has(f)&&(i=y({rel:"modulepreload",href:i},r),_n.set(f,i),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ja(f)))return}l=a.createElement("link"),Rt(l,"link",i),yt(l),a.head.appendChild(l)}}}function cR(i,r,a){ui.S(i,r,a);var l=Cs;if(l&&i){var h=Yr(l).hoistableStyles,f=Ds(i);r=r||"default";var m=h.get(f);if(!m){var v={loading:0,preload:null};if(m=l.querySelector(Za(f)))v.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},a),(a=_n.get(f))&&cd(i,a);var T=m=l.createElement("link");yt(T),Rt(T,"link",i),T._p=new Promise(function(C,k){T.onload=C,T.onerror=k}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,gu(m,r,l)}m={type:"stylesheet",instance:m,count:1,state:v},h.set(f,m)}}}function hR(i,r){ui.X(i,r);var a=Cs;if(a&&i){var l=Yr(a).hoistableScripts,h=Os(i),f=l.get(h);f||(f=a.querySelector(Ja(h)),f||(i=y({src:i,async:!0},r),(r=_n.get(h))&&hd(i,r),f=a.createElement("script"),yt(f),Rt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fR(i,r){ui.M(i,r);var a=Cs;if(a&&i){var l=Yr(a).hoistableScripts,h=Os(i),f=l.get(h);f||(f=a.querySelector(Ja(h)),f||(i=y({src:i,async:!0,type:"module"},r),(r=_n.get(h))&&hd(i,r),f=a.createElement("script"),yt(f),Rt(f,"link",i),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function q0(i,r,a,l){var h=(h=ae.current)?pu(h):null;if(!h)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ds(a.href),a=Yr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ds(a.href);var f=Yr(h).hoistableStyles,m=f.get(i);if(m||(h=h.ownerDocument||h,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(i,m),(f=h.querySelector(Za(i)))&&!f._p&&(m.instance=f,m.state.loading=5),_n.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_n.set(i,a),f||dR(h,i,a,m.state))),r&&l===null)throw Error(s(528,""));return m}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Os(a),a=Yr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ds(i){return'href="'+dn(i)+'"'}function Za(i){return'link[rel="stylesheet"]['+i+"]"}function H0(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function dR(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Rt(r,"link",a),yt(r),i.head.appendChild(r))}function Os(i){return'[src="'+dn(i)+'"]'}function Ja(i){return"script[async]"+i}function P0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return r.instance=l,yt(l),l;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),yt(l),Rt(l,"style",h),gu(l,a.precedence,i),r.instance=l;case"stylesheet":h=Ds(a.href);var f=i.querySelector(Za(h));if(f)return r.state.loading|=4,r.instance=f,yt(f),f;l=H0(a),(h=_n.get(h))&&cd(l,h),f=(i.ownerDocument||i).createElement("link"),yt(f);var m=f;return m._p=new Promise(function(v,T){m.onload=v,m.onerror=T}),Rt(f,"link",l),r.state.loading|=4,gu(f,a.precedence,i),r.instance=f;case"script":return f=Os(a.src),(h=i.querySelector(Ja(f)))?(r.instance=h,yt(h),h):(l=a,(h=_n.get(f))&&(l=y({},a),hd(l,h)),i=i.ownerDocument||i,h=i.createElement("script"),yt(h),Rt(h,"link",l),i.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,gu(l,a.precedence,i));return r.instance}function gu(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,m=0;m<l.length;m++){var v=l[m];if(v.dataset.precedence===r)f=v;else if(f!==h)break}f?f.parentNode.insertBefore(i,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function cd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function hd(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var mu=null;function G0(i,r,a){if(mu===null){var l=new Map,h=mu=new Map;h.set(a,l)}else h=mu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),h=0;h<a.length;h++){var f=a[h];if(!(f[ha]||f[It]||i==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(r)||"";m=i+m;var v=l.get(m);v?v.push(f):l.set(m,[f])}}return l}function F0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function pR(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Wa=null;function gR(){}function mR(i,r,a){if(Wa===null)throw Error(s(475));var l=Wa;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ds(a.href),f=i.querySelector(Za(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=yu.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=f,yt(f);return}f=i.ownerDocument||i,a=H0(a),(h=_n.get(h))&&cd(a,h),f=f.createElement("link"),yt(f);var m=f;m._p=new Promise(function(v,T){m.onload=v,m.onerror=T}),Rt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=yu.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function yR(){if(Wa===null)throw Error(s(475));var i=Wa;return i.stylesheets&&i.count===0&&fd(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&fd(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function yu(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var vu=null;function fd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,vu=new Map,r.forEach(vR,i),vu=null,yu.call(i))}function vR(i,r){if(!(r.state.loading&4)){var a=vu.get(i);if(a)var l=a.get(null);else{a=new Map,vu.set(i,a);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var m=h[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}h=r.instance,m=h.getAttribute("data-precedence"),f=a.get(m)||l,f===l&&a.set(null,h),a.set(m,h),this.count++,l=yu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),r.state.loading|=4}}var eo={$$typeof:M,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ER(i,r,a,l,h,f,m,v){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.hiddenUpdates=oh(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function K0(i,r,a,l,h,f,m,v,T,C,k,B){return i=new ER(i,r,a,m,v,T,C,B),r=1,f===!0&&(r|=24),f=nn(3,null,null,r),i.current=f,f.stateNode=i,r=$h(),r.refCount++,i.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Xh(f),i}function Y0(i){return i?(i=as,i):as}function Q0(i,r,a,l,h,f){h=Y0(h),l.context===null?l.context=h:l.pendingContext=h,l=wi(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=bi(i,l,r),a!==null&&(ln(a,i,r),Na(a,i,r))}function X0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function dd(i,r){X0(i,r),(i=i.alternate)&&X0(i,r)}function Z0(i){if(i.tag===13){var r=ss(i,67108864);r!==null&&ln(r,i,67108864),dd(i,67108864)}}var Eu=!0;function _R(i,r,a,l){var h=x.T;x.T=null;var f=Q.p;try{Q.p=2,pd(i,r,a,l)}finally{Q.p=f,x.T=h}}function TR(i,r,a,l){var h=x.T;x.T=null;var f=Q.p;try{Q.p=8,pd(i,r,a,l)}finally{Q.p=f,x.T=h}}function pd(i,r,a,l){if(Eu){var h=gd(l);if(h===null)td(i,r,l,_u,a),W0(i,l);else if(wR(h,i,r,a,l))l.stopPropagation();else if(W0(i,l),r&4&&-1<SR.indexOf(i)){for(;h!==null;){var f=Kr(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=sr(f.pendingLanes);if(m!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var T=1<<31-en(m);v.entanglements[1]|=T,m&=~T}Ln(f),(je&6)===0&&(iu=In()+500,Ka(0))}}break;case 13:v=ss(f,2),v!==null&&ln(v,f,2),su(),dd(f,2)}if(f=gd(l),f===null&&td(i,r,l,_u,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else td(i,r,l,null,a)}}function gd(i){return i=Eh(i),md(i)}var _u=null;function md(i){if(_u=null,i=$r(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return _u=i,null}function J0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(o1()){case fm:return 2;case dm:return 8;case fl:case l1:return 32;case pm:return 268435456;default:return 32}default:return 32}}var yd=!1,zi=null,Bi=null,ji=null,to=new Map,no=new Map,Vi=[],SR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(i,r){switch(i){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":to.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(r.pointerId)}}function io(i,r,a,l,h,f){return i===null||i.nativeEvent!==f?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Kr(r),r!==null&&Z0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),i)}function wR(i,r,a,l,h){switch(r){case"focusin":return zi=io(zi,i,r,a,l,h),!0;case"dragenter":return Bi=io(Bi,i,r,a,l,h),!0;case"mouseover":return ji=io(ji,i,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return to.set(f,io(to.get(f)||null,i,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,no.set(f,io(no.get(f)||null,i,r,a,l,h)),!0}return!1}function eE(i){var r=$r(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,m1(i.priority,function(){if(a.tag===13){var l=on();l=lh(l);var h=ss(a,l);h!==null&&ln(h,a,l),dd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Tu(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=gd(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);vh=l,a.target.dispatchEvent(l),vh=null}else return r=Kr(a),r!==null&&Z0(r),i.blockedOn=a,!1;r.shift()}return!0}function tE(i,r,a){Tu(i)&&a.delete(r)}function bR(){yd=!1,zi!==null&&Tu(zi)&&(zi=null),Bi!==null&&Tu(Bi)&&(Bi=null),ji!==null&&Tu(ji)&&(ji=null),to.forEach(tE),no.forEach(tE)}function Su(i,r){i.blockedOn===r&&(i.blockedOn=null,yd||(yd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bR)))}var wu=null;function nE(i){wu!==i&&(wu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wu===i&&(wu=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],h=i[r+2];if(typeof l!="function"){if(md(l||a)===null)continue;break}var f=Kr(a);f!==null&&(i.splice(r,3),r-=3,mf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ro(i){function r(T){return Su(T,i)}zi!==null&&Su(zi,i),Bi!==null&&Su(Bi,i),ji!==null&&Su(ji,i),to.forEach(r),no.forEach(r);for(var a=0;a<Vi.length;a++){var l=Vi[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<Vi.length&&(a=Vi[0],a.blockedOn===null);)eE(a),a.blockedOn===null&&Vi.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],m=h[Kt]||null;if(typeof f=="function")m||nE(a);else if(m){var v=null;if(f&&f.hasAttribute("formAction")){if(h=f,m=f[Kt]||null)v=m.formAction;else if(md(h)!==null)continue}else v=m.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),nE(a)}}}function vd(i){this._internalRoot=i}bu.prototype.render=vd.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=on();Q0(a,l,i,r,null,null)},bu.prototype.unmount=vd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Q0(i.current,2,null,i,null,null),su(),r[Fr]=null}};function bu(i){this._internalRoot=i}bu.prototype.unstable_scheduleHydration=function(i){if(i){var r=Em();i={blockedOn:null,target:i,priority:r};for(var a=0;a<Vi.length&&r!==0&&r<Vi[a].priority;a++);Vi.splice(a,0,i),a===0&&eE(i)}};var iE=e.version;if(iE!=="19.1.0")throw Error(s(527,iE,"19.1.0"));Q.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var AR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{la=Au.inject(AR),Wt=Au}catch{}}return co.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",h=Ev,f=_v,m=Tv,v=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(m=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(v=r.unstable_transitionCallbacks)),r=K0(i,1,!1,null,null,a,l,h,f,m,v,null),i[Fr]=r.current,ed(i),new vd(r)},co.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,h="",f=Ev,m=_v,v=Tv,T=null,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(C=a.formState)),r=K0(i,1,!0,r,a??null,l,h,f,m,v,T,C),r.context=Y0(null),a=r.current,l=on(),l=lh(l),h=wi(l),h.callback=null,bi(a,h,l),a=l,r.current.lanes=a,ca(r,a),Ln(r),i[Fr]=r.current,ed(i),new bu(r)},co.version="19.1.0",co}var mT;function Y4(){if(mT)return ep.exports;mT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ep.exports=K4(),ep.exports}var Q4=Y4();const X4=yc(Q4);X4.createRoot(document.getElementById("root")).render(H.jsx(Ye.StrictMode,{children:H.jsx(N4,{children:H.jsx(L4,{children:H.jsx(H4,{})})})}));
